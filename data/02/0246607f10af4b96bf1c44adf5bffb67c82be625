<p><img src="https://cdn3.brettterpstra.com/uploads/2025/09/m3preview-rb.7508.jpg" width="800" height="226" style="margin:0 auto;clear:both;" class="header" /></p>
<p>Since leaving Oracle I&rsquo;ve been hard at work on Marked 3, and holy cow it&rsquo;s a <em>huge</em> update.</p>

<p><img src="https://cdn3.brettterpstra.com/uploads/2025/09/marked-icon-300.png"></p>
<p>I expect to have the beta out in the next week or two. When it&rsquo;s ready it will be available as a subscription directly via Paddle or the Mac App Store, and all Setapp users will get it as part of their subscription.</p>

<p>There&rsquo;s a new website up at <a href="https://markedapp.com">markedapp.com</a>, though none of download links will work. Soon, though.</p>

<p>I decided to go with subscription pricing because I want to support continuous development. I haven&rsquo;t charged an upgrade price for almost a decade, so people who paid $10 for the app 10 years ago have gotten all of the improvements for free for years. That&rsquo;s not sustainable for me, and subscriptions mean I don&rsquo;t have to release a new app every year, but rather just constantly improve on it.</p>

<p>Here are some of the highlights that I think make Marked 3 worth paying for. (Marked 2 will continue to function but won&rsquo;t get any more updates.)</p>

<h3 id="custom-rules">Custom Rules</h3>

<p><img src="https://cdn3.brettterpstra.com/uploads/2025/09/custom-rules-1-800.jpg"></p>

<p><img src="https://cdn3.brettterpstra.com/uploads/2025/09/custom-rules-2-400.jpg"></p>
<p>The new Custom Rules setup replaces the old Custom Preprocessor and Custom Processor settings. The old way only allowed one of each, and your only option was to manually enable it or disable it. Now you can have multiple processors that activate automatically based on criterium like file extension, metadata type, or even content detected in the document (regex available!).</p>

<ul>
  <li>Drag and drop a file onto the rules editor to see what rules it triggers</li>
  <li>Select a built-in processor for each rule match</li>
  <li>Many built-in transforms and actions, including search and replace, fix header heirarchy, etc.</li>
  <li>Run multiple scripts/commands (custom pre/processors) in sequence</li>
  <li>Inject JavaScript, text, or HTML</li>
  <li>Set a style for a particular file type</li>
  <li>and more!</li>
</ul>

<h3 id="new-processors">New Processors</h3>

<p>I&rsquo;ve added CommonMark (with GFM extensions) as a default processor, which brings full compatibility with other apps that use CommonMark, such as Bear.</p>

<p>I also added Kramdown, my personal favorite processor. It&rsquo;s 99% compatible with MultiMarkdown syntax, and its major draw for me is  IALs, a special syntax that can apply CSS classes to any element.</p>

<h3 id="docx-madness">DOCX madness</h3>

<p>Marked 2&rsquo;s DOCX export was terrible. It basically just output rich text content into a DOCX container, with no structural information. I&rsquo;ve completely rewritten the DOCX export from the ground up. Not only can Marked 3 output perfect DOCX files with a variety of styling options, it can also open most DOCX files and export them to other formats.</p>

<ul>
  <li>Export clean DOCX with correct structure and built-in styles</li>
  <li>Bi-directional MathML to OMML (Word)</li>
  <li>Convert comments and change tracking to CriticMarkup (also bi-directional)</li>
  <li>Add your own export styles</li>
  <li>Handle DOCX highlights, using a <code class="language-plaintext highlighter-rouge">&lt;mark&gt;</code> tag with appropriate background color</li>
  <li>Syntax highlighting in code blocks is preserved when exporting to Word</li>
  <li>Open DOCX directly in Marked</li>
  <li>In DOCX import, allow highlights to be suppressed when comments are disabled</li>
</ul>

<h3 id="export-profiles">Export Profiles</h3>

<p>Because the export settings are so vast, I&rsquo;ve added &ldquo;Export Profiles.&rdquo; These allow you to save current settings as a profile, making it easy to switch between settings at export time. Every type of export has a dropdown in the save dialog for selecting a profile. You can use it for something as simple as setting a different header logo for different contexts, or for completely different export settings like page margins, markdown link styles, and anything else that affects any of the export formats.</p>

<p>As part of setting this up, I refactored all of the export code to allow for future automation (AppleScript, Shortcuts). Previously Marked couldn&rsquo;t bypass the Save dialog, and all of the export functionality was tied to callbacks. Now it&rsquo;s separate and can be called externally. I&rsquo;m partially finished with AppleScript support for things like <code class="language-plaintext highlighter-rouge">tell app "Marked" to export markdown to PATH with profile "Work"</code>. Still working out the syntax and I&rsquo;ve run into some showstoppers on that, but once I get this release out I&rsquo;ll get back to working on that. All of this will also be applied to Shortcuts actions and the URL handler.</p>

<h3 id="paginated-pdf-magic">Paginated PDF magic</h3>

<p>Marked used to rely on the macOS print system to generate PDFs, which is basically the same as opening an HTML file in Safari and printing to PDF (with a few niceties like customizable headers and footers). I completely rewrote this in Marked 3, which builds the PDF manually, allowing for much more control.</p>

<ul>
  <li>Logos/images in headers and footers</li>
  <li>Footnotes can appear on the page on which they&rsquo;re referenced</li>
  <li>Current heading/section in headers and footers</li>
  <li>Intra-document links work (navigation anchors, Table of Contents)</li>
</ul>

<h3 id="new-export-formats">New export formats</h3>

<ul>
  <li>EPUB with full styling, cover image, and metadata</li>
  <li>TextBundle/TextPack with embedded assets, fully compatible with apps like Ulysses</li>
  <li>Improved RTF export. If you&rsquo;re trying to open in Pages, it&rsquo;s better to export a DOCX and open that, but if you&rsquo;re trying to get rich text into another app, the improved RTF handling will be useful.</li>
</ul>

<h3 id="markdown-dingus">Markdown Dingus</h3>

<p><img src="https://cdn3.brettterpstra.com/uploads/2025/09/markdown-dingus-800.jpg"></p>

<p>Experiment with Marked&rsquo;s different built-in processors and see live rendering of both source code and web preview.</p>

<h3 id="style-stealer">Style Stealer</h3>

<p>Load any web page you like the look of and replicate its styling as a Marked Custom Style. The Style Stealer window accepts a URL, preferably an article/post page with plenty of content, and allows you to hover and click on the main content area of the page. It will grab the styles for existing elements and inject and read any that are missing, getting their computed style (the result of all CSS applied to the page).</p>

<p>It even does a decent job of grabbing custom fonts, including Google Web Fonts.</p>

<h3 id="and-more">And more&hellip;</h3>

<ul>
  <li>Allow user to specify minimum level to include in table of contents</li>
  <li>Display comments (CriticMarkup, Scrivener, Word) in a sidebar instead of inline</li>
  <li>[[Wiki Link]] navigation
    <ul>
      <li>Fully functional back/forward navigation when following links to other Markdown files</li>
      <li>Make missing file links clickable to create a new file</li>
      <li>Show wiki backlinks to current document</li>
    </ul>
  </li>
  <li>Autoscroll now works with a WPM (words per minute) setting, and calculates how many words would fit on the screen with the current style, setting the scroll speed accordingly</li>
  <li>Remove RTFD export option. RTFD will be automatically selected when the export includes images</li>
  <li>Custom Processor Log changed to Custom Rules Log, showing what rules run and any errors</li>
  <li>Change reading speed right from the detailed stats window</li>
</ul>

<h3 id="the-rest">The rest</h3>

<p>I might as well stick the rest of the changelog in here&hellip; there will almost definitely be more to add by the time the final release is ready, but I&rsquo;m one step away from beta, so this is a pretty complete list.</p>

<h4 id="new">NEW</h4>

<ul>
  <li>Syntax highlighting for CSS and JSON fields</li>
  <li>Custom Styles can be dragged and dropped on the Settings window to add them</li>
  <li>Display a message when an empty file is opened</li>
  <li>Import/Export all preferences as a JSON file</li>
</ul>

<h4 id="improved">IMPROVED</h4>

<ul>
  <li>Reorderable custom Styles</li>
  <li>Button visibility in Settings</li>
  <li>Double click to rename Custom Styles in menu</li>
  <li>Performance improvements for lined text views</li>
  <li>Hide advanced config options when MathJax is disabled</li>
  <li>Ignore non-numeric values in reading speed text field</li>
  <li>Suppress open dialog when opening a file</li>
  <li>Scrivener import will convert single-cell tables (used for asides) into block quotes</li>
  <li>When exporting, convert non-built-in fonts to equivalent system fonts</li>
  <li>Better regex for detecting highlights and deletions in text</li>
  <li>Completely rewritten Scrivener import, faster and with no reliance on Ruby or Python</li>
  <li>Rewritten CriticMarkup handling, all native, no reliance on external scripts or tools</li>
  <li>Detailed stats view UI adjustments</li>
  <li>Native mmd_merge handler</li>
  <li>Hold option to set debug logging level from the Help menu</li>
  <li>Additional documentation about debugging and support requests</li>
  <li>Store current autoscroll speed as a global preference instead of preview-specific value, ensuring consistent behavior across previews and maintaining preferences across launches.</li>
  <li>Markdown export can optionally wrap text at a specified width</li>
  <li>Markdown export can optionally convert inline links to reference links</li>
  <li>Change default file extension for markdown export to &ldquo;.md&rdquo;</li>
  <li>Clean up Markdown export, especially for Word files</li>
  <li>Better handling when custom processors are disabled or not available</li>
  <li>Save assets to subfolder when exporting HTML, OPML, or Markdown</li>
  <li>Substitute Goldilocks (Bear style) for Multi-Column</li>
  <li>Handle proper conversion of Pandoc % metadata</li>
  <li>Make document metadata available as MD_keyname environment variables to custom Run Command and Run Embedded Script actions</li>
  <li>Improved conversion of existing custom processor settings to the new Custom Rules format</li>
</ul>

<h4 id="fixed">FIXED</h4>

<ul>
  <li>Help document list item link styling</li>
  <li>Tab order in Proofreading Settings</li>
  <li>Paragraphs generated by DOCX converter that start with <code class="language-plaintext highlighter-rouge">&lt;mark&gt;</code> not being properly handled by MultiMarkdown</li>
  <li>Don&rsquo;t strip query parameters when copying URL with right click or popup menu</li>
  <li>Thread safe accessors for document stats</li>
  <li>Status bar and drawer not changing to dark mode</li>
  <li>Recognize more ways Word inconsistently marks paragraphs as headings</li>
  <li>Handle <code class="language-plaintext highlighter-rouge">metadata</code> document in Scrivener binder as document metadata</li>
  <li>Race condition on filesize</li>
  <li>Don&rsquo;t show open dialog if Welcome screen is opening</li>
  <li>Handle MarsEdit 5 previews</li>
  <li>Handle emphasis with internal spaces when converting HTML to Markdown</li>
  <li>Raw file includes not working</li>
</ul>

<p>Like or share this post <a title="This post on Mastodon" target="_blank" href="https://hachyderm.io/users/ttscoff/statuses/115158386156624043">on Mastodon</a>, <a title="Share on Bluesky" target="_blank" href="https://bsky.app/intent/compose?text=A+quick+look+at+Marked+3%0A%0Ahttps%3A%2F%2Fbrettterpstra.com%2F2025%2F09%2F06%2Fa-quick-look-at-marked-3%2F">Bluesky</a>, or <a class="twitter" target="_blank" rel="nofollow" href="https://twitter.com/intent/tweet?original_referer=https%3A%2F%2Fbrettterpstra.com%2F2025%2F09%2F06%2Fa-quick-look-at-marked-3%2F&text=A+quick+look+at+Marked+3&url=https%3A%2F%2Fbrettterpstra.com%2F2025%2F09%2F06%2Fa-quick-look-at-marked-3%2F&via=ttscoff" title="Tweet this post">Twitter</a>.</p>
<hr style="margin:40px 0">

<p>BrettTerpstra.com is supported by readers like you. <a href="https://brettterpstra.com/support/">Click here if you'd
        like to help out.</a></p>
<p>Find Brett on <a rel="me" href="https://hachyderm.io/@ttscoff">Mastodon</a>, <a
        href="https://bsky.app/profile/ttscoff.bsky.social">Bluesky</a>, <a
        href="https://github.com/ttscoff">GitHub</a>, and <a href="https://brettterpstra.com/elsewhere">everywhere
        else</a>.</p><img src="https://brett.trpstra.net/link/535/17137711.gif" height="1" width="1"/>