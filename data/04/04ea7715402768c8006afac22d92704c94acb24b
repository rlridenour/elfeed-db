<p>
I want to be able to record, stream, screen share, and do speech recognition, possibly all at the same time. If I just try having those processes read directly from my microphone, I find that the audio skips. I'm on Linux, so it turns out that I can set up Pipewire with a virtual audio cable (loopback device) connecting my microphone to a virtual output (null sink) with some latency (100ms seems good) so that multiple applications listening to the null sink can get the audio packets smoothly.
</p>

<p>
I was getting a little confused connecting things to other things, though. <a href="https://github.com/rncbc/qpwgraph">qpwgraph</a> was helpful for starting to understand how everything was actually connected to each other, and also for manually changing the connections on the fly.
</p>


<figure id="orgfa7954b">
<a href="https://sachachua.com/blog/2026/01/visualizing-and-managing-pipewire-audio-graphs-from-emacs/2026-01-13_10-06-59.png"><img src="https://sachachua.com/blog/2026/01/visualizing-and-managing-pipewire-audio-graphs-from-emacs/2026-01-13_10-06-59.png" alt="2026-01-13_10-06-59.png"></a>

<figcaption><span class="figure-number">Figure 1: </span>qpwgraph screenshot</figcaption>
</figure>

<p>
Like with other graphical applications, I found myself wondering: could I do this in Emacs instead? I wanted to just focus on a small set of the nodes. For example, I didn't need all of the lines connecting to the volume control apps. I also wanted the ability to focus on whichever nodes were connected to my microphone.
</p>

<p>
Unsurprisingly, there is a pipewire package in MELPA.
</p>


<figure id="org5c97968">
<a href="https://sachachua.com/blog/2026/01/visualizing-and-managing-pipewire-audio-graphs-from-emacs/2026-01-14_16-39-37.png"><img src="https://sachachua.com/blog/2026/01/visualizing-and-managing-pipewire-audio-graphs-from-emacs/2026-01-14_16-39-37.png" alt="2026-01-14_16-39-37.png"></a>

<figcaption><span class="figure-number">Figure 2: </span>Screenshot of M-x pipewire from the pipewire package</figcaption>
</figure>

<p>
I want to see and manage the connections between devices, though, so I started working on
<a href="https://github.com/sachac/epwgraph">sachac/epwgraph: Emacs Pipewire graph visualization</a>. This is what <code>epwgraph-show</code> looks like with everything in it:
</p>


<figure id="orgf657b38">
<a href="https://sachachua.com/blog/2026/01/visualizing-and-managing-pipewire-audio-graphs-from-emacs/2026-01-14_16-50-39.png"><img src="https://sachachua.com/blog/2026/01/visualizing-and-managing-pipewire-audio-graphs-from-emacs/2026-01-14_16-50-39.png" alt="2026-01-14_16-50-39.png"></a>

<figcaption><span class="figure-number">Figure 3: </span>epwgraph-show</figcaption>
</figure>

<p>
Let's call it with <code>C-u</code>, which prompts for a regexp of nodes to focus on and another regexp for nodes to exclude. Then I can ignore the volume control:
</p>


<figure id="org9f2b1e2">
<a href="https://sachachua.com/blog/2026/01/visualizing-and-managing-pipewire-audio-graphs-from-emacs/2026-01-14_16-51-16.png"><img src="https://sachachua.com/blog/2026/01/visualizing-and-managing-pipewire-audio-graphs-from-emacs/2026-01-14_16-51-16.png" alt="2026-01-14_16-51-16.png"></a>

<figcaption><span class="figure-number">Figure 4: </span>Ignoring the volume control</figcaption>
</figure>

<p>
I can focus on just the things that are connected to my microphone:
</p>


<figure id="org9b2c3af">
<a href="https://sachachua.com/blog/2026/01/visualizing-and-managing-pipewire-audio-graphs-from-emacs/2026-01-14_16-51-56.png"><img src="https://sachachua.com/blog/2026/01/visualizing-and-managing-pipewire-audio-graphs-from-emacs/2026-01-14_16-51-56.png" alt="2026-01-14_16-51-56.png"></a>

<figcaption><span class="figure-number">Figure 5: </span>Focusing on a regular expression</figcaption>
</figure>

<p>
This also lets me disconnect things with <code>d</code> (<code>epwgraph-disconnect-logical-nodes</code>):
</p>


<figure id="org8375f10">
<a href="https://sachachua.com/blog/2026/01/visualizing-and-managing-pipewire-audio-graphs-from-emacs/2026-01-14_16-52-35.png"><img src="https://sachachua.com/blog/2026/01/visualizing-and-managing-pipewire-audio-graphs-from-emacs/2026-01-14_16-52-35.png" alt="2026-01-14_16-52-35.png"></a>

<figcaption><span class="figure-number">Figure 6: </span>Disconnecting a link</figcaption>
</figure>

<p>
and connect them with <code>c</code> (<code>epwgraph-connect-logical-nodes</code>).
</p>


<figure id="orgf44e42b">
<a href="https://sachachua.com/blog/2026/01/visualizing-and-managing-pipewire-audio-graphs-from-emacs/2026-01-14_16-52-57.png"><img src="https://sachachua.com/blog/2026/01/visualizing-and-managing-pipewire-audio-graphs-from-emacs/2026-01-14_16-52-57.png" alt="2026-01-14_16-52-57.png"></a>

<figcaption><span class="figure-number">Figure 7: </span>Connecting links</figcaption>
</figure>

<p>
I don't have a fancy 5.1 sound systems, so the logic for connecting nodes just maps L and R if possible.
</p>

<p>
Most of the time I just care about the logical devices instead of the specific left and right channels, but I can toggle the display with <code>t</code> so that I can see specific ports:
</p>


<figure id="org07b6f5e">
<a href="https://sachachua.com/blog/2026/01/visualizing-and-managing-pipewire-audio-graphs-from-emacs/2026-01-14_17-17-34.png"><img src="https://sachachua.com/blog/2026/01/visualizing-and-managing-pipewire-audio-graphs-from-emacs/2026-01-14_17-17-34.png" alt="2026-01-14_17-17-34.png"></a>

<figcaption><span class="figure-number">Figure 8: </span>Showing specific ports</figcaption>
</figure>

<p>
and I can use <code>C</code> and <code>D</code> to work with specific ports as well.
</p>


<figure id="org5e05ab3">
<a href="https://sachachua.com/blog/2026/01/visualizing-and-managing-pipewire-audio-graphs-from-emacs/2026-01-14_18-10-55.png"><img src="https://sachachua.com/blog/2026/01/visualizing-and-managing-pipewire-audio-graphs-from-emacs/2026-01-14_18-10-55.png" alt="2026-01-14_18-10-55.png"></a>

<figcaption><span class="figure-number">Figure 9: </span>Connecting specific ports</figcaption>
</figure>

<p>
I usually just want to quickly rewire a node so that it gets its input from a specified device, which I can do with <code>i</code> (<code>epwgraph-rewire-inputs-for-logical-node</code>).
</p>


<figure id="org831dda8">
<a href="https://sachachua.com/blog/2026/01/visualizing-and-managing-pipewire-audio-graphs-from-emacs/output-2026-01-14-17:30:18.gif"><img src="https://sachachua.com/blog/2026/01/visualizing-and-managing-pipewire-audio-graphs-from-emacs/output-2026-01-14-17:30:18.gif" alt="output-2026-01-14-17:30:18.gif"></a>

<figcaption><span class="figure-number">Figure 10: </span>Animated GIF showing how to change the input for a node.</figcaption>
</figure>

<p>
I think this will help me stay sane when I try to scale up my audio configuration to having four or five web conferences going on at the same time, possibly with streaming speech recognition.
</p>

<p>
Ideas for next steps:
</p>

<ul class="org-ul">
<li>I want to be able to set the left/right balance of audio, probably using <code>pactl set-sink-volume &lt;index&gt; left% right%</code></li>
<li>I'd love to be able to click on the graph in order to work with it, like dragging from one box to another in order to create a connection, right-drag to disconnect, or shift-drag to rewire the inputs.</li>
</ul>

<p>
In case this is useful for anyone else:
</p>

<p>
<a href="https://github.com/sachac/epwgraph">sachac/epwgraph: Emacs Pipewire graph visualization</a></p>
<div><a href="https://sachachua.com/blog/2026/01/visualizing-and-managing-pipewire-audio-graphs-from-emacs/index.org">View org source for this post</a></div>
<p>You can <a href="mailto:sacha@sachachua.com?subject=Comment%20on%20https%3A%2F%2Fsachachua.com%2Fblog%2F2026%2F01%2Fvisualizing-and-managing-pipewire-audio-graphs-from-emacs%2F&body=Name%20you%20want%20to%20be%20credited%20by%20(if%20any)%3A%20%0AMessage%3A%20%0ACan%20I%20share%20your%20comment%20so%20other%20people%20can%20learn%20from%20it%3F%20Yes%2FNo%0A">e-mail me at sacha@sachachua.com</a>.</p>