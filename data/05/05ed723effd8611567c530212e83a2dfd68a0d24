
        <p>Related Links :: <span class="label">Tags:</span> <span role="list" aria-label="Tags for “Generating Descriptions of org-insert-link”">
<span role="listitem" aria-label="&ldquo;emacs&rdquo; tag navigation"><a href="https://takeonrules.com/2025/09/14/dynamic-org-mode-block-to-list-books-read/" aria-label="Previous post tagged with &ldquo;emacs&rdquo; is &ldquo;Dynamic Org-Mode Block to List Books Read&rdquo;" title="Older post tagged with &ldquo;emacs&rdquo; is &ldquo;Dynamic Org-Mode Block to List Books Read&rdquo;"><small>&lt;</small></a>
<a href="https://takeonrules.com/tags/emacs/" class="p-category" aria-label="All posts tagged with &ldquo;emacs&rdquo;" title="All posts tagged with &ldquo;emacs&rdquo;">emacs</a> <a href="https://takeonrules.com/2025/09/21/adding-more-link-description-defaults/" aria-label="Next post tagged with &ldquo;emacs&rdquo; is &ldquo;Adding More Link Description Defaults&rdquo;" title="Newer post tagged with &ldquo;emacs&rdquo; is &ldquo;Adding More Link Description Defaults&rdquo;"><small>&gt;</small></a>
</span></span>

</p/><p><strong>Summary: </strong>
Enhancing my #Emacs #OrgMode process by creating a default description based on the context of the link.
</p>
        <p>I’ve created several custom link types for <span><a href="https://orgmode.org/">Org-Mode</a></span> <small><a class="ref" rel="tag opener" aria-label="Other site-wide references of “Org-Mode”" title="Other site-wide references of “Org-Mode”" href="https://takeonrules.com/site-map/glossary/#abbr-dfn-GLOSSARY-ORG-MODE">&#128214;</a></small>
:</p>
<ul>
<li>Glossary</li>
<li>Epigraph</li>
<li>Date</li>
<li>Abbreviation</li>
<li>Work</li>
</ul>
<p>I wrote about some of this in Add Work Link Type to Org-Mode.</p>
<p>One thing that I hadn’t resolved was how to populate those links with a default
description (when none is provided).  The default behavior of <code>org-insert-link</code> is
that <span><a href="https://en.wikipedia.org/wiki/Emacs">Emacs</a></span> <small><a class="ref" rel="tag opener" aria-label="Other site-wide references of “Emacs”" title="Other site-wide references of “Emacs”" href="https://takeonrules.com/site-map/glossary/#abbr-dfn-GLOSSARY-EMACS">&#128214;</a></small>
 prompts me to provide a description.  The default value of that
description is the text of the current region (or <code>nil</code>).</p>
<p>In the case of my Glossary, Abbreviation, and Work types, I wanted the prompt to
default to the value I have in the respective headline (e.g. the work’s title,
the abbreviation, the glossary entry’s title).</p>
<p>What did I need to do?  <a href="https://github.com/jeremyf/dotemacs/blob/d14eebf5b534a689805fef2347217c17d8eefde8/emacs.d/init.el#L976-L981">Add an <code>:insert-description</code> function to the registered
link</a>:</p>
<pre><code class="language-emacs-lisp">(org-link-set-parameters &quot;work&quot;
    :insert-description #'jf/org-link-description/work
    :follow #'jf/org-link-ol-follow/work
    :complete #'jf/org-link-ol-complete/work
    :export #'jf/org-link-ol-export/work
    :face #'jf/org-faces-work)
</code></pre>
<p>Then <a href="https://github.com/jeremyf/dotemacs/blob/d14eebf5b534a689805fef2347217c17d8eefde8/emacs.d/init.el#L983-L1009">the function that looks up the description</a>:</p>
<pre><code class="language-emacs-lisp">(defun jf/org-link-description/work (link desc)
    &quot;Provide default DESC for a work LINK.&quot;
    (if desc
      desc
      (let* ((slugs
               (s-split &quot;::&quot; link))
              (custom-id
                (cadr (s-split &quot;:&quot; (car slugs))))
              (include-author
                (member &quot;author&quot; slugs))
              (include-subtitle
                (member &quot;subtitle&quot; slugs))
              (book-label
                (car (org-map-entries
                       (lambda ()
                         (jf/book-make-label
                           (org-element-property
                             :title (org-element-at-point))
                           (when include-subtitle
                             (org-entry-get
                               (org-element-at-point) &quot;SUBTITLE&quot;))
                           (when include-author
                             (org-entry-get
                               (org-element-at-point) &quot;AUTHOR&quot;))))
                       (format &quot;CUSTOM_ID=\&quot;%s\&quot;&quot; custom-id)
                       `(,jf/filename/bibliography)))))
        book-label)))
</code></pre>
<p>I have other <code>:insert-description</code> overrides I want to make, but figured I’d
share.</p>

	<p><a class="reply-by-email" href="mailto:reply-to@takeonrules.com?subject=RE:Generating%20Descriptions%20of%20org-insert-link">Reply by Email</a></p>

      