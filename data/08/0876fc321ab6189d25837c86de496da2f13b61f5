<p>[Equations in this post may not look right (or appear at all) in your RSS reader. Go to <a href="https://leancrew.com/all-this/2025/10/other-wavy-paths/">the original article</a> to see them rendered properly.]</p>
  <hr />
  <p>I got some good replies on Mastodon after <a href="https://leancrew.com/all-this/2025/10/zigzag-5k/">Saturday’s post</a>. Longtime friend of the blog Nathan Grigg <a href="https://mastodon.social/@nathangrigg/115436733343405659">said</a> he’s always assumed that GPS-measured lengths would be long because no matter how straight your path, the GPS error would make it zigzagged. Then <a href="https://mastodon.social/@whereami/115436905015576353">wherami</a> and <a href="https://hachyderm.io/@thvedt/115446546617139259">thvedt</a> pointed out that the official rules of these events say that the race’s distance is supposed to be measured along the shortest path. If the road is curving left, it should be measured along the left edge; if the road is curving right, it should be measured along the right edge. This makes sense, as you don’t want runners to be able to run less than the official distance. The result is that basically everyone goes farther than the official course distance.</p>
<p>As you can see from this Fitness app screenshot of my route, the 5k at the Morton Arboretum has both right and left curves, so the route measurement must be done carefully if it’s to be by the rules.</p>
<p><img alt="Morton Arboretum 5k route" class="ss" src="https://leancrew.com/all-this/images2025/20251028-Morton%20Arboretum%205k%20route.png" title="Morton Arboretum 5k route" width="100%"/></p>
<p>I began thinking about calculating the length of a zigzag path along a road that went in a circuit. The simplest circuit is a circle, and I thought it would be easier to define my path as a sinusoid within the roadway. Like this:</p>
<p><img alt="Wavy path around a circle" class="ss" src="https://leancrew.com/all-this/images2025/20251027-Wavy%20path%20around%20a%20circle.png" title="Wavy path around a circle" width="80%"/></p>
<p>Following the principle that you should walk before you run, I started with a simpler problem: a sinusoidal path along a straight road.</p>
<p><img alt="Wavy path along a straight road" class="ss" src="https://leancrew.com/all-this/images2025/20251027-Wavy%20path%20along%20a%20straight%20road.png" title="Wavy path along a straight road" width="80%"/></p>
<p>Taking the length of the road as <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi></math> and the width as <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>w</mi></math>, I defined the wavy path as</p>
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><mi>y</mi><mo>=</mo><mfrac><mi>w</mi><mn>2</mn></mfrac><mspace width="0.167em"></mspace><mrow><mo form="prefix" stretchy="true">(</mo><mn>1</mn><mo>−</mo><mi>cos</mi><mrow><mfrac><mrow><mi>n</mi><mi>π</mi><mi>x</mi></mrow><mi>d</mi></mfrac></mrow><mo form="postfix" stretchy="true">)</mo></mrow></math>
<p>where the <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi></math> axis runs along the bottom edge of the road, and the <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>y</mi></math> axis runs across the road.</p>
<p>A differential length of arc is</p>
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi><mi>s</mi><mo>=</mo><msqrt><mrow><mi>d</mi><msup><mi>x</mi><mn>2</mn></msup><mo>+</mo><mi>d</mi><msup><mi>y</mi><mn>2</mn></msup></mrow></msqrt><mo>=</mo><msqrt><mrow><mn>1</mn><mo>+</mo><msup><mrow><mo form="prefix" stretchy="true">(</mo><mfrac><mrow><mi>n</mi><mi>π</mi><mi>w</mi></mrow><mrow><mn>2</mn><mi>d</mi></mrow></mfrac><mo form="postfix" stretchy="true">)</mo></mrow><mn>2</mn></msup><msup><mrow><mi>sin</mi><mo>⁡</mo></mrow><mn>2</mn></msup><mrow><mfrac><mrow><mi>n</mi><mi>π</mi><mi>x</mi></mrow><mi>d</mi></mfrac></mrow></mrow></msqrt><mspace width="0.333em"></mspace><mi>d</mi><mi>x</mi></math>
<p>Integrating this from <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0</mn></math> to <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi></math> gives us the length of the wavy path. This can be done through elliptic integrals, but I’ve never felt comfortable with them, so I just did it numerically, using <math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>d</mi><mo>=</mo><mn>5000</mn></mrow></math>, <math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>w</mi><mo>=</mo><mn>5</mn></mrow></math>, and plugging in different values of <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>n</mi></math> until I got a result of <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>5070</mn></math>, which is, as you might recall, the distance my watch gave as I finished the race.</p>
<p>The answer I got was <math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>n</mi><mo>=</mo><mn>151.5</mn></mrow></math>. Here’s the Mathematica code that got me there:</p>
<p><img alt="Mathematica solution for straight road" class="ss" src="https://leancrew.com/all-this/images2025/20251028-Mathematica%20solution%20for%20straight%20road.png" title="Mathematica solution for straight road" width="90%"/></p>
<p>This is slightly less than the <math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>n</mi><mo>=</mo><mn>167.9</mn></mrow></math> I got in Saturday’s analysis, where I took the path to be a series of straight-line segments. The lower number for a sinusoid makes sense. The path distance from one edge of the road to another is longer when following a sinusoid than when going in a straight line, so it takes fewer zigs and zags to get to a particular distance.</p>
<p>Now let’s tackle the problem of a wavy path along a circular road. Polar coordinates seem like our best bet for this. We’ll define the radial coordinate of the wavy path as</p>
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><mi>r</mi><mo>=</mo><mrow><mo form="prefix" stretchy="true">(</mo><msub><mi>r</mi><mi>i</mi></msub><mo>+</mo><mfrac><mi>w</mi><mn>2</mn></mfrac><mo form="postfix" stretchy="true">)</mo></mrow><mo>−</mo><mfrac><mi>w</mi><mn>2</mn></mfrac><mspace width="0.167em"></mspace><mrow><mi>cos</mi><mo>⁡</mo></mrow><mrow><mfrac><mrow><mi>n</mi><mspace width="0.167em"></mspace><mi>θ</mi></mrow><mn>2</mn></mfrac></mrow></math>
<p>where</p>
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msub><mi>r</mi><mi>i</mi></msub><mo>=</mo><mfrac><mn>5000</mn><mrow><mn>2</mn><mi>π</mi></mrow></mfrac></mrow></math>
<p>is the radius of the inside edge of the circle, the circumference of which is the 5000 m length of the race. We’ll use <math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>w</mi><mo>=</mo><mn>5</mn></mrow></math> as before.</p>
<p>In polar coordinates, differential arc length has a more complicated definition:</p>
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi><mi>s</mi><mo>=</mo><msqrt><mrow><mi>d</mi><msup><mi>r</mi><mn>2</mn></msup><mo>+</mo><mo form="prefix" stretchy="false">(</mo><mi>r</mi><mspace width="0.167em"></mspace><mi>d</mi><mi>θ</mi><msup><mo form="postfix" stretchy="false">)</mo><mn>2</mn></msup></mrow></msqrt><mo>=</mo><msqrt><mrow><msup><mrow><mo form="prefix" stretchy="true">(</mo><mfrac><mrow><mi>n</mi><mi>w</mi></mrow><mn>4</mn></mfrac><mo form="postfix" stretchy="true">)</mo></mrow><mn>2</mn></msup><mspace width="0.167em"></mspace><msup><mrow><mi>sin</mi><mo>⁡</mo></mrow><mn>2</mn></msup><mfrac><mrow><mi>n</mi><mi>θ</mi></mrow><mn>2</mn></mfrac><mo>+</mo><msup><mrow><mo form="prefix" stretchy="true">[</mo><mrow><mo form="prefix" stretchy="true">(</mo><msub><mi>r</mi><mi>i</mi></msub><mo>+</mo><mfrac><mi>w</mi><mn>2</mn></mfrac><mo form="postfix" stretchy="true">)</mo></mrow><mo>−</mo><mfrac><mi>w</mi><mn>2</mn></mfrac><mspace width="0.167em"></mspace><mi>cos</mi><mfrac><mrow><mi>n</mi><mi>θ</mi></mrow><mn>2</mn></mfrac><mo form="postfix" stretchy="true">]</mo></mrow><mn>2</mn></msup></mrow></msqrt><mspace width="0.278em"></mspace><mi>d</mi><mi>θ</mi></math>
<p>Numerical integration of this over <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>θ</mi></math> from <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0</mn></math> to <math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mn>2</mn><mi>π</mi></mrow></math> with different values of <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>n</mi></math> led to a solution of <math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>n</mi><mo>=</mo><mn>133.4</mn></mrow></math> to get a path length of <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>5070</mn></math>. Here’s a screenshot of the Mathematica code:</p>
<p><img alt="Mathematica solution for a circular road" class="ss" src="https://leancrew.com/all-this/images2025/20251028-Mathematica%20solution%20for%20a%20circular%20road.png" title="Mathematica solution for a circular road" width="100%"/></p>
<p>I used <code>t</code> for <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>θ</mi></math> because it’s easier to type.</p>
<p>That this value of <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>n</mi></math> is smaller than for the straight road makes sense because all of the path is beyond the inner edge of the roadway. The waviness is centered on a path that’s already longer than the course.</p>
<p>I suppose I could have set up iterative solutions in Mathematica to get the values of <code>n</code> that led to path lengths of 5070. But <a href="http://reference.wolfram.com/language/ref/NIntegrate.html"><code>NIntegrate</code></a> worked so quickly that it was faster to just work my way to <code>n</code> via trial-and-error.</p>
<p>I should also mention that Mathematica has an <a href="http://reference.wolfram.com/language/ref/ArcLength.html"><code>ArcLength</code></a> function, which seemed at first like the right way to go. But it was <em>extremely</em> slow, possibly because it was trying to get an analytical solution. By doing a little thinking to get the equations for the differential arc length, I saved myself a lot of time.</p>
  
