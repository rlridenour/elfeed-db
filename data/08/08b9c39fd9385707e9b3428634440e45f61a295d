<p>I've continued poking at Emacs 29's sqlite-mode. Since <a href="https://xenodium.com/sqlite-mode-goodies/">my last post on extensions</a>, I've experimented a little with adding a handful of interactive functions:</p>
<ul>
<li><code>sqlite-mode-extras-compose-and-execute</code>: Compose and execute a query.</li>
</ul>
<p><img src="https://xenodium.github.io/images/further-sqlite-mode-extensions/compose-execute.gif" alt=""></p>
<ul>
<li><code>sqlite-mode-extras-execute</code>: Execute a query.</li>
</ul>
<p><img src="https://xenodium.github.io/images/further-sqlite-mode-extensions/execute.gif" alt=""></p>
<ul>
<li><code>sqlite-mode-extras-add-row</code>: Add row to table at point.</li>
</ul>
<p><img src="https://xenodium.github.io/images/further-sqlite-mode-extensions/add-row.gif" alt=""></p>
<ul>
<li><code>sqlite-mode-extras-delete-row-dwim</code>: Similar to <code>sqlite-mode-delete</code> but also enables deleting range in region.</li>
</ul>
<p><img src="https://xenodium.github.io/images/further-sqlite-mode-extensions/delete-rows.gif" alt=""></p>
<ul>
<li><code>sqlite-mode-extras-refresh</code>: Refreshes the buffer re-querying the database.</li>
<li><code>sqlite-mode-extras-ret-dwim</code>: If on table, toggle expansion. If on row, edit it.</li>
<li><code>sqlite-mode-extras-execute-and-display-select-query</code>: Executes a query and displays results.</li>
</ul>
<p><img src="https://xenodium.github.io/images/further-sqlite-mode-extensions/select-earth.gif" alt=""></p>
<p>I've been playing with the following key bindings:</p>
<pre><code class="language-{.commonlisp">(use-package sqlite-mode-extras
  :bind (:map
         sqlite-mode-map
         (&quot;n&quot; . next-line)
         (&quot;p&quot; . previous-line)
         (&quot;b&quot; . sqlite-mode-extras-backtab-dwim)
         (&quot;f&quot; . sqlite-mode-extras-tab-dwim)
         (&quot;+&quot; . sqlite-mode-extras-add-row)
         (&quot;D&quot; . sqlite-mode-extras-delete-row-dwim)
         (&quot;C&quot; . sqlite-mode-extras-compose-and-execute)
         (&quot;E&quot; . sqlite-mode-extras-execute)
         (&quot;S&quot; . sqlite-mode-extras-execute-and-display-select-query)
         (&quot;DEL&quot; . sqlite-mode-extras-delete-row-dwim)
         (&quot;g&quot; . sqlite-mode-extras-refresh)
         (&quot;&lt;backtab&gt;&quot; . sqlite-mode-extras-backtab-dwim)
         (&quot;&lt;tab&gt;&quot; . sqlite-mode-extras-tab-dwim)
         (&quot;RET&quot; . sqlite-mode-extras-ret-dwim)))
</code></pre>
<p>The code lives in <a href="https://github.com/xenodium/dotsies/blob/main/emacs/ar/sqlite-mode-extras.el">sqlite-mode-extras.el</a> under my <a href="https://github.com/xenodium/dotsies/tree/main">Emacs config repo</a>. Beware, it's fairly experimental and hasn't been tested thoroughly.</p>
