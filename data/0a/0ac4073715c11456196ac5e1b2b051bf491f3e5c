<p>While there are plenty of messaging alternatives out there, for better or worse, <a href="https://www.whatsapp.com/">WhatsApp</a> remains a necessity for some of us.</p>
<p>With that in mind, I looked for ways to bring WhatsApp messaging to the comfort of my beloved text editor.</p>
<p>As mentioned in <a href="https://xenodium.com/want-a-whatsapp-emacs-client">my initial findings</a>, WhatsApp on Emacs is totally doable with the help of <a href="https://github.com/asternic/wuzapi">wuzapi</a> and <a href="https://github.com/tulir/whatsmeow">whatsmeow</a>, which offer a huge leg up.</p>
<h2>Wasabi joins the chat</h2>
<p>Today, I introduce a super early version of <a href="https://github.com/xenodium/wasabi/">Wasabi</a>, a native Emacs interface for WhatsApp messaging.</p>
<p align="center">
<img src="https://raw.githubusercontent.com/xenodium/wasabi/main/screenshots/chats.png" width="48%" alt="Chats view">
<img src="https://raw.githubusercontent.com/xenodium/wasabi/main/screenshots/chat.png" width="48%" alt="Chat view">
</p>
<h2>Simple install as a feature/goal</h2>
<p>I wanted <code>Wasabi</code> installation/setup to be as simple as possible. Ideally, you install a single Emacs package and off you go.</p>
<p>While leveraging <a href="https://xmpp.org/">XMPP</a> is rather appealing in reusing existing Emacs messaging packages, I felt setting up a WhatsApp gateway or related infrastructure to be somewhat at odds with <code>wasabi</code>'s simple installation goal. Having said that, <a href="https://github.com/asternic/wuzapi">wuzapi</a>/<a href="https://github.com/tulir/whatsmeow">whatsmeow</a> offer a great middle ground. You install a single binary dependency, along with <code>wasabi</code>, and you're ready to go. This isn't too different from the <a href="https://git-scm.com/">git</a> + <a href="https://magit.vc/">magit</a> combo.</p>
<p>As of now, <code>wasabi</code>'s installation/setup boils down to two steps if you're on macOS:</p>
<pre><code class="language-{.commonlisp">(use-package wasabi
  :ensure t
  :vc (:url &quot;https://github.com/xenodium/wasabi&quot; :branch &quot;main&quot;))
</code></pre>
<pre><code class="language-{.bash">brew install asternic/wuzapi/wuzapi
</code></pre>
<p>While you may try <a href="https://brew.sh/">Homebrew</a> on Linux, you're likely to prefer your native package manager. If that fails, <a href="https://github.com/xenodium/wasabi?tab=readme-ov-file#build-wuzapi-from-source">building wuzapi from source</a> is also an option.</p>
<h2>Upstreaming <code>wuzapi</code> patches</h2>
<p>While <code>wuzapi</code> runs as a <a href="https://en.wikipedia.org/wiki/REST">RESTful</a> API service + <a href="https://en.wikipedia.org/wiki/Webhook">webhooks</a>, I wanted to simplify the Emacs integration by using <a href="https://www.jsonrpc.org">json-rpc</a> over standard I/O, enabling us to leverage incoming <code>json-rpc</code> notifications in place of <code>webhooks</code>.</p>
<p>I <a href="https://github.com/asternic/wuzapi/pull/199">floated the idea of adding json-rpc to wuzapi</a> to <code>wuzapi</code>'s author Nicolas, and to my delight, he was keen on it. He's now merged <a href="https://github.com/asternic/wuzapi/pull/199#issuecomment-3534196183">my initial proof of concept</a>, and I followed up with a handful of additional patches (all merged now):</p>
<ul>
<li><a href="https://github.com/asternic/wuzapi/pull/213">Add JSON-RPC 2.0 stdio mode (via -mode=stdio) for communication</a></li>
<li><a href="https://github.com/asternic/wuzapi/pull/217">Expose more HTTP endpoints as JSON-RPCs</a>.</li>
<li><a href="https://github.com/asternic/wuzapi/pull/216">Enable setting a custom data directory via -datadir=/path/to/data</a>.</li>
<li><a href="https://github.com/asternic/wuzapi/pull/222">Add Homebrew recipe/installation</a>.</li>
</ul>
<h2>Early days - But give it a try!</h2>
<p>With the latest <a href="https://github.com/xenodium/wasabi/">Wasabi</a> Emacs package and <a href="https://github.com/asternic/wuzapi">wuzapi</a> binary, you now get the initial WhatsApp experience I've been working towards. At present, you can send/receive messages to/from 1:1 or group chats. You can also download/view images as well as videos. Viewing reactions is also supported.</p>
<p>Needless to say, you may find some initial rough edges in addition to missing features. Having said that, I'd love to hear your feedback and experience. As mentioned <code>Wasabi</code> is currently <a href="https://github.com/xenodium/wasabi/">available on GitHub</a>.</p>
<h2>Reckon Wasabi is worth it?</h2>
<p>I've now put in quite a bit of effort prototyping things, upstreaming changes to <code>wuzapi</code>, and building the first iteration of <a href="https://github.com/xenodium/wasabi/">wasabi</a>. I gotta say, it feels great to be able to quickly message and catch up with different chats from the comfort of Emacs. Having said that, it's taken a lot of work to get here and will require plenty more to get to a polished and featureful experience.</p>
<p>Since going full-time indie dev, I have the flexibility to work on projects of choice, but that's only to an extent. If I cannot make the project sustainable, I'll eventually move to work on something else that is.</p>
<p>If you're keen on <a href="https://github.com/xenodium/wasabi/">Wasabi</a>'s offering, <a href="https://github.com/sponsors/xenodium">please consider sponsoring the effort</a>, and please reach out to voice your interest (<a href="https://indieweb.social/@xenodium">Mastodon</a> / <a href="https://twitter.com/xenodium">Twitter</a> / <a href="https://www.reddit.com/user/xenodium">Reddit</a> / <a href="https://bsky.app/profile/xenodium.bsky.social">Bluesky</a>).</p>
<p>Reckon a WhatsApp Emacs client would help you stay focused at work (less time on your phone)? Ask your employer to <a href="https://github.com/sponsors/xenodium">sponsor it</a> too ;-)</p>
