<p>
There are a lot of good Emacs weather plugins, but most of the services they use are not as accurate as the <a href="https://www.bom.gov.au/">BOM</a> in Australia.
</p>

<p>
I've created a small weather forecast tool in Elisp, using <a href="https://github.com/tkf/emacs-request">request.el</a> and the BOM's HTTP API (unofficial documentation here <a href="https://trickypr.github.io/bom-weather-docs/">https://trickypr.github.io/bom-weather-docs/</a>).
</p>

<p>
The full module <a href="https://git.cyan.sh/BirDt/theurgy/src/branch/master/userland/weather.el">can be found here</a> in my own configuration, though you might want to change the function names if you intend to copy this into your own config.
</p>

<p>
<code>theurgy-weather-find-geohash</code> provides an interface for finding your geohash, which is the geographic identifier that BOM uses in it's API. You can search by suburb name or postcode, and it will provide you a list of possible results. The geohash string is stored in <code>theurgy-geohash</code>.
</p>

<p>
<code>theurgy-weather-fetch-forecast</code> downloads the forecast data for the next few days to a file named <code>forecast</code> in the Emacs user directory. <code>theurgy-start-forecast-timer</code> starts a timer to refetch this forecast every 30 minutes (this request is non-blocking thanks to request.el), and the script itself runs this function on Emacs startup.
</p>

<p>
<code>theurgy-quick-forecast</code> will prompt for a date, then display the minimum and maximum temperature, as well as a short description ("Sunny", "Cloudy", etc) in the echo area. <code>theurgy-weather</code> will instead display a more detailed weather forecast in a read-only org-mode buffer, for example:
</p>
<div class="org-src-container">
<pre class="src src-org"><span class="org-org-level-1">* 29/11/2025 - Sunny.</span>
Sunny. Winds southeasterly 20 to 30 km/h turning easterly 25 to 40 km/h before dawn then tending northeast to southeasterly 15 to 25 km/h in the middle of the day.
- 16-35&#176;C
- 0% Chance of Rain (0-0mm)
- extreme UV
- High Fire Danger

<span class="org-org-level-1">* 30/11/2025 - Sunny.</span>
Sunny. Winds east to northeasterly 25 to 35 km/h tending northwest to northeasterly 20 to 30 km/h in the morning then tending south to southwesterly 15 to 25 km/h in the early afternoon.
- 21-38&#176;C
- 0% Chance of Rain (0-0mm)
- extreme UV
- High Fire Danger

<span class="org-org-level-1">* 1/12/2025 - Partly cloudy.</span>
Partly cloudy. Light winds becoming southwesterly 20 to 30 km/h during the morning then tending southerly 15 to 20 km/h during the evening.
- 17-27&#176;C
- 10% Chance of Rain (0-0mm)
- extreme UV
- High Fire Danger

</pre>
</div>

<p>
Patches welcome. If there is enough interest I will move this out of my own config and into it's own package.
</p>
