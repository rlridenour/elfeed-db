<p>Currently I am just displaying the title of my posts with no filtering.  Now that I have developed a general format to help with some emacs Deft categorisation I have run into a little bit of a problem.</p>
<figure><img src="https://emacs.dyerdwelling.family/ox-hugo/linux--hugo-text-title-tidying__linux_hugo.jpg" width="100%">
</figure>

<p>For example a typical title format is the following:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>Linux ---&gt; Hugo_Format_Title[tag@subtag-art]
</span></span></code></pre></div><p>and the hugo rendered html of course displays this on a card list and on a single page.  I would like to remove the <code>Linux ---&gt;</code> part and the tag part to optimise the space taken up by the title.</p>
<p>I am simply just using:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>{{ .Title) }}
</span></span></code></pre></div><p>which gives the full title.</p>
<p>I want to utilise hugo functions to trim off the front up to the first <code>-&gt;</code> and to remove the tag part including the closing brackets.</p>
<p><strong>replaceRE</strong> seems perfect for this to search and replace using regular expressions, so lets give this a go:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>{{ replaceRE &#34;^.*-&gt;|\\[.*\\]&#34; &#34;&#34; .Title }}
</span></span></code></pre></div><p>this gives me:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>Hugo_Format_Title
</span></span></code></pre></div><p>the only issue I had was to figure out how to escape the bracket character, usually in a regex it is just one backslash, but unfortunately that gave a parse error.  But this can be solved by a double backslash.</p>
<p>Note the use of the pipe character to remove both the prepend with the tags and the removal takes place by defining a replacement string of empty double quotes.</p>
<p>But there is a final thing left to do which I had completely forgotten about, to really tidy up the title I would like to replace the underscores with spaces.  I can&rsquo;t add in another piped OR command as the replacement string has to be a single space and not deleting the text.</p>
<p>The solution is to create a compound nested statement, as thus:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>{{ replaceRE &#34;_&#34; &#34; &#34; (replaceRE &#34;^.*-&gt;|\\[.*\\]&#34; &#34;&#34; .Title) }}
</span></span></code></pre></div><p>so the output string of the original substitution can be fed into another occurrence of <strong>replaceRE</strong></p>
<p>So the final title is</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>Hugo Format Title
</span></span></code></pre></div><p>This is much neater!</p>