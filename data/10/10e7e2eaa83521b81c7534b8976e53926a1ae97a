<p>I've grown accustomed to M-r bindings to search Emacs history. Been wanting similar functionality to search commit message history. Turns out <em>log-edit-comment-ring</em> has some of my local commit message history. Feeding it to <em>completing-read</em> gives me an easily searchable history when using a completing framework like ivy or helm:</p>
<pre><code class="language-{.commonlisp">(defun ar/git-commit-search-message-history ()
  &quot;Search and insert commit message from history.&quot;
  (interactive)
  (insert (completing-read &quot;History: &quot;
                           ;; Remove unnecessary newlines from beginning and end.
                           (mapcar (lambda (text)
                                     (string-trim text))
                                   (ring-elements log-edit-comment-ring)))))
</code></pre>
<p>Now we bind it to <em>M-r</em> and we're good to go:</p>
<pre><code class="language-{.commonlisp">(bind-key &quot;M-r&quot; #'ar/git-commit-search-message-history git-commit-mode-map)
</code></pre>
<p>May also want to persist <em>log-edit-comment-ring</em> across Emacs sessions by adding <em>log-edit-comment-ring</em> to savehist variables. Also ensure <em>savehist-mode</em> is enabled:</p>
<pre><code class="language-{.commonlisp">(add-to-list 'savehist-additional-variables log-edit-comment-ring)
(savehist-mode +1)
</code></pre>
<p><img src="https://xenodium.github.io/images/m-r-history-search-in-git-commit-mode/m-r-commit-history.png" alt=""></p>
