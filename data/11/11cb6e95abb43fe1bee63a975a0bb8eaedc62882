<p>Based on instructions from <a href="http://blog.hardcodes.de/articles/63/building-clang-format-and-friends-on-osx-mountain-lion">Building clang-format and friends on OSX Mountain Lion</a>.</p>
<pre><code class="language-{.bash">#!/bin/bash
  set -o nounset
  set -o errexit

  # Based on instructions from:
  # http://blog.hardcodes.de/articles/63/building-clang-format-and-friends-on-osx-mountain-lion

  readonly LLVM_DIR_PATH='/tmp/llvm'

  update_repo() {
    if [[ ! -d $1 ]]; then
      git clone $2
    else
      cd $1
      git pull
      cd ..
    fi
    cd ..
  }

  update_all_repos() {
    update_repo &quot;llvm&quot; &quot;http://llvm.org/git/llvm.git&quot;
    pushd &quot;${LLVM_DIR_PATH}/llvm/tools&quot;
    update_repo &quot;clang&quot; &quot;http://llvm.org/git/clang.git&quot;
    popd
    cd &quot;../../${LLVM_DIR_PATH}/llvm/tools/clang/tools&quot;
    update_repo &quot;clang-tools-extra&quot; &quot;http://llvm.org/git/clang-tools-extra.git&quot;
    cd &quot;../../..&quot;
  }

  build_clang() {
    mkdir -p clang
    mkdir -p build
    cd clang
    ../llvm/configure --enable-libcpp --enable-cxx11 --enable-debug-symbols=no --enable-optimized --prefix=&quot;${LLVM_DIR_PATH}/build&quot;
    make install
  }

  mkdir -p $LLVM_DIR_PATH
  cd ${LLVM_DIR_PATH}
  update_all_repos
  build_clang
</code></pre>
<p>Bonus: use <a href="http://zed0.co.uk/clang-format-configurator/">clang-format-configurator</a>.</p>
