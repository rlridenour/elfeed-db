<p><a href="https://hledger.org/">Hledger</a> is a text based accounting tool.
It&rsquo;s very similar to <a href="https://www.ledger-cli.org/">Ledger</a> (hence the name).</p>
<p>Emacs has great <code>ledger-mode</code> but if you use Hledger you&rsquo;ll definitely get some issues.</p>
<h2 id="tldr">TLDR</h2>
<p>here is my <code>use-package</code> block where most of the issues are solved</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lisp" data-lang="lisp"><span style="display:flex;"><span>(<span style="color:#a6e22e">use-package</span> ledger-mode
</span></span><span style="display:flex;"><span> <span style="color:#e6db74">:straight</span> <span style="color:#66d9ef">t</span> <span style="color:#75715e">;; or :ensure t</span>
</span></span><span style="display:flex;"><span> <span style="color:#e6db74">:init</span>
</span></span><span style="display:flex;"><span> (add-to-list <span style="color:#e6db74">&#39;auto-mode-alist</span> <span style="color:#f92672">&#39;</span>(<span style="color:#e6db74">&#34;\\.\\(h?ledger\\|journal\\|j\\)$&#34;</span> <span style="color:#f92672">.</span> ledger-mode))
</span></span><span style="display:flex;"><span> (<span style="color:#66d9ef">setq</span> ledger-binary-path <span style="color:#e6db74">&#34;path-to-fix-hledger-script.see-below&#34;</span>)
</span></span><span style="display:flex;"><span> (<span style="color:#66d9ef">setq</span> ledger-mode-should-check-version <span style="color:#66d9ef">nil</span>)
</span></span><span style="display:flex;"><span> (<span style="color:#66d9ef">setq</span> ledger-report-links-in-register <span style="color:#66d9ef">nil</span>)
</span></span><span style="display:flex;"><span> (<span style="color:#66d9ef">setq</span> ledger-report-auto-width <span style="color:#66d9ef">nil</span>)
</span></span><span style="display:flex;"><span> (<span style="color:#66d9ef">setq</span> ledger-report-native-highlighting-arguments <span style="color:#f92672">&#39;</span>(<span style="color:#e6db74">&#34;--color=always&#34;</span>))
</span></span><span style="display:flex;"><span> (<span style="color:#66d9ef">setq</span> ledger-highlight-xact-under-point <span style="color:#66d9ef">nil</span>)
</span></span><span style="display:flex;"><span> (<span style="color:#66d9ef">setq</span> ledger-default-date-format ledger-iso-date-format))
</span></span></code></pre></div><h2 id="add-new-transactions-issue-xact">Add new transactions issue. xact.</h2>
<p>There an error appears when you try to add a new transaction that says <code>xact</code> isn&rsquo;t available.
<code>xact</code> is a tool that comes with ledger but it doesn&rsquo;t exists in hledger package.</p>
<p>The tool is basically trying to match records based on the query passed into it and then return the matched record. Kind of minimal autocompletion.</p>
<p><code>hledger</code> has <code>--match</code> option instead and to make it work I suggest to refer to <a href="https://github.com/simonmichael/hledger/issues/367#issuecomment-956436493">this script</a> provided by Anthony Carrico.</p>
<p>Make it executable, put in whatever place you want and update <code>ledger-binary-path</code> variable in your Emacs config.</p>
<p>That should make everything work.</p>