<p>macOS supports many Emacs bindings (out of the box). You can, for example, press C-p and C-n to move the cursor up and down (whether editing text in Emacs or any other macOS app). Jacob Rus's <a href="http://www.hcs.harvard.edu/~jrus/site/cocoa-text.html">Customizing the Cocoa Text System</a> offers a more in-depth picture and also shows how to customize global macOS keybindings (via DefaultKeyBinding.dict).</p>
<p>In addition to moving Emacs <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Point.html">point</a> (cursor) up/down using C-p/C-n, I've internalized the same bindings to select an option from a list. Good Emacs examples of these are <a href="https://company-mode.github.io/">company mode</a> and <a href="https://github.com/abo-abo/swiper">ivy</a>.</p>
<p>Vertical cursor movement using Emacs bindings works well in most macOS apps, including forms and text boxes in web pages. However, selecting from a completion list doesn't quite work as expected. Although the binding is technically handled, it moves the cursor within the text widget, ignoring the suggested choices.</p>
<p><img src="https://xenodium.github.io/images/improved-ctrl-p-ctrl-n-macos-movement/bindings-borked.gif" alt=""></p>
<p>Atif Afzal's <a href="https://www.atfzl.com/use-emacs-key-bindings-everywhere">Use emacs key bindings everywhere</a> has a solution for the ignored case. He uses <a href="https://github.com/pqrs-org/Karabiner-Elements">Karabiner Elements</a> to remap c-p and c-n to arrow-up and arrow-down.</p>
<p>It's been roughly a week since I started using the Karabiner remapping, and I've yet to find a case where a web page (or any other macOS app) did not respond to c-p and c-n to move selection from a list.</p>
<p><img src="https://xenodium.github.io/images/improved-ctrl-p-ctrl-n-macos-movement/bindings-fixed.gif" alt=""></p>
<p>My ~/.config/karabiner/karabiner.json configuration is as follows:</p>
<pre><code class="language-json">{
    &quot;global&quot;: {
        &quot;check_for_updates_on_startup&quot;: true,
        &quot;show_in_menu_bar&quot;: true,
        &quot;show_profile_name_in_menu_bar&quot;: false
    },
    &quot;profiles&quot;: [
        {
            &quot;complex_modifications&quot;: {
                &quot;parameters&quot;: {
                    &quot;basic.simultaneous_threshold_milliseconds&quot;: 50,
                    &quot;basic.to_delayed_action_delay_milliseconds&quot;: 500,
                    &quot;basic.to_if_alone_timeout_milliseconds&quot;: 1000,
                    &quot;basic.to_if_held_down_threshold_milliseconds&quot;: 500,
                    &quot;mouse_motion_to_scroll.speed&quot;: 100
                },
                &quot;rules&quot;: [
                    {
                        &quot;description&quot;: &quot;Ctrl+p/Ctrl+n to arrow up/down&quot;,
                        &quot;manipulators&quot;: [
                            {
                                &quot;from&quot;: {
                                    &quot;key_code&quot;: &quot;p&quot;,
                                    &quot;modifiers&quot;: {
                                        &quot;mandatory&quot;: [
                                            &quot;control&quot;
                                        ]
                                    }
                                },
                                &quot;to&quot;: [
                                    {
                                        &quot;key_code&quot;: &quot;up_arrow&quot;
                                    }
                                ],
                                &quot;conditions&quot;: [
                                    {
                                        &quot;type&quot;: &quot;frontmost_application_unless&quot;,
                                        &quot;bundle_identifiers&quot;: [
                                            &quot;^org\\.gnu\\.Emacs&quot;
                                        ]
                                    }
                                ],
                                &quot;type&quot;: &quot;basic&quot;
                            },
                            {
                                &quot;from&quot;: {
                                    &quot;key_code&quot;: &quot;n&quot;,
                                    &quot;modifiers&quot;: {
                                        &quot;mandatory&quot;: [
                                            &quot;control&quot;
                                        ]
                                    }
                                },
                                &quot;to&quot;: [
                                    {
                                        &quot;key_code&quot;: &quot;down_arrow&quot;
                                    }
                                ],
                                &quot;conditions&quot;: [
                                    {
                                        &quot;type&quot;: &quot;frontmost_application_unless&quot;,
                                        &quot;bundle_identifiers&quot;: [
                                            &quot;^org\\.gnu\\.Emacs&quot;
                                        ]
                                    }
                                ],
                                &quot;type&quot;: &quot;basic&quot;
                            }
                        ]
                    }
                ]
            },
            &quot;devices&quot;: [],
            &quot;fn_function_keys&quot;: [],
            &quot;name&quot;: &quot;Default profile&quot;,
            &quot;parameters&quot;: {
                &quot;delay_milliseconds_before_open_device&quot;: 1000
            },
            &quot;selected&quot;: true,
            &quot;simple_modifications&quot;: [],
            &quot;virtual_hid_keyboard&quot;: {
                &quot;country_code&quot;: 0,
                &quot;mouse_key_xy_scale&quot;: 100
            }
        }
    ]
}
</code></pre>
<h2>Bonus (C-g to exit)</h2>
<p>Pressing Esc often dismisses or cancels macOS windows, menus, etc. This is also the case for web pages. As an Emacs user, I'm pretty used to pressing C-g to cancel, quit, or exit things. With that in mind, mapping C-g to Esc is surprisingly useful outside of Emacs. Here's the relevant Karabiner C-g binding for that:</p>
<pre><code class="language-json">{
    &quot;description&quot;: &quot;Ctrl+G to Escape&quot;,
    &quot;manipulators&quot;: [
        {
            &quot;description&quot;: &quot;emacs like escape&quot;,
            &quot;from&quot;: {
                &quot;key_code&quot;: &quot;g&quot;,
                &quot;modifiers&quot;: {
                    &quot;mandatory&quot;: [
                        &quot;left_control&quot;
                    ]
                }
            },
            &quot;to&quot;: [
                {
                    &quot;key_code&quot;: &quot;escape&quot;
                }
            ],
            &quot;conditions&quot;: [
                {
                    &quot;type&quot;: &quot;frontmost_application_unless&quot;,
                    &quot;bundle_identifiers&quot;: [
                        &quot;^org\\.gnu\\.Emacs&quot;
                    ]
                }
            ],
            &quot;conditions&quot;: [
                {
                    &quot;type&quot;: &quot;frontmost_application_unless&quot;,
                    &quot;bundle_identifiers&quot;: [
                        &quot;^org\\.gnu\\.Emacs&quot;
                    ]
                }
            ],
            &quot;type&quot;: &quot;basic&quot;
        }
    ]
}
</code></pre>
<p>ps. Note to self: Lennart's blog has <a href="https://blog.karssen.org/2024/06/05/using-emacs-key-bindings-in-gnome-firefox-and-other-applications/">notes on the topic but for linux</a>.</p>
<p>UPDATE: Ensure bindings are only active when Emacs is [not]{.underline} active.</p>
