
	
<p>
Halloween is upon us once more and who ever said that data science can&#39;t be scare. This article translates the <em>Gravedigger</em> game from the 1983 <em>Creepy Computer Games</em> book to celebrate Halloween. This article is part of my series on <a href="https://lucidmanager.org/tags/r-games/">gaming with the R language</a>.</p>
<p>
In the 1980s I spent my time writing code on my 8-bit ZX81 and Atari computers. I learnt everything I know about programming from copying and modifying printed code listings from books with computer games. The games in these books are mostly simple text-based games. The authors gave them enticing names, often imaginatively illustrated to visualise the virtual world they represent. A <a href="https://lucidmanager.org/data-science/pong/">line and a dot</a> become a game of tennis, and a computer that was able to play <a href="https://lucidmanager.org/data-science/tic-tac-toe-war-games/">Tic Tac Toe</a> seemed like your machine had come alive.</p>
<p>
Let&#39;s step into the creepy world of computer games as imagined by Usborne Publishing.</p>
<figure>
<img src="https://lucidmanager.org/images/rgames/creepy-computer-games.jpg" alt="Creepy Computer Games" title="Creepy Computer Games"/>
<figcaption>
Reynold, Colin and McCaig, Rob, Creepy Computer Games (Usborne, London).
</figcaption>
</figure>
<div id="outline-container-headline-1" class="outline-2">
<h2 id="headline-1">
Creepy Computer Games - Gravedigger
</h2>
<div id="outline-text-headline-1" class="outline-text-2">
<p>Alan Ramsey&#39;s <em>Gravedigger</em> is a typical example of the games of the early days of home computing. You can download the original book for free from the <a href="https://drive.google.com/file/d/0Bxv0SsvibDMTRUl3SFRONGN0MFk/view">publisher&#39;s Google drive</a>. The <em>Gravedigger</em> listing starts on page 10. The lyrical description of the game provides the instructions:</p>
<blockquote>
<p>It&#39;s dark and windy—not the kind of night to be lost in a graveyard, but that&#39;s where you are. You have until midnight to find your way out. Skeletons lurk in the shadows waiting to scare you to death should you come to close. You can dig holes to help keep them away but digging is tiring work and you cannot manage more than five in one game. You have to be careful not to fall down the holes you have dug. Grave stones (marked <code class="verbatim">+</code>) and  the walls of the graveyard (marked <code class="verbatim">:</code>) block your way. The holes you digs are marked <code class="verbatim">O</code>, you are <code class="verbatim">*</code> and the skeletons are <code class="verbatim">X</code>. See if you can escape.</p>
</blockquote>
<figure>
<img src="https://lucidmanager.org/images/rgames/gravedigger.png" alt="/images/rgames/gravedigger.png" title="/images/rgames/gravedigger.png" /><figcaption>
Gravedigger screenshot (Emacs ESS).
</figcaption>
</figure>
<div id="outline-container-headline-2" class="outline-3">
<h3 id="headline-2">
Creepy Alien
</h3>
<div id="outline-text-headline-2" class="outline-text-3">
<p>Roland Krasser has developed vastly improved version of the code and published the <a href="https://cran.r-project.org/web/packages/creepyalien/index.html">Creepy Alien game on CRAN</a>.</p>
<div class="src src-r">
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>  <span style="color:#06b;font-weight:bold">install.packages</span>(<span style="background-color:#fff0f0">&#34;creepyalien&#34;</span>)
</span></span><span style="display:flex;"><span>  creepyalien<span style="color:#333">::</span><span style="color:#06b;font-weight:bold">creepyalien</span>()</span></span></code></pre></div>
</div>
<figure>
<img src="https://lucidmanager.org/images/rgames/creepy-alien.png" alt="/images/rgames/creepy-alien.png" title="/images/rgames/creepy-alien.png" /><figcaption>
Creepy Alien by Roland Kasser.
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<div id="outline-container-headline-3" class="outline-2">
<h2 id="headline-3">
The Gravedigger code
</h2>
<div id="outline-text-headline-3" class="outline-text-2">
<p>I translated the BASIC code as close to the original as possible. I changed some of the variable names because, in BASIC, single variables and vectors can have the same name and names of character vectors end in a <code class="verbatim">$</code> character.</p>
<p>
The game is quite tricky, and I have only managed to escape the graveyard once. It looks like the likelihood of success very much depends on the random distribution of the graves. Perhaps we need some machine learning to optimise strategy.</p>
<p>
I leave it up to you to deconstruct the program and safely work your way through the graveyard.</p>
<p>
Happy Halloween!</p>
<figure>
<p>indicate different versions for various dialects of the BASIC language.
<img src="https://lucidmanager.org/images/rgames/graveyard.jpg" alt="/images/rgames/graveyard.jpg" title="/images/rgames/graveyard.jpg" /></p>
<figcaption>
Partial page of the Gravedigger game in BASIC. The markings
</figcaption>
</figure>
<p>
<a href = "https://github.com/pprevos/RGames/" target="_blank"
   title="Download RGames from GitHub"
   alt="Download RGames from GitHub">
  <button class="button is-medium is-primary">
    <span class="icon is-large">
      <i class="fab fa-github"></i>
    </span>
    <span style="font-family: monospace">RGames</span>
  </button>
</a>

</p>
<div class="src src-r">
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#888">## Creepy Computer Games</span>
</span></span><span style="display:flex;"><span><span style="color:#888">## Reynold, Colin and McCaig, Rob, Creepy Computer Games (Usborne, London).</span>
</span></span><span style="display:flex;"><span><span style="color:#888">## https://archive.org/details/Creepy_Computer_Games_1983_Usborne_Publishing/</span>
</span></span><span style="display:flex;"><span><span style="color:#888">## Gravedigger by Alan Ramsey</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#888">## Initiate board</span>
</span></span><span style="display:flex;"><span>A <span style="color:#333">&lt;-</span> <span style="color:#06b;font-weight:bold">matrix</span>(ncol <span style="color:#333">=</span> <span style="color:#60e;font-weight:bold">20</span>, nrow <span style="color:#333">=</span> <span style="color:#60e;font-weight:bold">10</span>)
</span></span><span style="display:flex;"><span>A[, ] <span style="color:#333">&lt;-</span> <span style="background-color:#fff0f0">&#34; &#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#888">## Starting variables</span>
</span></span><span style="display:flex;"><span>W <span style="color:#333">&lt;-</span> <span style="color:#60e;font-weight:bold">0</span> <span style="color:#888"># Move number</span>
</span></span><span style="display:flex;"><span>X <span style="color:#333">&lt;-</span> <span style="color:#60e;font-weight:bold">5</span> <span style="color:#888"># Remaining holes</span>
</span></span><span style="display:flex;"><span>death <span style="color:#333">&lt;-</span> <span style="color:#60e;font-weight:bold">0</span> <span style="color:#888"># Game over?</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#888">## Initiate pieces</span>
</span></span><span style="display:flex;"><span>Y <span style="color:#333">&lt;-</span> <span style="background-color:#fff0f0">&#34;*&#34;</span>
</span></span><span style="display:flex;"><span>B <span style="color:#333">&lt;-</span> <span style="background-color:#fff0f0">&#34;+&#34;</span>
</span></span><span style="display:flex;"><span>C <span style="color:#333">&lt;-</span> <span style="background-color:#fff0f0">&#34;O&#34;</span> 
</span></span><span style="display:flex;"><span>D <span style="color:#333">&lt;-</span> <span style="background-color:#fff0f0">&#34;:&#34;</span>
</span></span><span style="display:flex;"><span>E <span style="color:#333">&lt;-</span> <span style="background-color:#fff0f0">&#34;X&#34;</span>
</span></span><span style="display:flex;"><span>Z <span style="color:#333">&lt;-</span> <span style="background-color:#fff0f0">&#34; &#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#888">## Draw board</span>
</span></span><span style="display:flex;"><span><span style="color:#888">## Add borders</span>
</span></span><span style="display:flex;"><span>A<span style="color:#06b;font-weight:bold">[c</span>(<span style="color:#60e;font-weight:bold">1</span>, <span style="color:#60e;font-weight:bold">10</span>), ] <span style="color:#333">&lt;-</span> D
</span></span><span style="display:flex;"><span>A[, <span style="color:#60e;font-weight:bold">1</span>] <span style="color:#333">&lt;-</span> D
</span></span><span style="display:flex;"><span>A[1<span style="color:#333">:</span><span style="color:#60e;font-weight:bold">8</span>, <span style="color:#60e;font-weight:bold">20</span>] <span style="color:#333">&lt;-</span> D
</span></span><span style="display:flex;"><span><span style="color:#888">## Add graves</span>
</span></span><span style="display:flex;"><span><span style="color:#080;font-weight:bold">for</span> (i <span style="color:#080;font-weight:bold">in</span> <span style="color:#60e;font-weight:bold">1</span><span style="color:#333">:</span><span style="color:#60e;font-weight:bold">20</span>){
</span></span><span style="display:flex;"><span>    A<span style="color:#06b;font-weight:bold">[floor</span>(<span style="color:#06b;font-weight:bold">runif</span>(<span style="color:#60e;font-weight:bold">1</span>) <span style="color:#333">*</span> <span style="color:#60e;font-weight:bold">7</span> <span style="color:#333">+</span> <span style="color:#60e;font-weight:bold">2</span>), <span style="color:#06b;font-weight:bold">floor</span>(<span style="color:#06b;font-weight:bold">runif</span>(<span style="color:#60e;font-weight:bold">1</span>) <span style="color:#333">*</span> <span style="color:#60e;font-weight:bold">15</span> <span style="color:#333">+</span> <span style="color:#60e;font-weight:bold">3</span>)] <span style="color:#333">&lt;-</span> B
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#888">## Starting positions</span>
</span></span><span style="display:flex;"><span><span style="color:#888">## Player</span>
</span></span><span style="display:flex;"><span>M <span style="color:#333">&lt;-</span> <span style="color:#60e;font-weight:bold">2</span>
</span></span><span style="display:flex;"><span>N <span style="color:#333">&lt;-</span> <span style="color:#60e;font-weight:bold">2</span>
</span></span><span style="display:flex;"><span>A[N, M] <span style="color:#333">&lt;-</span> Y
</span></span><span style="display:flex;"><span><span style="color:#888">## Skeletons</span>
</span></span><span style="display:flex;"><span>S <span style="color:#333">&lt;-</span> <span style="color:#06b;font-weight:bold">c</span>(<span style="color:#60e;font-weight:bold">4</span>, <span style="color:#60e;font-weight:bold">19</span>, <span style="color:#60e;font-weight:bold">3</span>, <span style="color:#60e;font-weight:bold">19</span>, <span style="color:#60e;font-weight:bold">2</span>, <span style="color:#60e;font-weight:bold">19</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#888">## Game play</span>
</span></span><span style="display:flex;"><span><span style="color:#080;font-weight:bold">repeat</span>{    
</span></span><span style="display:flex;"><span>    <span style="color:#888">## Position skeletons</span>
</span></span><span style="display:flex;"><span>    <span style="color:#080;font-weight:bold">for</span> (J <span style="color:#080;font-weight:bold">in</span> <span style="color:#06b;font-weight:bold">seq</span>(<span style="color:#60e;font-weight:bold">1</span>, <span style="color:#60e;font-weight:bold">5</span>, by <span style="color:#333">=</span> <span style="color:#60e;font-weight:bold">2</span>)) {
</span></span><span style="display:flex;"><span>        A[S[J], S[J <span style="color:#333">+</span> <span style="color:#60e;font-weight:bold">1</span>]] <span style="color:#333">&lt;-</span> E
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    W <span style="color:#333">&lt;-</span> W <span style="color:#333">+</span> <span style="color:#60e;font-weight:bold">1</span> <span style="color:#888">## Move counter</span>
</span></span><span style="display:flex;"><span>    <span style="color:#080;font-weight:bold">if</span> (W <span style="color:#333">&gt;</span> <span style="color:#60e;font-weight:bold">60</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#06b;font-weight:bold">print</span>(<span style="background-color:#fff0f0">&#34;The clock&#39;s struck midnight&#34;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#06b;font-weight:bold">print</span>(<span style="background-color:#fff0f0">&#34;Aghhhhh!!!!&#34;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#080;font-weight:bold">break</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#888">## Print board</span>
</span></span><span style="display:flex;"><span>    v <span style="color:#333">&lt;-</span> <span style="color:#06b;font-weight:bold">paste</span>(<span style="color:#06b;font-weight:bold">as.vector</span>(<span style="color:#06b;font-weight:bold">t</span>(A)), collapse <span style="color:#333">=</span> <span style="background-color:#fff0f0">&#34;&#34;</span>)        
</span></span><span style="display:flex;"><span>    <span style="color:#080;font-weight:bold">for</span> (i <span style="color:#080;font-weight:bold">in</span> <span style="color:#60e;font-weight:bold">1</span><span style="color:#333">:</span><span style="color:#60e;font-weight:bold">10</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#06b;font-weight:bold">print</span>(<span style="color:#06b;font-weight:bold">substr</span>(v, (i <span style="color:#333">-</span> <span style="color:#60e;font-weight:bold">1</span>) <span style="color:#333">*</span> <span style="color:#60e;font-weight:bold">20</span> <span style="color:#333">+</span> <span style="color:#60e;font-weight:bold">1</span>, (i <span style="color:#333">-</span> <span style="color:#60e;font-weight:bold">1</span>) <span style="color:#333">*</span> <span style="color:#60e;font-weight:bold">20</span> <span style="color:#333">+</span> <span style="color:#60e;font-weight:bold">20</span>))
</span></span><span style="display:flex;"><span>    <span style="color:#888">## Enter move</span>
</span></span><span style="display:flex;"><span>    A1 <span style="color:#333">&lt;-</span> <span style="color:#06b;font-weight:bold">toupper</span>(<span style="color:#06b;font-weight:bold">readline</span>(<span style="color:#06b;font-weight:bold">paste0</span>(<span style="background-color:#fff0f0">&#34;Enter move &#34;</span>, W, <span style="background-color:#fff0f0">&#34; (You can go N, S, E or W): &#34;</span>)))
</span></span><span style="display:flex;"><span>    <span style="color:#888">## Move player</span>
</span></span><span style="display:flex;"><span>    <span style="color:#007020">T</span> <span style="color:#333">&lt;-</span> N
</span></span><span style="display:flex;"><span>    U <span style="color:#333">&lt;-</span> M
</span></span><span style="display:flex;"><span>    <span style="color:#080;font-weight:bold">if</span> (A1 <span style="color:#333">==</span> <span style="background-color:#fff0f0">&#34;N&#34;</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#007020">T</span> <span style="color:#333">&lt;-</span> N <span style="color:#333">-</span> <span style="color:#60e;font-weight:bold">1</span>
</span></span><span style="display:flex;"><span>    } <span style="color:#080;font-weight:bold">else</span> <span style="color:#080;font-weight:bold">if</span> (A1 <span style="color:#333">==</span> <span style="background-color:#fff0f0">&#34;E&#34;</span>) {
</span></span><span style="display:flex;"><span>        U <span style="color:#333">&lt;-</span> M <span style="color:#333">+</span> <span style="color:#60e;font-weight:bold">1</span>
</span></span><span style="display:flex;"><span>    } <span style="color:#080;font-weight:bold">else</span> <span style="color:#080;font-weight:bold">if</span> (A1 <span style="color:#333">==</span> <span style="background-color:#fff0f0">&#34;S&#34;</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#007020">T</span> <span style="color:#333">&lt;-</span> N <span style="color:#333">+</span> <span style="color:#60e;font-weight:bold">1</span>
</span></span><span style="display:flex;"><span>    } <span style="color:#080;font-weight:bold">else</span> <span style="color:#080;font-weight:bold">if</span> (A1 <span style="color:#333">==</span> <span style="background-color:#fff0f0">&#34;W&#34;</span>) {
</span></span><span style="display:flex;"><span>        U <span style="color:#333">&lt;-</span> M <span style="color:#333">-</span> <span style="color:#60e;font-weight:bold">1</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#888">## Collision detection</span>
</span></span><span style="display:flex;"><span>    <span style="color:#080;font-weight:bold">if</span> (A[T, U] <span style="color:#333">==</span> D <span style="color:#333">|</span> A[T, U] <span style="color:#333">==</span> B) { <span style="color:#888"># Edge or grave</span>
</span></span><span style="display:flex;"><span>        <span style="color:#06b;font-weight:bold">print</span>(<span style="background-color:#fff0f0">&#34;That way&#39;s blocked&#34;</span>)
</span></span><span style="display:flex;"><span>    } <span style="color:#080;font-weight:bold">else</span> <span style="color:#080;font-weight:bold">if</span> (A[T, U] <span style="color:#333">==</span> C) { <span style="color:#888"># Hole</span>
</span></span><span style="display:flex;"><span>        <span style="color:#06b;font-weight:bold">print</span>(<span style="background-color:#fff0f0">&#34;You&#39;ve fallen into one of your own holes&#34;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#080;font-weight:bold">break</span>
</span></span><span style="display:flex;"><span>    } <span style="color:#080;font-weight:bold">else</span> <span style="color:#080;font-weight:bold">if</span> (A[T, U] <span style="color:#333">==</span> E) { <span style="color:#888"># Skeleton</span>
</span></span><span style="display:flex;"><span>        death <span style="color:#333">&lt;-</span> <span style="color:#60e;font-weight:bold">1</span>
</span></span><span style="display:flex;"><span>    } <span style="color:#080;font-weight:bold">else</span> <span style="color:#080;font-weight:bold">if</span> (<span style="color:#007020">T</span> <span style="color:#333">==</span> <span style="color:#60e;font-weight:bold">9</span> <span style="color:#333">&amp;</span> U <span style="color:#333">==</span> <span style="color:#60e;font-weight:bold">20</span>) { <span style="color:#888"># Escaped</span>
</span></span><span style="display:flex;"><span>        <span style="color:#06b;font-weight:bold">print</span>(<span style="background-color:#fff0f0">&#34;You&#39;re free!&#34;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#06b;font-weight:bold">print</span>(<span style="color:#06b;font-weight:bold">paste0</span>(<span style="background-color:#fff0f0">&#34;Your performance rating is &#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#06b;font-weight:bold">floor</span>((<span style="color:#60e;font-weight:bold">60</span> <span style="color:#333">-</span> W) <span style="color:#333">/</span> <span style="color:#60e;font-weight:bold">60</span> <span style="color:#333">*</span> (<span style="color:#60e;font-weight:bold">96</span> <span style="color:#333">+</span> X)), <span style="background-color:#fff0f0">&#34;%&#34;</span>))
</span></span><span style="display:flex;"><span>        <span style="color:#080;font-weight:bold">break</span>
</span></span><span style="display:flex;"><span>    } <span style="color:#080;font-weight:bold">else</span> <span style="color:#080;font-weight:bold">if</span> (death <span style="color:#333">==</span> <span style="color:#60e;font-weight:bold">1</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#06b;font-weight:bold">print</span>(<span style="background-color:#fff0f0">&#34;Urk! You&#39;ve been scared to death by a skeleton.&#34;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#080;font-weight:bold">break</span>
</span></span><span style="display:flex;"><span>    } <span style="color:#080;font-weight:bold">else</span> <span style="color:#080;font-weight:bold">if</span> (A[T, U] <span style="color:#333">==</span> Z) { <span style="color:#888"># Player can move</span>
</span></span><span style="display:flex;"><span>        <span style="color:#888">## Move player and dig hole</span>
</span></span><span style="display:flex;"><span>        A [N, M] <span style="color:#333">&lt;-</span> Z
</span></span><span style="display:flex;"><span>        <span style="color:#080;font-weight:bold">if</span> (X <span style="color:#333">!=</span> <span style="color:#60e;font-weight:bold">0</span>) {
</span></span><span style="display:flex;"><span>            B1 <span style="color:#333">&lt;-</span> <span style="color:#06b;font-weight:bold">toupper</span>(<span style="color:#06b;font-weight:bold">readline</span>(<span style="background-color:#fff0f0">&#34;Would you like to dig a hole (Y or N): &#34;</span>))
</span></span><span style="display:flex;"><span>            <span style="color:#080;font-weight:bold">if</span> (B1 <span style="color:#333">==</span> <span style="background-color:#fff0f0">&#34;Y&#34;</span>) {
</span></span><span style="display:flex;"><span>                X <span style="color:#333">&lt;-</span> X <span style="color:#333">-</span> <span style="color:#60e;font-weight:bold">1</span>
</span></span><span style="display:flex;"><span>                A[N, M] <span style="color:#333">&lt;-</span> C
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        N <span style="color:#333">&lt;-</span> <span style="color:#007020">T</span>
</span></span><span style="display:flex;"><span>        M <span style="color:#333">&lt;-</span> U
</span></span><span style="display:flex;"><span>        A[T, U] <span style="color:#333">&lt;-</span> Y
</span></span><span style="display:flex;"><span>        <span style="color:#888">## Move skeletons</span>
</span></span><span style="display:flex;"><span>        <span style="color:#080;font-weight:bold">for</span> (J <span style="color:#080;font-weight:bold">in</span> <span style="color:#06b;font-weight:bold">seq</span>(<span style="color:#60e;font-weight:bold">1</span>, <span style="color:#60e;font-weight:bold">5</span>, by <span style="color:#333">=</span> <span style="color:#60e;font-weight:bold">2</span>)) {
</span></span><span style="display:flex;"><span>            <span style="color:#888">## Store skeleton position in temp variable</span>
</span></span><span style="display:flex;"><span>            P <span style="color:#333">&lt;-</span> S[J]
</span></span><span style="display:flex;"><span>            Q <span style="color:#333">&lt;-</span> S[J <span style="color:#333">+</span> <span style="color:#60e;font-weight:bold">1</span>]
</span></span><span style="display:flex;"><span>            <span style="color:#080;font-weight:bold">if</span> (<span style="color:#06b;font-weight:bold">any</span>(<span style="color:#06b;font-weight:bold">c</span>(A[P <span style="color:#333">+</span> <span style="color:#60e;font-weight:bold">1</span>, Q], A[P <span style="color:#333">-</span> <span style="color:#60e;font-weight:bold">1</span> , Q], A[P, Q <span style="color:#333">-</span> <span style="color:#60e;font-weight:bold">1</span>], A[P, Q <span style="color:#333">+</span> <span style="color:#60e;font-weight:bold">1</span>]) <span style="color:#333">==</span> Y)) {
</span></span><span style="display:flex;"><span>                death <span style="color:#333">&lt;-</span> <span style="color:#60e;font-weight:bold">1</span>
</span></span><span style="display:flex;"><span>            } <span style="color:#080;font-weight:bold">else</span>
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#888">## Move skeletons</span>
</span></span><span style="display:flex;"><span>                <span style="color:#080;font-weight:bold">if</span> (A1 <span style="color:#333">==</span> <span style="background-color:#fff0f0">&#34;S&#34;</span> <span style="color:#333">&amp;</span> A[P <span style="color:#333">+</span> <span style="color:#60e;font-weight:bold">1</span>, Q] <span style="color:#333">==</span> Z){
</span></span><span style="display:flex;"><span>                    S[J] <span style="color:#333">&lt;-</span> S[J] <span style="color:#333">+</span> <span style="color:#60e;font-weight:bold">1</span> <span style="color:#888"># Follow player</span>
</span></span><span style="display:flex;"><span>                    A[P, Q] <span style="color:#333">&lt;-</span> Z
</span></span><span style="display:flex;"><span>                } <span style="color:#080;font-weight:bold">else</span> <span style="color:#080;font-weight:bold">if</span> (A1 <span style="color:#333">==</span> <span style="background-color:#fff0f0">&#34;N&#34;</span> <span style="color:#333">&amp;</span> A[P <span style="color:#333">-</span> <span style="color:#60e;font-weight:bold">1</span>, Q] <span style="color:#333">==</span> Z){
</span></span><span style="display:flex;"><span>                    S[J] <span style="color:#333">&lt;-</span> S[J] <span style="color:#333">-</span> <span style="color:#60e;font-weight:bold">1</span> <span style="color:#888"># Follow player</span>
</span></span><span style="display:flex;"><span>                    A[P, Q] <span style="color:#333">&lt;-</span> Z
</span></span><span style="display:flex;"><span>                } <span style="color:#080;font-weight:bold">else</span> <span style="color:#080;font-weight:bold">if</span> (A1 <span style="color:#333">==</span> <span style="background-color:#fff0f0">&#34;E&#34;</span> <span style="color:#333">&amp;</span> A[P, Q <span style="color:#333">-</span> <span style="color:#60e;font-weight:bold">1</span>] <span style="color:#333">==</span> Z <span style="color:#333">&amp;</span> M <span style="color:#333">&lt;</span> Q){
</span></span><span style="display:flex;"><span>                    S[J <span style="color:#333">+</span> <span style="color:#60e;font-weight:bold">1</span>] <span style="color:#333">&lt;-</span> S[J <span style="color:#333">+</span> <span style="color:#60e;font-weight:bold">1</span>] <span style="color:#333">-</span> <span style="color:#60e;font-weight:bold">1</span> <span style="color:#888"># Move towards player</span>
</span></span><span style="display:flex;"><span>                    A[P, Q] <span style="color:#333">&lt;-</span> Z
</span></span><span style="display:flex;"><span>                } <span style="color:#080;font-weight:bold">else</span> <span style="color:#080;font-weight:bold">if</span> (A1 <span style="color:#333">==</span> <span style="background-color:#fff0f0">&#34;E&#34;</span> <span style="color:#333">&amp;</span> A[P, Q <span style="color:#333">+</span> <span style="color:#60e;font-weight:bold">1</span>] <span style="color:#333">==</span> Z <span style="color:#333">&amp;</span> M <span style="color:#333">&gt;</span> Q) {
</span></span><span style="display:flex;"><span>                    S[J <span style="color:#333">+</span> <span style="color:#60e;font-weight:bold">1</span>] <span style="color:#333">&lt;-</span> S[J <span style="color:#333">+</span> <span style="color:#60e;font-weight:bold">1</span>] <span style="color:#333">+</span> <span style="color:#60e;font-weight:bold">1</span> <span style="color:#888"># Reverse direction</span>
</span></span><span style="display:flex;"><span>                    A[P, Q] <span style="color:#333">&lt;-</span> Z
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
</div>
<p>
<a href = "https://www.r-bloggers.com/" target="_blank" title="Proudly associated with R-Bloggers">
  <button class="button is-link is-medium">
    <span class="icon is-large">
      <i class="fab fa-r-project"></i>
    </span>
    <span>As seen on R Bloggers</span>
  </button>
</a>
</p>
</div>
</div>

      