<p>Back in April, I shared <a href="https://xenodium.com/chatgpt-shell-available-on-melpa/">chatgpt-shell updates</a>, showcasing <a href="https://github.com/xenodium/chatgpt-shell">chatgpt-shell</a> features. It's been a little while, so here's an update with the latest additions.</p>
<p>Like this project? Consider ✨<a href="https://github.com/sponsors/xenodium">sponsoring</a>✨.</p>
<h2>Multi-session support</h2>
<p>You can run multiple shell instances independently configured to use different versions or system prompts.</p>
<p>This was biggest recent change. Please report issues.</p>
<p><img src="https://xenodium.github.io/images/chatgpt-shell-v0601-updates/cat-turtle.gif" alt=""></p>
<h2>Display system prompt and version</h2>
<p>The current shell's version and system prompt are now displayed more prominently in both the shell prompt and buffer name.</p>
<p><img src="https://xenodium.github.io/images/chatgpt-shell-v0601-updates/display.png" alt=""></p>
<p>With multi-session support, displaying shell details in the buffer name becomes more important as it makes it easier to find shells across your buffer list.</p>
<h2>Rename shell buffers</h2>
<p>While buffer names are now automatically derived, one can also use <code>chatgpt-shell-rename-buffer</code> to use custom buffer names.</p>
<h2>ob-chatgpt-shell improvements</h2>
<p>Use <code>:temperature</code> to specify the <a href="https://platform.openai.com/docs/api-reference/completions/create#completions/create-temperature">temperature</a>.</p>
<p>Use <code>:context CONTEXT-NAME</code> to pick and choose which source blocks to aggregate as context. Thank you <a href="https://github.com/jtmoulia">Thomas Moulia</a>.</p>
<p>Use <code>:preflight t</code> to debug <code>ob-chatgpt-shell</code> execution.</p>
<p><img src="https://xenodium.github.io/images/chatgpt-shell-v0601-updates/preflight.png" alt=""></p>
<h2>chatgpt-shell-write-git-commit</h2>
<p>Adds <code>chatgpt-shell-write-git-commit</code>, so you can generate commit messages using the current region. Thank you <a href="https://github.com/bigsky77">Simon Judd</a>.</p>
<h2>Approximate context length</h2>
<p><code>chatgpt-shell</code> now uses <code>chatgpt-shell--approximate-context-length</code> to approximate the context size and discard history if necessary. This is pretty experimental but seems to work well enough. It's enabled by default to get some feedback. Please file bugs if needed or send PRs to improve.</p>
<h2><code>S-&lt;return&gt;</code> for multiline input</h2>
<p>In addition to <code>C-J</code> to insert multi-line input, <code>S-&lt;return&gt;</code> is also supported. Thank you <a href="https://github.com/shouya">shouya</a> for the submission.</p>
<h2>Welcome message</h2>
<p>A welcome message now makes the help much more discoverable for new or sporadic users. Thank you <a href="https://github.com/shouya">shouya</a> for the suggestion.</p>
<p><img src="https://xenodium.github.io/images/chatgpt-shell-v0601-updates/welcome.png" alt=""></p>
<h2>Help me</h2>
<p>While the <a href="https://github.com/xenodium/chatgpt-shell">README</a> documents the shells and Emacs is <a href="https://www.emacswiki.org/emacs/SelfDocumentation">self-documenting</a>, we now have a <code>help</code> command to make things a little more discoverable.</p>
<p><img src="https://xenodium.github.io/images/chatgpt-shell-v0601-updates/help.png" alt=""></p>
<h2>Hello chatgpt-shell-mode and dall-e-shell-mode</h2>
<p>Both <code>chatgpt-shell</code> and <code>dall-e-shell</code> are both based on <code>shell-maker</code> and until recently both shared <code>shell-maker-mode</code> as their major mode. This didn't play well with yasnippet. Both shells now enable independent major modes: <code>chatgpt-shell-mode</code> and <code>dall-e-shell-mode</code>. Thank you <a href="https://github.com/djliden">Daniel Liden</a> for the proposal.</p>
<h2>Saving transcript customizations</h2>
<p>Make transcript saving more customizable via <code>shell-maker-transcript-default-path</code> and <code>shell-maker-transcript-default-filename</code>. Thank you <a href="https://github.com/gnusupport">gnusupport</a>.</p>
<h2>New ChatGPT model versions</h2>
<p>New OpenAI model versions were recently released and added to chatgpt-shell: <code>gpt-3.5-turbo-0613</code> and <code>gpt-4-0613</code>. Thanks you <a href="https://github.com/suzuki">Norio Suzuki</a>.</p>
<h2>Load awesome prompts</h2>
<p><code>M-x chatgpt-shell-load-awesome-prompts</code> to download and import curated prompts from <a href="https://github.com/f/awesome-chatgpt-prompts">awesome-chatgpt-prompts</a>. Thank you <a href="https://github.com/dangom">Daniel Gomez</a>.</p>
<p><img src="https://xenodium.github.io/images/chatgpt-shell-v0601-updates/awesome.png" alt=""></p>
<h2>ob-async</h2>
<p>We had reports that ob-chatgpt-shell didn't play nice with <a href="https://github.com/astahlman/ob-async">ob-async</a>. Thank you <a href="https://github.com/wmedrano">William Medrano</a> for the solution.</p>
<h2>Configurable prompts</h2>
<p>Functions like <code>chatgpt-shell-describe-code</code> ask ChatGPT to describe the code in region. These functions used hardcoded English prompts. These are now configurable, so users can tweak or translate if preferred. Thank you <a href="https://github.com/suzuki">Norio Suzuki</a>.</p>
<ul>
<li><code>chatgpt-shell-prompt-header-describe-code</code></li>
<li><code>chatgpt-shell-prompt-header-refactor-code</code></li>
<li><code>chatgpt-shell-prompt-header-generate-unit-test</code></li>
<li><code>chatgpt-shell-prompt-header-proofread-region</code></li>
<li><code>chatgpt-shell-prompt-header-whats-wrong-with-last-command</code></li>
<li><code>chatgpt-shell-prompt-header-eshell-summarize-last-command-output</code></li>
</ul>
