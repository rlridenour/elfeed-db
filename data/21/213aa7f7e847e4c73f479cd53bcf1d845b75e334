<p>
<i>Published: [2025-07-24 Thu]. Comments <a href="https://mathstodon.xyz/@oantolin/114906814617670439">on Mastodon</a>.</i>
</p>

<p>
This is my first listicle! (I apologize in advance for it, and hope
not to do this too often.) Here are 10 not-so-obvious things to try
with <a href="https://github.com/oantolin/embark">Embark</a>, written as a response to <a href="https://www.reddit.com/r/emacs/comments/1m7k80r/what_are_your_most_useful_use_cases_for_embark_or/">this reddit question</a>.
</p>

<p>
I'll use <code>&lt;act&gt;</code> to represent whatever key binding you have
for <code>embark-act</code>, and <code>&lt;dwim&gt;</code> to denote the binding for <code>embark-dwim</code>.
</p>

<ol class="org-ol">
<li>If I'm looking at some project's README file and it mentions some
command I should run (for example, to install the project), I don't
copy the command, start or switch to a shell, and then paste the
command. Instead I select the command, and use <code>&lt;act&gt; M-!</code> (or
<code>&lt;act&gt; M-&amp;</code>) to directly pass the command to <code>shell-command</code> (or
<code>async-shell-command</code>). Notice that <code>M-!</code> is just the global
binding for <code>shell-command</code>. In embark you can use any command as
an action, you are not limited to the commands in the embark
keymaps (those keymaps are just for convenience); you can specify
the command with any key binding you have for it, or even by using
<code>M-x</code>. (I've been asked more than once to <b>remove</b> this freedom and
limit users to pre-registered commands from the embark keymaps,
which seems insane to me, and I refused all such requests!)</li>

<li>I use <a href="https://github.com/minad/jinx">jinx</a> for spellchecking in both English and Spanish, and
sometimes I want to add a word (usually a proper name) to my
personal dictionaries for both languages. To do that I take
advantage of the fact that while <code>jinx-correct</code> is running, <b>that</b> is
the default action, i.e., <code>embark-dwim</code> will run <code>jinx-correct</code>. So if
I have <code>embark-quit-after-action</code> set to <code>nil</code> (which I prefer), I can
add the word to one dictionary using <code>&lt;dwim&gt;</code> instead of <code>RET</code>, and
this keeps <code>jinx-correct</code> open so I can still add it to the other
dictionary (this time using <code>RET</code>, so <code>jinx-correct</code> now finishes).</li>

<li>Similarly to the previous example, when writing an email I can run
<code>mml-attach-file</code> and use <code>embark-dwim</code> to attach several files in
one go. This is useful because I often need to attach several files
from the same directory, and using a single run of
<code>mml-attach-file</code> saves me from having to navigate several times to
the directory. In fact, often the files I need to attach all have
something in common in their name, say, I need to send all files of
the form <code>report-$MONTH-2025.pdf</code>. Then I can run
<code>mml-attach-file</code>, navigate to the directory containing them, type
<code>report 2025</code>, which under Orderless will match exactly the files I
want, and then run <code>&lt;act&gt; A RET</code>, which will run the default action
(attaching) on all of them.</li>

<li>If I'm reading Emacs's info documentation, and it mentions some
command I want to try, I put point on the command name and use
<code>&lt;act&gt; x</code> (for commands, <code>x</code> is bound to
<code>execute-extended-command</code>). If it mentions some variable and I
want to customize it, <code>&lt;act&gt; u</code> (for variables, <code>u</code> is bound to
<code>customize-variable</code>). I used to copy and paste a lot more, to get
inputs to commands, but Embark let's me send things directly to the
commands that use them.</li>

<li>Any command that prompts for widgets becomes a widget manager! For
example, I use dired a lot less than I used to, since I now do most
of my file management from inside <code>find-file</code>: I use <code>embark-act</code>
from inside <code>find-file</code> to delete, rename, copy, or open files with
external programs. Similarly, I do most package management from
inside <code>describe-package</code>, using <code>embark-act</code> to install,
uninstall, view the homepage or description for a package.
Similarly, if I want to toggle, customize, or find out the current
value of a variable, I'll do it from <code>describe-variable</code>. I use
<code>find-library</code> not just to open a library, but also to load one, or
to view the commentary or info manual. I only need to remember (or
even have) the key bindings for the commands I use as entry points,
and Embark reminds me of the rest.</li>

<li>If see you some arithmetic operations written in a buffer
somewhere, you can print the result in the echo area by selecting
that text and sending it to <code>quick-calc</code> with <code>&lt;act&gt; C-x * q</code> (if
you do this often, you might want a better keybinding for
<code>quick-calc</code> than the default <code>C-x * q</code>). With a universal prefix
argument, <code>quick-calc</code> will insert the result in the buffer instead
of just echoing it; I used this to compute that 30!
= 265252859812191058636308480000000. Similarly if you want to add a
column of numbers, select the numbers and use <code>&lt;act&gt; :</code> (for
regions, <code>:</code> is bound to <code>calc-grab-sum-down</code>).</li>

<li>I even use <code>&lt;dwim&gt;</code> instead of <code>C-x C-e</code> to evaluate expressions
for several reasons: (1) my keybinding for <code>embark-dwim</code> is shorter
than <code>C-x C-e</code>, (2) I can place point either before the opening
parenthesis or after the closing one (or even use <code>&lt;act&gt;</code> from
anywhere in the middle of the s-expression and cycle to the
s-expression target), (3) the default action in Embark for
s-expressions is <code>pp-eval-expression</code>, so you get pretty-printing
too! Another nice action on s-expressions is <code>embark-eval-replace</code>
(bound to <code>&lt;</code>), which <b>replaces</b> the s-expression with its value.</li>

<li>Sometimes I'll use <code>M-!</code> to run a shell command and while I'm
typing the full command realize I forgot exactly how you use the
program (maybe I forgot what an option is called, or the order of
the arguments), in that case, I put point on the command name and
run <code>&lt;act&gt; M-x man</code> to pop up the man page while I keep working on
typing in the command.</li>

<li>Embark tries to use the same key binding for conceptually similar
actions. For example <code>h</code> is <code>describe-symbol</code>, <code>describe-face</code>,
<code>finder-commentary</code>, or <code>describe-package</code> depending on what you
act on. I try to extend that as much as possible in my personal
configuration. For identifiers in programming modes that are not
Emacs Lisp, Embark binds <code>h</code> to <code>display-local-help</code>, which isn't
very useful on its own, but you can remap it to something better,
For example, in shell script buffers (and in shell buffers) I remap
<code>display-local-help</code> to <code>man</code>, and in perl-mode buffers I remap it
to <code>cperl-perldoc</code>. That way I can still get help for the thing at
point with <code>&lt;act&gt; h</code> in those buffers.</li>

<li>I use <code>org-ql-find</code> or <code>consult-org-heading</code> to search my org
files and I use <code>embark-act</code> to do things to the headings right
from the minibuffer without losing my place. Particularly useful
are <code>I</code> and <code>O</code> which are bound to <code>org-clock-in</code> and
<code>org-clock-out</code>. To link to a heading, I used to navigate to the
heading, use <code>org-store-link</code>, navigate back to where I wanted the
link (usually easy by popping the global mark) and then use
<code>org-insert-link</code>. But now, I just search for the heading I want
to link to with org-ql or consult, and use <code>&lt;act&gt; j</code> to insert the
link, it's super fast and convenient, and I find myself
interlinking my notes much more now (I guess this is one of the
things people like about org-roam, too). Similarly if I want to
link to a bunch of headings I can usually craft and org-ql query
that matches exactly the ones I want, then I use <code>&lt;act&gt; A l</code>, to
call <code>embark-act-all</code> with <code>org-store-link</code> as the action, and
finally I use <code>org-insert-all-links</code> to insert all links as an
itemized list.</li>
</ol>
