<p>It’s been a while since I blogged Emacs. Let’s jump in.</p>
<div id="outline-container-orgff1764e" class="outline-2">
<h2 id="orgff1764e">Brief preamble</h2>
<div id="text-orgff1764e" class="outline-text-2">
<p>I’m pursuing my Master’s Degree in Cybersecurity. I’m working at <a href="https://www.wutc.org">WUTC 88.1 FM</a> in Chattanooga, Tenn. And I function in this world. While I do some coding, most of what I use Emacs for is system administration, documentation, writing, and reading.</p>
<p>This means –among other things –that I am multi-platform: MacOS, Windows 10/11, Fedora Linux (mostly), iOS/iPadOS/WatchOS, and a wee dram of Android where once I was wholly in the  ecosystem.</p>
<p>How to tackle the non-mobile platforms? Emacs. For mobile? Read and find out.</p>
<p>I need to be effective in whatever platform. That means I need functions that perform tasks in expected ways wherever I am as much as possible.</p>
<p>※ My config started with <a href="https://github.com/pprevos/emacs-writing-studio">GitHub &#8211; pprevos/emacs-writing-studio: Emacs configuration for authors who re…</a>, thus the references to <code>ews.el</code>.</p>
</div>
</div>
<div id="outline-container-org441fa48" class="outline-2">
<h2 id="org441fa48">Keyboard and interface</h2>
<div id="text-org441fa48" class="outline-text-2">
<p>See my <a href="https://plrj.org/2025/06/04/my-emacs-mac-macos-keybindings/">previous</a> <a href="https://plrj.org/2025/05/14/my-emacs-keyboard-bindings/">posts</a> on the <a href="https://plrj.org/2025/05/13/my-emacs-keyboard/">topic</a>. I created a w32.el config that matches.</p>
<div class="org-src-container"><label class="org-src-name"><em> Name: w32.el.</em></label></p>
<pre id="w32.el" class="src src-emacs-lisp"><span style="color: #7f0000; font-style: italic;">;;; </span><span style="color: #7f0000; font-style: italic;">w32.el --- My Emacs Writing Studio init -*- lexical-binding: t; -*-
</span><span style="color: #7f0000; font-style: italic;">;; </span><span style="color: #7f0000; font-style: italic;">╭──────────────────────────────────────────────────────────────────────╮
</span><span style="color: #7f0000; font-style: italic;">;; </span><span style="color: #7f0000; font-style: italic;">│ Windows config for an Emacs frame                                    │
</span><span style="color: #7f0000; font-style: italic;">;; </span><span style="color: #7f0000; font-style: italic;">╰──────────────────────────────────────────────────────────────────────╯
</span><span style="color: #7f0000; font-style: italic;">;; </span><span style="color: #7f0000; font-style: italic;">Time-stamp:
</span><span style="color: #7f0000; font-style: italic;">;;</span>
<span style="color: #7f0000; font-style: italic;">;; </span><span style="color: #7f0000; font-style: italic;">Copyright (C) 2024-2025 Paul R. Jorgensen
</span>
<span style="color: #7f0000; font-style: italic;">;; </span><span style="color: #7f0000; font-style: italic;">Author: Paul R. Jorgensen <a href="mailto:paul%40prjorgensen.com">&lt;paul@prjorgensen.com&gt;</a>
</span><span style="color: #7f0000; font-style: italic;">;; </span><span style="color: #7f0000; font-style: italic;">Maintainer: Paul R. Jorgensen <a href="mailto:paul%40prjorgensen.com">&lt;paul@prjorgensen.com&gt;</a>
</span><span style="color: #7f0000; font-style: italic;">;; </span>
<span style="color: #7f0000; font-style: italic;">;; </span><span style="color: #7f0000; font-style: italic;">This file is NOT part of GNU Emacs.
</span><span style="color: #7f0000; font-style: italic;">;;</span>
<span style="color: #7f0000; font-style: italic;">;; </span><span style="color: #7f0000; font-style: italic;">This program is free software; you can redistribute it and/or modify
</span><span style="color: #7f0000; font-style: italic;">;; </span><span style="color: #7f0000; font-style: italic;">it under the terms of the GNU General Public License as published by
</span><span style="color: #7f0000; font-style: italic;">;; </span><span style="color: #7f0000; font-style: italic;">the Free Software Foundation, either version 3 of the License, or
</span><span style="color: #7f0000; font-style: italic;">;; </span><span style="color: #7f0000; font-style: italic;">(at your option) any later version.
</span><span style="color: #7f0000; font-style: italic;">;;</span>
<span style="color: #7f0000; font-style: italic;">;; </span><span style="color: #7f0000; font-style: italic;">This program is distributed in the hope that it will be useful,
</span><span style="color: #7f0000; font-style: italic;">;; </span><span style="color: #7f0000; font-style: italic;">but WITHOUT ANY WARRANTY; without even the implied warranty of
</span><span style="color: #7f0000; font-style: italic;">;; </span><span style="color: #7f0000; font-style: italic;">MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
</span><span style="color: #7f0000; font-style: italic;">;; </span><span style="color: #7f0000; font-style: italic;">GNU General Public License for more details.
</span><span style="color: #7f0000; font-style: italic;">;;</span>
<span style="color: #7f0000; font-style: italic;">;; </span><span style="color: #7f0000; font-style: italic;">You should have received a copy of the GNU General Public License
</span><span style="color: #7f0000; font-style: italic;">;; </span><span style="color: #7f0000; font-style: italic;">along with this program. If not, see <a href="https://www.gnu.org/licenses/">&lt;https://www.gnu.org/licenses/&gt;</a>.
</span><span style="color: #7f0000; font-style: italic;">;;</span>
<span style="color: #7f0000; font-style: italic;">;; </span><span style="color: #7f0000; font-style: italic;">Based off of the Emacs Writing Studio init file:
</span><span style="color: #7f0000; font-style: italic;">;;    </span><span style="color: #7f0000; font-style: italic;">https://lucidmanager.org/tags/emacs, tangled from:
</span><span style="color: #7f0000; font-style: italic;">;;    </span><span style="color: #7f0000; font-style: italic;">documents/ews-book/99-appendix.org
</span><span style="color: #7f0000; font-style: italic;">;;</span>
<span style="color: #7f0000; font-style: italic;">;; </span><span style="color: #7f0000; font-style: italic;">Check https://batsov.com/articles/2025/04/17/using-use-package-the-right-way/
</span><span style="color: #7f0000; font-style: italic;">;;    </span><span style="color: #7f0000; font-style: italic;">for why this is set up this way
</span><span style="color: #7f0000; font-style: italic;">;;</span>
<span style="color: #7f0000; font-style: italic;">;;; </span><span style="color: #7f0000; font-style: italic;">Code:
</span>
(<span style="color: #0031a9; font-weight: bold;">use-package</span> emacs
  <span style="color: #721045; font-weight: bold;">:bind</span>
  (<span style="color: #00598b;">"C-s-SPC"</span>   . nil                        ) <span style="color: #7f0000; font-style: italic;">; </span><span style="color: #7f0000; font-style: italic;">blocked by Alfred for me; ns-do-show-character-palette in NS port
</span>  (<span style="color: #00598b;">"M-s-h"</span>     . nil                        ) <span style="color: #7f0000; font-style: italic;">; </span><span style="color: #7f0000; font-style: italic;">ns-do-hide-others in ns port
</span>  (<span style="color: #00598b;">"s-&amp;"</span>       . kill-current-buffer        )
  (<span style="color: #00598b;">"s-'"</span>       . next-window-any-frame      )
  (<span style="color: #00598b;">"s-'"</span>       . other-frame                )
  (<span style="color: #00598b;">"s-,"</span>       . customize                  )
  (<span style="color: #00598b;">"s-0"</span>       . text-scale-reset           )
  (<span style="color: #00598b;">"s-:"</span>       . ispell                     )
  (<span style="color: #00598b;">"s-&lt;"</span>       . text-scale-decrease        )
  (<span style="color: #00598b;">"s-&lt;down&gt;"</span>  . end-of-buffer              )
  (<span style="color: #00598b;">"s-&lt;left&gt;"</span>  . backward-sentence          ) <span style="color: #7f0000; font-style: italic;">; </span><span style="color: #7f0000; font-style: italic;">move-beginning-of-line in ns port
</span>  (<span style="color: #00598b;">"s-&lt;right&gt;"</span> . forward-sentence           ) <span style="color: #7f0000; font-style: italic;">; </span><span style="color: #7f0000; font-style: italic;">move-end-of-line in ns port
</span>  (<span style="color: #00598b;">"s-&lt;up&gt;"</span>    . beginning-of-buffer        )
  (<span style="color: #00598b;">"s-&gt;"</span>       . text-scale-increase        )
  (<span style="color: #00598b;">"s-?"</span>       . info                       ) <span style="color: #7f0000; font-style: italic;">; </span><span style="color: #7f0000; font-style: italic;">conflicts w/ MacOS
</span>  (<span style="color: #00598b;">"s-C"</span>       . nil                        ) <span style="color: #7f0000; font-style: italic;">; </span><span style="color: #7f0000; font-style: italic;">conflicts w/ Named Keyboard Switcher; ns-popup-color-panel in ns port
</span>  (<span style="color: #00598b;">"s-D"</span>       . dired                      )
  (<span style="color: #00598b;">"s-E"</span>       . edit-abbrevs               )
  (<span style="color: #00598b;">"s-H"</span>       . nil                        ) <span style="color: #7f0000; font-style: italic;">; </span><span style="color: #7f0000; font-style: italic;">ns-do-hide-others in ns port
</span>  (<span style="color: #00598b;">"s-L"</span>       . shell-command              )
  (<span style="color: #00598b;">"s-M"</span>       . manual-entry               )
  (<span style="color: #00598b;">"s-S"</span>       . write-file                 ) <span style="color: #7f0000; font-style: italic;">; </span><span style="color: #7f0000; font-style: italic;">ns-write-file-using-panel in ns port
</span>  (<span style="color: #00598b;">"s-Z"</span>       . redo                       )
  (<span style="color: #00598b;">"s-a"</span>       . mark-whole-buffer          )
  (<span style="color: #00598b;">"s-c"</span>       . my-smart-copy-dwim         ) <span style="color: #7f0000; font-style: italic;">; </span><span style="color: #7f0000; font-style: italic;">ns-copy-including-secondary in ns port
</span>  (<span style="color: #00598b;">"s-d"</span>       . isearch-repeat-backward    ) <span style="color: #7f0000; font-style: italic;">; </span><span style="color: #7f0000; font-style: italic;">isearch-repeat-backward in ns port
</span>  (<span style="color: #00598b;">"s-e"</span>       . isearch-yank-kill          ) <span style="color: #7f0000; font-style: italic;">; </span><span style="color: #7f0000; font-style: italic;">blocked by my Keyboard Maestro macro top open Finder window
</span>  (<span style="color: #00598b;">"s-f"</span>       . consult-line-multi         ) <span style="color: #7f0000; font-style: italic;">; </span><span style="color: #7f0000; font-style: italic;">isearch-forward in ns port
</span>  (<span style="color: #00598b;">"s-g"</span>       . er-keyboard-quit           )
  (<span style="color: #00598b;">"s-h"</span>       . nil                        ) <span style="color: #7f0000; font-style: italic;">; </span><span style="color: #7f0000; font-style: italic;">ns-do-hide-emacs in ns port
</span>  (<span style="color: #00598b;">"s-j"</span>       . exchange-point-and-mark    )
  (<span style="color: #00598b;">"s-k"</span>       . kill-current-buffer        ) <span style="color: #7f0000; font-style: italic;">; </span><span style="color: #7f0000; font-style: italic;">Xah has a better function for this
</span>  (<span style="color: #00598b;">"s-l"</span>       . goto-line                  )
  (<span style="color: #00598b;">"s-m"</span>       . iconify-frame              )
  (<span style="color: #00598b;">"s-n"</span>       . make-frame                 )
  (<span style="color: #00598b;">"s-o"</span>       . my-open-file-dialog        ) <span style="color: #7f0000; font-style: italic;">; </span><span style="color: #7f0000; font-style: italic;">ns-open-file-using-panel in ns port
</span>  (<span style="color: #00598b;">"s-p"</span>       . print-buffer               ) <span style="color: #7f0000; font-style: italic;">; </span><span style="color: #7f0000; font-style: italic;">conflicts w/ MacOS print
</span>  (<span style="color: #00598b;">"s-Q"</span>       . save-buffers-kill-emacs    ) <span style="color: #7f0000; font-style: italic;">; </span><span style="color: #7f0000; font-style: italic;">TODO make this safer
</span>  (<span style="color: #00598b;">"s-q"</span>       . restart-emacs              ) <span style="color: #7f0000; font-style: italic;">; </span><span style="color: #7f0000; font-style: italic;">this saves all buffers and restarts
</span>  (<span style="color: #00598b;">"s-s"</span>       . save-buffer                )
  (<span style="color: #00598b;">"s-t"</span>       . menu-set-font              )
  (<span style="color: #00598b;">"s-u"</span>       . revert-buffer              )
  (<span style="color: #00598b;">"s-v"</span>       . xah-paste-or-paste-previous) <span style="color: #7f0000; font-style: italic;">; </span><span style="color: #7f0000; font-style: italic;">yank in ns port
</span>  (<span style="color: #00598b;">"s-w"</span>       . xah-close-current-buffer   ) <span style="color: #7f0000; font-style: italic;">; </span><span style="color: #7f0000; font-style: italic;">delete-frame in ns port
</span>  (<span style="color: #00598b;">"s-x"</span>       . my-smart-cut-dwim          )
  (<span style="color: #00598b;">"s-y"</span>       . nil                        ) <span style="color: #7f0000; font-style: italic;">; </span><span style="color: #7f0000; font-style: italic;">ns-paste-secondary on ns port
</span>  (<span style="color: #00598b;">"s-z"</span>       . undo                       )
  (<span style="color: #00598b;">"s-|"</span>       . shell-command-on-region    ) <span style="color: #7f0000; font-style: italic;">; </span><span style="color: #7f0000; font-style: italic;">shell-command-on-region in ns port
</span>  (<span style="color: #00598b;">"s-~"</span>       . previous-frame             )
  <span style="color: #721045; font-weight: bold;">:init</span>
  (<span style="color: #0031a9; font-weight: bold;">setq</span>
   w32-alt-is-meta nil
   w32-apps-modifier 'hyper
   w32-enable-caps-lock nil
   w32-lwindow-modifier 'super
   w32-pass-alt-to-system nil
   w32-pass-apps-to-system nil
   w32-pass-lwindow-to-system nil
   )
  (w32-register-hot-key [s-])
  (<span style="color: #0031a9; font-weight: bold;">setq</span>
   w32-rwindow-modifier 'super		<span style="color: #7f0000; font-style: italic;">; </span><span style="color: #7f0000; font-style: italic;">this needs to remain after `</span><span style="color: #531ab6; font-style: italic;">w32-register-hot-key</span><span style="color: #7f0000; font-style: italic;">'
</span>   )
  <span style="color: #721045; font-weight: bold;">:demand</span> t
  <span style="color: #721045; font-weight: bold;">:ensure</span> nil
  )

<span style="color: #7f0000; font-style: italic;">;; </span><span style="color: #7f0000; font-style: italic;">Shell
</span><span style="color: #7f0000; font-style: italic;">;; </span><span style="color: #7f0000; font-style: italic;">http://xahlee.info/emacs/emacs/emacs_powershell.html
</span>(<span style="color: #0031a9; font-weight: bold;">when</span> (eq system-type 'windows-nt)
  (<span style="color: #0031a9; font-weight: bold;">let</span> ((xlist
         '(
          <span style="color: #00598b;">"~/AppData/Local/Microsoft/WindowsApps/pwsh.exe"</span>
          <span style="color: #00598b;">"C:/Windows/System32/WindowsPowerShell/v1.0/powershell.exe"</span>
          ))
        xfound)
    (<span style="color: #0031a9; font-weight: bold;">setq</span> xfound (seq-some (<span style="color: #0031a9; font-weight: bold;">lambda</span> (x) (<span style="color: #0031a9; font-weight: bold;">if</span> (file-exists-p x) x nil)) xlist))
    (<span style="color: #0031a9; font-weight: bold;">when</span> xfound (<span style="color: #0031a9; font-weight: bold;">setq</span> explicit-shell-file-name xfound))))
</pre>
</div>
<p>Keen observers will note a definitive  bend to the [s]uper keybindings.</p>
<p>However, since Win10/11 and Linux DEs tend to expect keyboard layouts to resemble something like [Control] [super] [Alt] [space] [Alt] [super] … [Control]. I’m changing my  machines to match &amp; retraining my brain to accommodate.</p>
<p>For instances when I need to use the system file picker, I use this code:</p>
<div class="org-src-container"><label class="org-src-name"><em> Name: ews.el.</em></label></p>
<pre id="ews.el" class="src src-emacs-lisp">(<span style="color: #0031a9; font-weight: bold;">defun</span> <span style="color: #602938;">my-open-file-dialog</span> ()
  <span style="color: #304463; font-style: italic;">"Open the file dialog with custom settings.

URL: https://christiantietze.de/posts/2022/12/use-file-open-dialog-for-file-actions/
Created: 2022-12-01
Updated: 2025-11-03"</span>
  (<span style="color: #0031a9; font-weight: bold;">interactive</span>)
  (<span style="color: #0031a9; font-weight: bold;">let</span> ((last-nonmenu-event nil)
        (use-dialog-box t)
        (use-file-dialog t))
    (call-interactively #'find-file)))

<span style="color: #7f0000; font-style: italic;">;; </span><span style="color: #7f0000; font-style: italic;">You can then bind this function to a key if desired
</span><span style="color: #7f0000; font-style: italic;">;; </span><span style="color: #7f0000; font-style: italic;">(global-set-key (kbd "C-x C-f") 'my-open-file-dialog)  ; Example key binding</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org7ae2614" class="outline-2">
<h2 id="org7ae2614">Pandoc</h2>
<div id="text-org7ae2614" class="outline-text-2">
<p>I installed with <code>homebrew</code> on Mac and the Pandoc installer for Win32. I found useful advice here: <a href="https://ismailefe.org/blog/my_org_pandoc_workflow/index.html">My Org+Pandoc Workflow</a> including how to set up the associated files.</p>
<div class="org-src-container"><label class="org-src-name"><em> Name: init.el.</em></label></p>
<pre id="init.el" class="src src-emacs-lisp">(<span style="color: #0031a9; font-weight: bold;">use-package</span> pandoc)

(<span style="color: #0031a9; font-weight: bold;">use-package</span> ox-pandoc
  <span style="color: #721045; font-weight: bold;">:after</span> pandoc
  )
</pre>
</div>
<div class="org-src-container"><label class="org-src-name"><em> Name: w32.el.</em></label></p>
<pre id="w32.el" class="src src-emacs-lisp">(<span style="color: #0031a9; font-weight: bold;">use-package</span> pandoc-mode
  <span style="color: #721045; font-weight: bold;">:after</span> pandoc
  <span style="color: #721045; font-weight: bold;">:init</span>
  (<span style="color: #0031a9; font-weight: bold;">setopt</span>
   pandoc-binary <span style="color: #00598b;">"C:/Progra~1/Pandoc/pandoc.exe"</span>
   pandoc-data-dir <span style="color: #00598b;">"plrjorg/config/pandoc/"</span>
   )
  )
</pre>
</div>
<div class="org-src-container"><label class="org-src-name"><em> Name: ews.el.</em></label></p>
<pre id="ews.el" class="src src-emacs-lisp">(<span style="color: #0031a9; font-weight: bold;">defun</span> <span style="color: #602938;">my/export-to-docx</span> ()
  <span style="color: #304463; font-style: italic;">"Output to docx using pandoc-mode

URL: https://ismailefe.org/blog/my_org_pandoc_workflow/index.html
Created:2024-03-29
Updated: 2025-11-04"</span>
  (<span style="color: #0031a9; font-weight: bold;">interactive</span>)
  (pandoc-mode)
  (execute-kbd-macro (kbd <span style="color: #00598b;">"C-c / O W d b b r"</span>))
  (<span style="color: #0031a9; font-weight: bold;">setq</span> pandoc-mode nil)
  )

</pre>
</div>
</div>
</div>
<div id="outline-container-orgfbfeb1e" class="outline-2">
<h2 id="orgfbfeb1e">Markdown</h2>
<div id="text-orgfbfeb1e" class="outline-text-2">
<p>Several of the tools at work support markdown, so I need to too.</p>
<div class="org-src-container"><label class="org-src-name"><em> Name: init.el.</em></label></p>
<pre id="init.el" class="src src-emacs-lisp">(<span style="color: #0031a9; font-weight: bold;">use-package</span> markdown-mode
  <span style="color: #721045; font-weight: bold;">:bind</span>
  (<span style="color: #721045; font-weight: bold;">:map</span> markdown-mode-map
        (<span style="color: #00598b;">"C-c C-e"</span>  . markdown-export-and-preview)
        (<span style="color: #00598b;">"s-&lt;tab&gt;"</span>  . completion-at-point        )
        (<span style="color: #00598b;">"s-="</span>      . cc/emphasize-verbatim      )
        (<span style="color: #00598b;">"s-C"</span>      . cc/emphasize-code          )
        (<span style="color: #00598b;">"s-_"</span>      . cc/emphasize-underline     )
        (<span style="color: #00598b;">"s-b"</span>      . cc/emphasize-bold          )
        (<span style="color: #00598b;">"s-e"</span>      . cc/emphasize-dwim          )
        (<span style="color: #00598b;">"s-i"</span>      . cc/emphasize-italic        )
        (<span style="color: #00598b;">"s-s"</span>      . cc/emphasize-strike-through)
        )
  <span style="color: #721045; font-weight: bold;">:custom</span>
  (markdown-command <span style="color: #00598b;">"pandoc"</span>)
  <span style="color: #721045; font-weight: bold;">:hook</span>
  (markdown-mode . pandoc-mode)
  <span style="color: #721045; font-weight: bold;">:mode</span>
  (<span style="color: #00598b;">"README\\.md\\'"</span> . gfm-mode)
  )

(<span style="color: #0031a9; font-weight: bold;">use-package</span> ob-markdown
  <span style="color: #721045; font-weight: bold;">:vc</span> (ob-markdown <span style="color: #721045; font-weight: bold;">:url</span> <span style="color: #00598b;">"https://github.com/tnoda/ob-markdown.git"</span>)
  )

(<span style="color: #0031a9; font-weight: bold;">use-package</span> denote-markdown
  <span style="color: #721045; font-weight: bold;">:after</span> (denote markdown-mode)
  )
</pre>
</div>
<p>I want to align <code>markdown-mode</code> keybindings with my <code>org-mode</code> ones for equivalent functions. That’s a process.</p>
</div>
</div>
<div id="outline-container-org5342521" class="outline-2">
<h2 id="org5342521">LibreOffice for exporting</h2>
<div id="text-org5342521" class="outline-text-2">
<p>This is as described on the tin: dealing with Office files is easier with <a href="https://www.libreoffice.org/">LibreOffice</a> installed. Standard OS installation.</p>
</div>
</div>
<div id="outline-container-orga20af8a" class="outline-2">
<h2 id="orga20af8a">Fonts &amp; displays</h2>
<div id="text-orga20af8a" class="outline-text-2">
<p>This revelation made things look good as I jump platforms. I put this in my <code>early-init.el</code>.</p>
<div class="org-src-container"><label class="org-src-name"><em> Name: early-init.el.</em></label></p>
<pre id="early-init.el" class="src src-emacs-lisp"><span style="color: #7f0000; font-style: italic;">;; </span><span style="color: #7f0000; font-style: italic;">Set up the display for proper font scaling
</span><span style="color: #7f0000; font-style: italic;">;; </span><span style="color: #7f0000; font-style: italic;">https://vxlabs.com/2023/12/09/charls-super-hacky-but-often-working-automatic-emacs-font-size-setting/
</span><span style="color: #7f0000; font-style: italic;">;;</span>
<span style="color: #7f0000; font-style: italic;">;; </span><span style="color: #7f0000; font-style: italic;">The main goal is to get the physical / apparent size of the font, in millimetres, to be more similar across all displays and display systems (Different screens across macOS, Windows with and without display scaling, WSL). This sounds like it should be easy, but setting font point size to the same number is in fact interpreted differently on various display systems.
</span>
<span style="color: #7f0000; font-style: italic;">;; </span><span style="color: #7f0000; font-style: italic;">Some noteworthy and maybe educational aspects:
</span>
<span style="color: #7f0000; font-style: italic;">;;     </span><span style="color: #7f0000; font-style: italic;">`</span><span style="color: #531ab6; font-style: italic;">cpb-get-windows-display-scale</span><span style="color: #7f0000; font-style: italic;">' uses powershell on Windows to determine the current display scale, e.g. 125% should yield 1.25, in order to determine the effective (scaled) resolution on that platform. The problem is that Emacs reports raw resolution (not scaled), but setting font size works in the scaled space.
</span><span style="color: #7f0000; font-style: italic;">;;     </span><span style="color: #7f0000; font-style: italic;">`</span><span style="color: #531ab6; font-style: italic;">get-monitor-width-mm</span><span style="color: #7f0000; font-style: italic;">' uses awk to parse out the physical display width from the weston.log file, because on WSL, the reported physical widhth (in mm) is hardcoded to 96 DPI. Doh.
</span>
(<span style="color: #0031a9; font-weight: bold;">defun</span> <span style="color: #602938;">get-mon-attr</span> (which)
  (cdr (assoc which (car (display-monitor-attributes-list)))))

(<span style="color: #0031a9; font-weight: bold;">defun</span> <span style="color: #602938;">cpb-get-windows-display-scale</span> ()
  <span style="color: #304463; font-style: italic;">"Use powershell to get the HiDPI display scale as a floating point number."</span>
  (<span style="color: #0031a9; font-weight: bold;">let</span> ((output-buffer (generate-new-buffer <span style="color: #00598b;">"output-buffer"</span>)))
    (<span style="color: #0031a9; font-weight: bold;">unwind-protect</span>
        (<span style="color: #0031a9; font-weight: bold;">progn</span>
          <span style="color: #7f0000; font-style: italic;">;; </span><span style="color: #7f0000; font-style: italic;">powershell to get scaling: https://unix.stackexchange.com/a/713831/32868
</span>          (call-process <span style="color: #00598b;">"powershell.exe"</span> nil output-buffer nil <span style="color: #00598b;">"-NoProfile"</span> <span style="color: #00598b;">"-Command"</span> <span style="color: #00598b;">"Add-Type -AssemblyName System.Windows.Forms; [int](Get-CimInstance -ClassName Win32_VideoController)[0].CurrentVerticalResolution / [int][System.Windows.Forms.SystemInformation]::VirtualScreen.Height"</span>)
          (<span style="color: #0031a9; font-weight: bold;">with-current-buffer</span> output-buffer
            (string-to-number (string-replace <span style="color: #00598b;">","</span> <span style="color: #00598b;">"."</span> (string-trim (buffer-string))))))
      (kill-buffer output-buffer))))

(<span style="color: #0031a9; font-weight: bold;">defun</span> <span style="color: #602938;">get-monitor-width-mm</span> ()
  (<span style="color: #0031a9; font-weight: bold;">if</span> (getenv <span style="color: #00598b;">"WSL_DISTRO_NAME"</span>)
      <span style="color: #7f0000; font-style: italic;">;; </span><span style="color: #7f0000; font-style: italic;">under WSLg 2021-01-21, physical dimensions are not correctly reported anywhere but weston.log,
</span>      <span style="color: #7f0000; font-style: italic;">;; </span><span style="color: #7f0000; font-style: italic;">(I hear this is a wayland issue, not just wslg)
</span>      <span style="color: #7f0000; font-style: italic;">;; </span><span style="color: #7f0000; font-style: italic;">so we use good old awk to get the last occurrence in the log file
</span>      (<span style="color: #0031a9; font-weight: bold;">let*</span> ((awk-dims (shell-command-to-string <span style="color: #00598b;">"awk 'match($0, /physicalWidth:([0-9]+), physicalHeight:([0-9]+)/,a) {width=a[1];height=a[2]} END {print width \",\" height}' /mnt/wslg/weston.log"</span>))
             (splitd (split-string awk-dims <span style="color: #00598b;">","</span>))
             (width-mm (string-to-number (car splitd))))
        width-mm)
    <span style="color: #7f0000; font-style: italic;">;; </span><span style="color: #7f0000; font-style: italic;">on other systems, we use whatever Emacs thinks it is
</span>    (car (get-mon-attr 'mm-size))))

(<span style="color: #0031a9; font-weight: bold;">setq</span> monitor-width (get-monitor-width-mm))

(<span style="color: #0031a9; font-weight: bold;">if</span> monitor-width
    (<span style="color: #0031a9; font-weight: bold;">progn</span>
      (<span style="color: #0031a9; font-weight: bold;">setq</span> monitor-hpix (nth 2 (get-mon-attr 'geometry)))
      <span style="color: #7f0000; font-style: italic;">;; </span><span style="color: #7f0000; font-style: italic;">estimate *effective* PPI (i.e. taking into account scaling / super-sampling)
</span>      <span style="color: #7f0000; font-style: italic;">;; </span><span style="color: #7f0000; font-style: italic;">the higher the PPI, the more font-pts we need to get characters that are big enough
</span>      <span style="color: #7f0000; font-style: italic;">;; </span><span style="color: #7f0000; font-style: italic;">- on macOS, it reports the effective PPI (taking into account scaling) already
</span>      <span style="color: #7f0000; font-style: italic;">;; </span><span style="color: #7f0000; font-style: italic;">- on native Windows, it reports the raw resolution, so we divide by the display scaling to get effective
</span>      <span style="color: #7f0000; font-style: italic;">;;   </span><span style="color: #7f0000; font-style: italic;">important because font size setting is via effective
</span>      <span style="color: #7f0000; font-style: italic;">;; </span><span style="color: #7f0000; font-style: italic;">- on WSL it reports native, but font size setting is also native and not scaled, so it works like it should
</span>      (<span style="color: #0031a9; font-weight: bold;">setq</span> display-scale (<span style="color: #0031a9; font-weight: bold;">if</span> (eq system-type 'windows-nt) (cpb-get-windows-display-scale) 1.0))
      (<span style="color: #0031a9; font-weight: bold;">setq</span> ppi-est (/ monitor-hpix display-scale (/ monitor-width 25.4)))

      <span style="color: #7f0000; font-style: italic;">;; </span><span style="color: #7f0000; font-style: italic;">thinkpad 14" at 100%: (/ 1920 (/ 344 25.4)) =&gt; 141.767 -&gt; 140 pts
</span>      <span style="color: #7f0000; font-style: italic;">;; </span><span style="color: #7f0000; font-style: italic;">4K at 100% because mac: 3840x =&gt; 139
</span>      <span style="color: #7f0000; font-style: italic;">;; </span><span style="color: #7f0000; font-style: italic;">m1 mba built-in display: (/ 1440.0 (/ 286 25.4)) =&gt; 127.88
</span>      <span style="color: #7f0000; font-style: italic;">;; </span><span style="color: #7f0000; font-style: italic;">4K at 125%: (/ 3072.0 (/ 697 25.4)) =&gt;  111.949
</span>      <span style="color: #7f0000; font-style: italic;">;; </span><span style="color: #7f0000; font-style: italic;">- with wslg 1.0.32, geometry now returns the full, unscaled resolution
</span>      <span style="color: #7f0000; font-style: italic;">;;   </span><span style="color: #7f0000; font-style: italic;">so we get ppi-est 139 even with 125% scaling
</span>      <span style="color: #7f0000; font-style: italic;">;; </span><span style="color: #7f0000; font-style: italic;">4K with WACKY macOS scaling 3008x1692: =&gt; 109.147
</span>      <span style="color: #7f0000; font-style: italic;">;; </span><span style="color: #7f0000; font-style: italic;">27" at 2560x1440 is 108.92 -&gt; font size 130 pts looks fine there
</span>      <span style="color: #7f0000; font-style: italic;">;; </span><span style="color: #7f0000; font-style: italic;">use ppi-est to adjust font points for your eyes
</span>      (<span style="color: #0031a9; font-weight: bold;">setq</span> my-font-pts (<span style="color: #0031a9; font-weight: bold;">cond</span>
                         ((&gt;= ppi-est 139) 160)
                         ((&gt;= ppi-est 109) 140)
                         (t 130))))

  <span style="color: #7f0000; font-style: italic;">;; </span><span style="color: #7f0000; font-style: italic;">fallback for when we DON'T have monitor-width, e.g. in text mode
</span>  (<span style="color: #0031a9; font-weight: bold;">setq</span> my-font-pts 140)
  )

(set-face-attribute 'default nil <span style="color: #721045; font-weight: bold;">:height</span> my-font-pts)
</pre>
</div>
</div>
</div>
<div id="outline-container-org87bd4ba" class="outline-2">
<h2 id="org87bd4ba">Cloud sync</h2>
<div id="text-org87bd4ba" class="outline-text-2">
<p>Mostly I use <a href="https://nextcloud.com/">Nextcloud</a> for syncing all the things: files, calendars, contacts, RSS, and others.</p>
<p>I use <a href="https://www.devontechnologies.com/apps/devonthink">Devonthink</a> as my archive. The server version provides a web interface for non- devices.</p>
<p>There is a little bit of iCloud in my config I’m disentangling, but …</p>
</div>
</div>
<div id="outline-container-org94c6918" class="outline-2">
<h2 id="org94c6918">Mobile</h2>
<div id="text-org94c6918" class="outline-text-2">
<p>From the Emacs side of things I rely heavily on <a href="https://www.beorgapp.com/">beorg</a> on the  mobile devices. It is the glue. This is important for my workflow. It connects Reminders and Calendar with org-mode. Plus it provides alerting on the  devices for <a href="https://plrj.org/2025/05/20/my-orgmode-compatible-ios-shortcuts-meeting-capture-workflow-with-beorg/">my org events</a>.</p>
<p>Because I’m often mobile and often need to pivot contexts quickly and briefly, friction is a significant hurdle. Maintenance, too, poses challenges.</p>
<p>I’m using Notes and Freeform. I export PDFs to get the info into org and <a href="https://www.devontechnologies.com/apps/devonthink">Devonthink</a>.</p>
<p><a href="https://xenodium.com/journelly-like-tweeting-but-for-your-eyes-only">Journelly</a> goes in and out of the mix, but I think I’ll put it back in as my commonplace book. I’ve tried Notes for this but there are too many steps to append to a note.</p>
<p>As for Android, <a href="https://orgzlyrevived.com/">orgzly-revived</a> seems the best of a paltry selection of apps. For as little as I’m on Android, it works fine. And yes, I know one can run the Emacs port. I chose not to do so.</p>
</div>
</div>
<div id="outline-container-orgc299ce8" class="outline-2">
<h2 id="orgc299ce8">Epilog</h2>
<div id="text-orgc299ce8" class="outline-text-2">
<p>Sharp eyed observers will note I did not talk much about Fedora Linux. My laptop has Omarchy on it right now. Soon I’ll wipe it. Stay tuned.</p>
</div>
</div>
