<h2 id="reason">Reason</h2>
<p>Let&rsquo;s be honest as Emacs users. Sometimes a fully fledged browser experience or display of content is called for and – dare I say – superior. Be it for either displaying dynamic content, (moving) images, well designed websites and the sort.</p>
<p>For that reason we sometimes need to go to a browser. This however means a possibly unwanted context switch and worse of all leaving Emacs.</p>
<p>In comes the Xwidgets framework. This allows appropriate packages to implement <code>WebKit Widgets</code>. Meaning that WebKit based content can be embedded in Emacs. And though the magic of it all we are allowed to stay a bit longer in our favorite tool.</p>
<h2 id="how-i-use-it">How I use it</h2>
<p>Let me try and give you some example to illustrate in which cases WebKit Widgets are useful to me.</p>
<h3 id="browser">Browser</h3>
<p>The following image shows a YouTube video running inside Emacs. Sound, caption and all. The only thing that does not work here as far as I can see is full screen. But that is just nagging at that point.</p>
<figure><img src="https://macowners.club/images/xwidgets-browser-2.png" width="800px">
</figure>

<h3 id="html-email-display">HTML email display</h3>
<p>By default mu4e does a fantastic job of displaying HTML emails. And honestly <a href="https://macowners.club/posts/text-based-email-workflow-macos/">I prefer the plain text display of emails</a> anyways. However there are some cases, where one wants to see the email as it was intended to be displayed.</p>
<figure><img src="https://macowners.club/images/xwidgets-mu4e.png" width="800px">
</figure>

<p>This is not a default behavior as far as I can see. Plus, the code for the functionality of Xwidget view action in mu4e is being – or rather has been deprecated. However there is a PR with a library that can be used to regain that &ldquo;power&rdquo;.</p>
<p>I added the <code>mu4e-view-xwidget.el</code> file into my <code>load-path</code> and put the following snippet into my configuration. with that I can toggle the display of my email in an Xwidget.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nv">add-to-list</span> <span class="ss">&#39;mu4e-headers-actions</span>
</span></span><span class="line"><span class="cl">             <span class="o">&#39;</span><span class="p">(</span><span class="s">&#34;xWidget&#34;</span> <span class="o">.</span> <span class="nv">mu4e-action-view-with-xwidget</span><span class="p">)</span> <span class="no">t</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">add-to-list</span> <span class="ss">&#39;mu4e-view-actions</span>
</span></span><span class="line"><span class="cl">             <span class="o">&#39;</span><span class="p">(</span><span class="s">&#34;xWidget&#34;</span> <span class="o">.</span> <span class="nv">mu4e-action-view-with-xwidget</span><span class="p">)</span> <span class="no">t</span><span class="p">)</span>
</span></span></code></pre></div><h3 id="editing-content-with-preview">Editing content with preview</h3>
<p>The following image is actually showing the live preview while I am typing it – inside of Emacs. I use <a href="https://gohugo.io">Hugo</a> for the static site, in case you are asking.</p>
<figure><img src="https://macowners.club/images/xwidgets-hugo-preview.png" width="800px">
</figure>

<h3 id="preview-markdown-and-org-mode-with-a-package">Preview markdown and org-mode with a package</h3>
<p>Another useful preview tool which works using Xwidgets is <a href="https://melpa.org/#/grip-mode">grip-mode</a>, which I use extensively.</p>
<figure><img src="https://macowners.club/images/xwidgets-grip-mode.png" width="800px">
</figure>

<h2 id="conclusion">Conclusion</h2>
<p>Now I could have stopped with the first example. The ability of displaying most websites or html content entails quite a bit of power. One can only imagine the possibilities.</p>
<p>I am not saying that you should move all of your browsing into Emacs. I do not do this myself, but some fast searches or quick lookup work great in Emacs. And frankly this is but a taste for the potential.</p>
<h2 id="meta">Meta</h2>
<ul>
<li><strong>Machine:</strong> MacBook Pro 13&quot; M1</li>
<li><strong>OS:</strong> macOS Monterey</li>
<li><strong>Emacs Version:</strong> GNU Emacs 28.1</li>
<li><strong>Emacs installation using <a href="https://brew.sh">homebrew</a>:</strong></li>
</ul>
<!--listend-->
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">brew tap railwaycat/emacsmacport
</span></span><span class="line"><span class="cl">brew install emacs-mac --with-native-comp --with-xwidgets --with-natural-title-bar
</span></span></code></pre></div>