<p><strong>Summary: </strong>
In this post I walk through my thoughts around removing outdated #Denote functionality in #Emacs, which meant updating a dependency, that fixed a long-standing ‚Äúbug‚Äù, and moving towards an already established daily #OrgMode pattern.
</p>
        <p><time datetime="2025-04-09" title="2025-04-09">Last night</time> I took some time to re-work my <span><a href="https://protesilaos.com/emacs/denote">Denote</a></span> <small><a class="ref" rel="tag opener" aria-label="Other site-wide references of ‚ÄúDenote‚Äù" title="Other site-wide references of ‚ÄúDenote‚Äù" href="https://takeonrules.com/site-map/glossary/#abbr-dfn-DENOTE">&#128214;</a></small>
 structure.</p>
<h2 id="why-the-re-work">Why the Re-Work?</h2>
<p>In part I wanted to move past a pinned version of <span>Denote</span>
; as I had found a
behavior change that introduced enough chaos in my workflow that I chose to
stick with a known version.</p>
<p>The observed problem with my pinned version was in back-links.<small class="side-container">
  <span class="side-label"><span class="hidden">(</span>Sidenote<span class="hidden">:</span></span>
  <span class="side" role="note"> I think there might have been another reason for pinning, but that reason is
lost to me (and maybe in my <span><a href="https://en.wikipedia.org/wiki/Git">Git</a></span> <small><a class="ref" rel="tag opener" aria-label="Other site-wide references of ‚ÄúGit‚Äù" title="Other site-wide references of ‚ÄúGit‚Äù" href="https://takeonrules.com/site-map/glossary/#abbr-dfn-GIT">üìñ</a></small>
commit history).<span class="hidden">)</span></span>
</small>
</p>
<p>Namely, <span>Denote</span>
 would find back-links, but in my version the link to those files
would point to a missing file; in that the domain was treated as a sub-folder of
the current note.  This was not ideal, as it would mean if I followed that I‚Äôd
create a new file (with the same identifier as the back-linking note).</p>
<p>Related to that problem was my using of an early concept of <a href="https://protesilaos.com/emacs/denote-silo">Denote Silos</a>.  I
wrote about my domains of <span>Denote</span>
 in 
<cite><a href="https://takeonrules.com/2022/10/09/denote-emacs-configuration/">Denote Emacs Configuration</a></cite>.  The idea of the
domains was that some of my notes would travel a bit; that is my glossary would
be on multiple machines, either personal or owned by my employer.</p>
<p>Each domain was its own git repository, allowing for synchronization between
machines.</p>
<p>However, I decided to excise my glossary from my work machine.  The shared
glossary was not as useful as I thought.  Which was the linchpin that held the
functional need for a domain; and in removing it, the need collapsed.</p>
<p>With the need collapsed, I looked towards a simplification.</p>
<h2 id="towards-simplification">Towards Simplification</h2>
<p>My plan: move all notes into the same directory.  But I wanted this change to be
reversible.</p>
<p>For each file in a domain, I added the domain as a tag to that file.  I used
dired and <span>Denote</span>
‚Äôs <code>denote-dired-rename-marked-files-add-keywords</code> function to
apply those tags.</p>
<p>Once I had tagged each file, I again used dired to move those files out of the
domain and into the general bucket.</p>
<p>I removed my domain macro and calls to that macro.  With the domain macro gone,
I went hunting for unused code.  And tidied up how I exported a blog post from
<span><a href="https://orgmode.org/">Org-Mode</a></span> <small><a class="ref" rel="tag opener" aria-label="Other site-wide references of ‚ÄúOrg-Mode‚Äù" title="Other site-wide references of ‚ÄúOrg-Mode‚Äù" href="https://takeonrules.com/site-map/glossary/#abbr-dfn-ORG-MODE">&#128214;</a></small>
.<small class="side-container">
  <span class="side-label"><span class="hidden">(</span>Sidenote<span class="hidden">:</span></span>
  <span class="side" role="note"> The <a href="https://github.com/jeremyf/dotemacs/commit/6a8bbb52493db975ab8d13b4749b474ba7ee3368">Github commit 6a8bbb52493db975ab8d13b4749b474ba7ee3368</a> contains the
changes.<span class="hidden">)</span></span>
</small>
</p>
<p>I did some quick and dirty testing, and things worked.  The tags served a
similar function as the domains.</p>
<h2 id="tapping-into-a-habit">Tapping into a Habit</h2>
<p>Previously, to create a blog post, I would <code>M-x jf/denote/create--blog-post</code>,
which I bound to <code>H-d c b</code>.  <time datetime="2022-10-09" title="2022-10-09">Since</time> creating that domain macro, I started writing a
daily journal.  This used an <code>org-capture-template</code>.  And had become a habit I was
sustaining.<small class="side-container">
  <span class="side-label"><span class="hidden">(</span>Sidenote<span class="hidden">:</span></span>
  <span class="side" role="note"> See
<cite><a href="https://takeonrules.com/2021/06/07/molding-emacs-to-reinforce-habits-i-want-to-develop/">Molding Emacs to Reinforce Habits I Want to Develop</a></cite> for more on this
habit feedback loop.<span class="hidden">)</span></span>
</small>
</p>
<p>I spent some time <time datetime="2025-04-09" title="2025-04-09">today</time> creating capture templates for these previous domains.
The benefit: the preliminary command I use for my note-taking habit is now the
same preliminary command for composing a blog post and making a glossary entry.</p>
<p>Let‚Äôs look first at <a href="https://github.com/jeremyf/dotemacs/blob/77e8e9c085825e2af4e356f60dae546671cb7b8f/emacs.d/personal.el#L66-L91">my Blog Post org-capture-template</a>:</p>
<pre><code class="language-emacs-lisp">(add-to-list 'org-capture-templates
  '(&quot;b&quot; &quot;Blog Post&quot;
     plain (file denote-last-path)
     (function
       (lambda ()
         (let* ((denote-use-title
                  ;; If I don't provide the title, then it'll use the
                  ;; active region as the title, and failing that list
                  ;; previous titles I've used from which to select.
                  ;; With this let clause, I'm asking for a clean title.
                  (read-string &quot;Blog Post Title: &quot;))
                 (denote-use-keywords
                  `(,jf/denote/keywords/blogPosts))
                 (denote-org-capture-specifiers
                   ;; When I am capturing with an active region, use the
                   ;; capture wrap; that is bring the highlighted region
                   ;; along.  Else, when I'm not capturing with an
                   ;; active region, just prompt to start writing.
                   (if (use-region-p)
                     &quot;%(jf/denote/capture-wrap :link \&quot;%L\&quot; :content \&quot;%i\&quot;)&quot;
                     &quot;&quot;)))
           (denote-org-capture))))
     :no-save t
     :immediate-finish nil
     :kill-buffer t
     :jump-to-captured t))
</code></pre>
<p>I wrote this following the <a href="https://protesilaos.com/emacs/denote#h:656c70cd-cf9a-4471-a0b5-4f0aaf60f881">‚ÄúCreate note using Org capture‚Äù of the Denote Manual</a>.</p>
<p>I prompt for the title, set the keywords to <code>blogPosts</code> and have a conditional
specifier.  Namely, if I have a highlighted region when I invoke the capture,
use that region as the baseline for the body.<small class="side-container">
  <span class="side-label"><span class="hidden">(</span>Sidenote<span class="hidden">:</span></span>
  <span class="side" role="note"> I wrote about this in
<cite><a href="https://takeonrules.com/2024/12/04/refining-my-quotation-capture-process/">Refining My Quotation Capture Process</a></cite>.<span class="hidden">)</span></span>
</small>
</p>
<p>Now let‚Äôs look at <a href="https://github.com/jeremyf/dotemacs/blob/77e8e9c085825e2af4e356f60dae546671cb7b8f/emacs.d/personal.el#L93-L141">my Glossary Entry org capture template</a>:</p>
<pre><code class="language-emacs-lisp">(add-to-list 'org-capture-templates
'(&quot;g&quot; &quot;Glossary Entry&quot;
   plain (file denote-last-path)
   (function
     (lambda ()
       ;; (setq-local keywords (list))
       (let* ((keywords
                `(,jf/denote/keywords/glossary))
               (title
                (read-string &quot;Glossary Entry Title: &quot;))
               (is-a-game
                 (yes-or-no-p &quot;Is this a game?&quot;))
               (is-a-tag
                 (yes-or-no-p &quot;Is a tag for Take on Rules?&quot;))
               (abbr
                 (read-from-minibuffer &quot;Abbreviation (empty to skip): &quot;))
               (key
                 (downcase (denote-sluggify-title title))))
         (when is-a-game
           (add-to-list 'keywords jf/denote/keywords/games))
         (when (s-present? abbr)
           (add-to-list 'keywords jf/denote/keywords/abbr))
         (let* ((denote-use-title
                  title)
                 (denote-use-template
                   (concat
                     &quot;#+GLOSSARY_KEY: &quot; key &quot;\n&quot;
                     (when (s-present? abbr)
                       (concat &quot;#+ABBR: &quot; abbr &quot;\n&quot;))
                     (when is-a-game
                       (concat &quot;#+GAME: &quot; key &quot;\n&quot;))
                     (when (s-present? abbr)
                       (concat
                         &quot;#+PLURAL_ABBR: %^{Plural Abbr|&quot; abbr &quot;s}\n&quot;
                         &quot;#+PLURAL_TITLE: %^{Plural Title|&quot; title &quot;s}\n&quot;))
                     (when is-a-tag
                       (concat &quot;#+TAG: &quot; key &quot;\n&quot;))))
                 (denote-use-signature
                   (when (s-present? abbr)
                     (denote-sluggify-signature abbr)))
                 (denote-use-keywords
                   keywords)
                 (denote-org-capture-specifiers
                   &quot;%?&quot;))
           (denote-org-capture)))))
   :no-save t
   :immediate-finish nil
   :kill-buffer t
   :jump-to-captured t))
</code></pre>
<p>This one is far more complicated, in part because my Glossary does a lot of work:</p>
<ul>
<li>Defines what terms are abbreviations</li>
<li>If and when those abbreviations are plural</li>
<li>Whether or not the entry is a game</li>
<li>Whether or not the entry represents a tag I use for blogging</li>
<li>And some other stuff not captured in this capture template (e.g. when
relevant, the URL(s) of the named item).</li>
</ul>
<p>When I capture a Glossary Entry, I prompt for the relevant information and then
build a conformant file.</p>
<h2 id="what-are-my-personal-capture-templates">What Are My Personal Capture Templates</h2>
<p>With these changes, my personal capture templates are as follows:</p>
<dl>
<dt><kbd>b</kbd> Blog Post</dt>
<dd>start writing a blog post (as mentioned above).</dd>
<dt><kbd>c</kbd> Content Clock</dt>
<dd>capture the highlighted region to the currently
clocking headline.</dd>
<dt><kbd>d</kbd> Dictionary</dt>
<dd>write to my personal dictionary of discovered
words.</dd>
<dt><kbd>g</kbd> Glossary Entry</dt>
<dd>create a glossary entry (as mentioned above).</dd>
<dt><kbd>j</kbd> Journal Entry</dt>
<dd>go to ‚Äútoday‚Äù, and insert a time stamp and
position to just start writing.  These are personal thoughts.  And ones that I
am comfortable printing and keeping in my house.</dd>
<dt><kbd>p</kbd> Person to Quote</dt>
<dd>name a person whom I‚Äôm likely to quote; this
ties into my 
<cite><a href="https://takeonrules.com/2024/11/27/refining-my-personal-bibliography-and-epigraph-process/">Refining My Personal Bibliography and Epigraph Process</a></cite>.</dd>
<dt><kbd>q</kbd> Quote</dt>
<dd>associate a quote with a source (person or work).</dd>
<dt><kbd>r</kbd> Add to RSS Feed</dt>
<dd>add an item to my RSS feed; in writing this I
think I should always assign the tag ‚Äúprovisional‚Äù.</dd>
<dt><kbd>t</kbd> Task</dt>
<dd>add a task to my journal.</dd>
<dt><kbd>v</kbd> Add to Today‚Äôs Private Thoughts</dt>
<dd>My journal is personal, but
sometimes I have private thoughts I want to work through.  These are elements
I won‚Äôt print out; I haven‚Äôt used this much and consider it on probation.</dd>
<dt><kbd>w</kbd> Work</dt>
<dd>a named work (e.g. a book, a song, an essay, a blog
post).  Used to provide context for a quote as well as manage my ‚Äúshopping
list‚Äù (as written about in 
<cite><a href="https://takeonrules.com/2024/11/27/extending-my-bibliography-for-an-on-the-go-shopping-list/">Extending My Bibliography for an On The Go ‚ÄúShopping List‚Äù</a></cite>)</dd>
</dl>
<h2 id="conclusion">Conclusion</h2>
<p>My <span><a href="https://en.wikipedia.org/wiki/Emacs">Emacs</a></span> <small><a class="ref" rel="tag opener" aria-label="Other site-wide references of ‚ÄúEmacs‚Äù" title="Other site-wide references of ‚ÄúEmacs‚Äù" href="https://takeonrules.com/site-map/glossary/#abbr-dfn-EMACS">&#128214;</a></small>
 environment is a personal hobby that supports my professional,
authorial, and thinking life.  Seeing functional needs diminish and adjacent
technical problems bubble up was my impetus to explore.</p>
<p>I did so with a reversible mindset, and the end result is that I merged past
paradigms into a current working paradigm.</p>

	<p><a class="reply-by-email" href="mailto:reply-to@takeonrules.com?subject=RE:Tending%20to%20my%20Writing%20Ecosystem%20and%20Existing%20Notes">Reply by Email</a></p>

      