
        <p>Related Links :: <span class="label">Tags:</span> <span role="list" aria-label="Tags for ‚ÄúExtending Emacs to Play Mythic Bastionland‚Äù">
<span role="listitem" aria-label="&ldquo;emacs&rdquo; tag navigation"><a href="https://takeonrules.com/2025/12/05/managing-lightdark-scheme-in-macos-and-linux/" aria-label="Previous post tagged with &ldquo;emacs&rdquo; is &ldquo;Managing Light/Dark Scheme in MacOS and Linux&rdquo;" title="Older post tagged with &ldquo;emacs&rdquo; is &ldquo;Managing Light/Dark Scheme in MacOS and Linux&rdquo;"><small>&lt;</small></a>
<a href="https://takeonrules.com/tags/emacs/" class="p-category" aria-label="All posts tagged with &ldquo;emacs&rdquo;" title="All posts tagged with &ldquo;emacs&rdquo;">emacs</a> <a href="https://takeonrules.com/2025/12/10/extending-core-emacs-bookmark-package/" aria-label="Next post tagged with &ldquo;emacs&rdquo; is &ldquo;Extending Core Emacs Bookmark Package&rdquo;" title="Newer post tagged with &ldquo;emacs&rdquo; is &ldquo;Extending Core Emacs Bookmark Package&rdquo;"><small>&gt;</small></a>
</span><span aria-hidden=true> &middot; </span>
<span role="listitem" aria-label="&ldquo;programming&rdquo; tag navigation"><a href="https://takeonrules.com/2025/12/05/managing-lightdark-scheme-in-macos-and-linux/" aria-label="Previous post tagged with &ldquo;programming&rdquo; is &ldquo;Managing Light/Dark Scheme in MacOS and Linux&rdquo;" title="Older post tagged with &ldquo;programming&rdquo; is &ldquo;Managing Light/Dark Scheme in MacOS and Linux&rdquo;"><small>&lt;</small></a>
<a href="https://takeonrules.com/tags/programming/" class="p-category" aria-label="All posts tagged with &ldquo;programming&rdquo;" title="All posts tagged with &ldquo;programming&rdquo;">programming</a> <a href="https://takeonrules.com/2025/12/10/extending-core-emacs-bookmark-package/" aria-label="Next post tagged with &ldquo;programming&rdquo; is &ldquo;Extending Core Emacs Bookmark Package&rdquo;" title="Newer post tagged with &ldquo;programming&rdquo; is &ldquo;Extending Core Emacs Bookmark Package&rdquo;"><small>&gt;</small></a>
</span><span aria-hidden=true> &middot; </span>
<span role="listitem" aria-label="&ldquo;technologies&rdquo; tag navigation"><a href="https://takeonrules.com/2025/12/05/managing-lightdark-scheme-in-macos-and-linux/" aria-label="Previous post tagged with &ldquo;technologies&rdquo; is &ldquo;Managing Light/Dark Scheme in MacOS and Linux&rdquo;" title="Older post tagged with &ldquo;technologies&rdquo; is &ldquo;Managing Light/Dark Scheme in MacOS and Linux&rdquo;"><small>&lt;</small></a>
<a href="https://takeonrules.com/tags/technologies/" class="p-category" aria-label="All posts tagged with &ldquo;technologies&rdquo;" title="All posts tagged with &ldquo;technologies&rdquo;">technologies</a> <a href="https://takeonrules.com/2026/01/01/fallacy-of-record/" aria-label="Next post tagged with &ldquo;technologies&rdquo; is &ldquo;Fallacy of Record&rdquo;" title="Newer post tagged with &ldquo;technologies&rdquo; is &ldquo;Fallacy of Record&rdquo;"><small>&gt;</small></a>
</span></span>
<span aria-hidden="true"> :: </span><span class="label">Series:</span> <a href="https://takeonrules.com/2025/12/09/mythic-bastionland-session-reflection/" aria-label="Older post in &ldquo;Forged from the Worst&rdquo; is &ldquo;Mythic Bastionland Session Reflection&rdquo;" title="Older post in &ldquo;Forged from the Worst&rdquo; is &ldquo;Mythic Bastionland Session Reflection&rdquo;"><small> &lt; </small></a><cite><a href="https://takeonrules.com/series/forged-from-the-worst">Forged from the Worst</a></cite><a href="https://takeonrules.com/2025/12/10/forged-from-the-worst-session-2/" aria-label="Newer post in &ldquo;Forged from the Worst&rdquo; is &ldquo;Forged from the Worst: Session 2&rdquo;" title="Newer post in &ldquo;Forged from the Worst&rdquo; is &ldquo;Forged from the Worst: Session 2&rdquo;"><small> &gt; </small></a>
</p/><p><strong>Summary: </strong>
Swapping out bookmarks while playing #MythicBastionland then restoring when finished.  Also opening PDFs to random pages to simulate rolling on #RandomTables.
</p>
        <p>For playing <cite><a href="https://www.drivethrurpg.com/en/product/514996/mythic-bastionland?affiliate_id=318171">Mythic Bastionland</a></cite> <small><a class="ref" rel="tag opener" aria-label="Other site-wide references of ‚ÄúMythic Bastionland‚Äù" title="Other site-wide references of ‚ÄúMythic Bastionland‚Äù" href="https://takeonrules.com/site-map/glossary/#abbr-dfn-GLOSSARY-MYTHIC-BASTIONLAND">&#128214;</a></small>
, I‚Äôve been using or building out tooling.  First,
I‚Äôm leaning on <a href="https://github.com/jeremyf/random-table.el">my random-tables package</a>.  Next, while playing, I manually
swapped out my baseline <span><a href="https://en.wikipedia.org/wiki/Emacs">Emacs</a></span> <small><a class="ref" rel="tag opener" aria-label="Other site-wide references of ‚ÄúEmacs‚Äù" title="Other site-wide references of ‚ÄúEmacs‚Äù" href="https://takeonrules.com/site-map/glossary/#abbr-dfn-GLOSSARY-EMACS">&#128214;</a></small>
 bookmarks for game specific bookmarks.  Last, I
began thinking about flipping to random PDF pages for inspiration.</p>
<h2 id="swapping-out-bookmarks">Swapping Out Bookmarks</h2>
<p>What I posted in <a href="https://takeonrules.com/2025/12/08/forged-from-the-worst-session-1/">Forged from the Worst: Session 1</a> worked, but I started thinking
about how I might alter <span>Emacs</span>
 while running/playing the game.  At first, this
felt akin to turning on a minor mode.  But the more I thought about it, it was
more equivalent to using <code>org-clock</code>.</p>
<p>A quick brainstorm, and I realized that while playing:</p>
<ul>
<li>I wanted different bookmarks.</li>
<li>Additional snippets (for my knight and squires name).</li>
<li>An indicator that I was playing the game.</li>
<li>And depending on how I organize my campaign world notes, maybe I‚Äôd start a
clock on the headline associated with my world notes.</li>
</ul>
<p>I haven‚Äôt yet implemented the world notes, but I have made adjustments for the
others.  Here‚Äôs what I have:</p>
<p>First, I establish a variable to track the state of ‚Äúplaying/not playing.‚Äù</p>
<pre><code class="language-emacs-lisp">(defvar playing-forged-from-the-worst nil
  &quot;When non-nil, indicates that I'm playing Forged from the Worst.&quot;)
</code></pre>
<p>Then I created a command to toggle that on and off:</p>
<pre><code class="language-emacs-lisp">(defun toggle-forged-from-the-worst ()
  &quot;Begin or end playing Forged from the Worst.&quot;
  (interactive)
  (load &quot;jf-mythic-bastionland.el&quot;)
  (setq playing-forged-from-the-worst
    (not playing-forged-from-the-worst))
  (bookmark-load
    (if playing-forged-from-the-worst
      &quot;~/SyncThings/source/forged-from-the-worst/forged=from=the=worst--bookmarks.el&quot;
      &quot;~/emacs-bookmarks.el&quot;)
    t nil t))

</code></pre>
<p>The command loads my random tables for the campaign.  Toggles state.  The loads
the correct bookmarks based on state.</p>
<p>To indicate that I‚Äôm ‚Äúplaying‚Äù, I then added a variable that I could use with my
modeline:</p>
<pre><code class="language-emacs-lisp">(defvar-local jf/mode-line-format/playing-fftw
    '(:eval
       (when (and (boundp playing-forged-from-the-worst)
               playing-forged-from-the-worst
               (mode-line-window-selected-p))
         (concat
           (propertize &quot; üé≤ &quot; 'face 'mode-line-highlight) &quot; &quot;))))
</code></pre>
<p>I add the variable into my <code>mode-line-format</code>:</p>
<pre><code class="language-emacs-lisp">(setq-default mode-line-format
    '(&quot;%e&quot; &quot; &quot;
       jf/mode-line-format/timeclock
       jf/mode-line-format/org-clock
       jf/mode-line-format/vterm
       jf/mode-line-format/kbd-macro
       jf/mode-line-format/narrow
       jf/mode-line-format/playing-fftw
       jf/mode-line-format/buffer-name-and-status &quot; &quot;
       jf/mode-line-format/major-mode &quot; &quot;
       jf/mode-line-format/project &quot; &quot;
       jf/mode-line-format/vc-branch &quot; &quot;
       jf/mode-line-format/flymake &quot; &quot;
       jf/mode-line-format/eglot
       jf/mode-line-format/which-function
       ))
</code></pre>
<p>And ensure that I mark that variable as a <code>risky-local-variable</code>:</p>
<pre><code class="language-emacs-lisp">(dolist (construct '(
                        jf/mode-line-format/buffer-name-and-status
                        jf/mode-line-format/eglot
                        jf/mode-line-format/flymake
                        jf/mode-line-format/kbd-macro
                        jf/mode-line-format/playing-fftw
                        jf/mode-line-format/major-mode
                        jf/mode-line-format/misc-info
                        jf/mode-line-format/narrow
                        jf/mode-line-format/org-clock
                        jf/mode-line-format/timeclock
                        jf/mode-line-format/project
                        jf/mode-line-format/vc-branch
                        jf/mode-line-format/vterm
                        jf/mode-line-format/which-function
                        ))
    (put construct 'risky-local-variable t))
</code></pre>
<p>With that, when I‚Äôm playing the game, I see a little dice in my mode-line and
have access to game specific bookmarks.  That clock part is going to gnaw at me,
so I assume I‚Äôll work through that once I‚Äôve published this post.</p>
<h2 id="flipping-to-random-pdf-page-in-emacs">Flipping to Random PDF Page in Emacs</h2>
<p>In <a href="https://takeonrules.com/2025/12/09/mythic-bastionland-session-reflection/">Mythic Bastionland Session Reflection</a>, I thought about the fact that I now
had the PDF bookmarked and could quickly, I assume, access the oracular
information at the bottom of the Knight/Seer and Myths pages.</p>
<p>My first pass was ‚Äúwhat was the minimum viable command to open a random page in
a PDF.‚Äù  This involved reading the <code>pdf-view-bookmark-jump-handler</code> code and then
setting about making it happen.</p>
<p>What I‚Äôm presenting is not the first nor second pass, but instead a third
iteration that introduces a bit more utility.  But I digress.</p>
<p>The algorithm I wanted was:</p>
<ul>
<li>Prompt for whether I wanted a Seer/Knight or a Myth page.</li>
<li>Open the PDF in a dedicated window.</li>
<li>Go to a random page based on selection.</li>
</ul>
<p>There are 72 Seer/Knight pages and 72 Myth pages.  On a spread, the left page is
a Seer/Knight and the right page is a Myth.  The Seer/Knight starts on page 28.</p>
<p>The random function started as:</p>
<pre><code class="language-emacs-lisp">(+ (if seer-knight 28 29)
   (* (random 72) 2))
</code></pre>
<p>That is pick a number between 0 and 71, multiple that by 2, then add 28 or 29
depending on Seer/Knight or Myth.</p>
<p>I would then use <code>find-file</code> and in that buffer call <code>pdf-view-goto-page</code>.  It was
inelegant but was quick to verify general behavior.</p>
<p>Then I set about creating a better user experience.  Below is the <code>random-pages</code>
to choose from, and their relevant information of what file and how to pick a
page.</p>
<pre><code class="language-emacs-lisp">(defvar random-pages
  '((&quot;Knights/Seers&quot; .
     (:file
      &quot;~/Documents/RPGs/Mythic Bastionland/mythic=bastionland--core-rules__rules_systems.pdf&quot;
      :callback
      (lambda () (pdf-view-goto-page (+ 28 (* (random 72) 2))))))
    (&quot;Myths&quot; .
     (:file
      &quot;~/Documents/RPGs/Mythic Bastionland/mythic=bastionland--core-rules__rules_systems.pdf&quot;
      :callback
      (lambda ()
        (pdf-view-goto-page (+ 29 (* (random 72) 2)))))))
  &quot;An alist where `car' is the label and `cdr' is a plist with :file and
optional :callback.

We'll open the :file, then if a :callback is present, we'll run that
callback on the newly opened file.&quot;)
</code></pre>
<p>Next up is the function to open the random page in a dedicated window; with the
happy little ‚Äúbind <kbd>g</kbd> to pick a new random page.‚Äù</p>
<pre><code class="language-emacs-lisp">(defun random-page (&amp;optional label set)
  &quot;Open the file from SET with given LABEL.

SET is assumed to be an alist with `car' as the label and `cdr' a plist
with :file and :callback.  See `random-pages' for more information.&quot;
  (interactive)
  (let* ((set
           (or set random-pages))
          (label
           (or label
             (completing-read &quot;Source: &quot; set nil t)))
          (source
            (alist-get label set nil nil #'string=))
          (file
            (plist-get source :file))
          (display-buffer-mark-dedicated
            t)
          (buffer (or
                    (find-buffer-visiting file)
                    (find-file-noselect file))))
    ;; We'll pop open a dedicated side window with ample space for
    ;; viewing a new file.
    (pop-to-buffer buffer '((display-buffer-in-side-window)
                             (side . right)
                             (window-width 72)
                             (window-parameters
                               (tab-line-format . none)
                               (mode-line-format . none)
                               (no-delete-other-windows . t))))
    (with-current-buffer buffer
      ;; As a courtesy let's bind &quot;g&quot; to refresh re-invoke the
      ;; random-page using the same label.
      (local-set-key (kbd &quot;g&quot;)
        (lambda () (interactive)
          (random-page label)))
      ;; I envision that not every random-page would have a callback.
      ;; Which highlights that perhaps the function name 'random-page'
      ;; is a misnomer based on my nascent understanding of what this
      ;; could be.
      (when-let ((callback
                   (plist-get source :callback)))
        (funcall callback)))))

</code></pre>
<p>What the above does is pop open a window on the right, with plenty of space to
view the whole page.  That window gets focus and I can close it <kbd>q</kbd> or
re-roll with <kbd>g</kbd>.  It also does the work to re-use a buffer if it
already exists.</p>
<details><summary>An animated GIF demontsrating the functions along with a list of commands called.</summary>

<figure  aria-hidden="true">
  <img src="https://takeonrules.com/images/2025-12-09-demo.gif" alt="" data-original-url="https://takeonrules.com/images/2025-12-09-demo.gif" width="720" height="438" data-width="720" data-height="438" />
</figure>

<ul class="org-ul">
<li><code>M-x consult-bookmark</code> to show starting bookmarks.</li>
<li><code>M-x jf/mode-line-format/playing-fftw</code> to start playing ‚ÄúForged from the Worst.‚Äù</li>
<li><code>M-x consult-bookmark</code> show a list of the game specific bookmarks.</li>
<li><code>M-x random-page REG Seer/Knight RET</code> to pop open a random Knight/Seer page from
the <cite>Mythic Bastionland</cite>
 rule book.</li>
<li>Then <kbd>g</kbd> a few times to pick a new random Knight/Seer page each time.</li>
</ul>
</details>
<h2 id="conclusion">Conclusion</h2>
<p>I love the virtuous cycle of playing a game, having a tool to support that
game-play, and knowing that I can extend the tool to facilitate play.  The
result tends towards a generative feedback loop.</p>
<p>And both my during play moments of reflection as well as after play write-ups
helped me consider what might be interesting to add to my tool chain.  Which fed
into exploring existing functionality and implementation to craft something just
a bit new.</p>
<p>Now to think about my next session of <a href="https://takeonrules.com/series/forged-from-the-worst">Forged from the Worst</a>.  And attending to
how I write up campaign notes while running.  See what‚Äôs missing, maybe work and
clocking time there.  That would mean I‚Äôd have access to capture content to that
clock, and could leverage more native <span><a href="https://orgmode.org/">Org-Mode</a></span> <small><a class="ref" rel="tag opener" aria-label="Other site-wide references of ‚ÄúOrg-Mode‚Äù" title="Other site-wide references of ‚ÄúOrg-Mode‚Äù" href="https://takeonrules.com/site-map/glossary/#abbr-dfn-GLOSSARY-ORG-MODE">&#128214;</a></small>
 functionality.</p>

	<p><a class="reply-by-email" href="mailto:reply-to@takeonrules.com?subject=RE:Extending%20Emacs%20to%20Play%20Mythic%20Bastionland">Reply by Email</a></p>

      