<p>Had problems installing and using GnuPG on macOS, primarily for Emacs use:</p>
<pre><code class="language-example">gpg: problem with the agent: Inappropriate ioctl for device
gpg: error creating passphrase: Operation cancelled
gpg: symmetric encryption of '[stdin]' failed: Operation cancelled
</code></pre>
<p>Basic installation required:</p>
<pre><code class="language-{.bash">brew install gnupg
</code></pre>
<p>But worked around the error above by using pinentry-mac (UI), instead of Emacs prompts.</p>
<pre><code class="language-{.bash">brew install pinentry-mac
</code></pre>
<p>Edited ~/.gnupg/gpg-agent.conf with:</p>
<pre><code class="language-example">pinentry-program path/to/homebrew/bin/pinentry-mac
</code></pre>
<p>May need to kill gpg-agent to reload config.</p>
<pre><code class="language-{.bash">gpgconf --kill gpg-agent
</code></pre>
