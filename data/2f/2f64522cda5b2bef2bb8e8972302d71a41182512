<p>I am using the <code>styli.sh</code> script as my wallpaper changer in <strong>sway</strong> and with a little transparency and wallpapers from <strong>unsplash</strong> I can quickly switch randomly through my wallpaper images and get things looking pretty nice.</p>
<figure class="emacs-img"><img src="https://emacs.dyerdwelling.family/ox-hugo/20230811043547-emacs--Saving-Favourite-Backgrounds.jpg">
</figure>

<p>I tend to switch a few times before I find one that I like, but that image tends to disappear when I restart my laptop and the wallpaper gets reset.  What I would like to do is to have the ability to send the current wallpaper to a wallpaper favourite folder to build up a chosen set of images.</p>
<p>The first step to achieving this would be to add a couple of lines to the <code>styli.sh</code> bash script to copy the current wallpaper image to a defined location.  I am guessing that sway stores this image somewhere but as <code>styli.sh</code> handles all the variables and logic I might as well add in the following:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>swaymsg output <span style="color:#e6db74">&#34;*&#34;</span> bg <span style="color:#e6db74">&#34;</span>$WALLPAPER<span style="color:#e6db74">&#34;</span> <span style="color:#e6db74">&#34;</span>$MODE<span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>rm ~/wallpaper-faves*.<span style="color:#f92672">{</span>jpg,jpeg,png,gif<span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>cp <span style="color:#e6db74">&#34;</span>$WALLPAPER<span style="color:#e6db74">&#34;</span> ~/wallpaper-faves-<span style="color:#e6db74">${</span>WALLPAPER##*/<span style="color:#e6db74">}</span>
</span></span></code></pre></div><p>and now for some emacs elisp to move this wallpaper image into a favourite folder :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-elisp" data-lang="elisp"><span style="display:flex;"><span>(defun my/copy-background-to-faves ()
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;Copy the current sway background to wallpaper faves folder&#34;</span>
</span></span><span style="display:flex;"><span>  (interactive)
</span></span><span style="display:flex;"><span>  (let* ((source-folder <span style="color:#e6db74">&#34;/path/to/home/&#34;</span>)
</span></span><span style="display:flex;"><span>          (faves-folder <span style="color:#e6db74">&#34;/path/to/wallpaper/faves/&#34;</span>)
</span></span><span style="display:flex;"><span>          (image-files (<span style="color:#a6e22e">directory-files</span> source-folder <span style="color:#66d9ef">nil</span> <span style="color:#e6db74">&#34;^wallpaper-faves.*\\.\\(jpg\\|jpeg\\|png\\|gif\\)$&#34;</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">nil</span>)))
</span></span><span style="display:flex;"><span>    (dolist (image-file image-files)
</span></span><span style="display:flex;"><span>      (<span style="color:#a6e22e">rename-file</span> (<span style="color:#a6e22e">concat</span> source-folder image-file) (<span style="color:#a6e22e">concat</span> faves-folder image-file) <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>      )
</span></span><span style="display:flex;"><span>    )
</span></span><span style="display:flex;"><span>  )
</span></span></code></pre></div><p>Now over time my <code>faves-folder</code> will build up with all my cherished wallpapers and I can begin the process again!</p>