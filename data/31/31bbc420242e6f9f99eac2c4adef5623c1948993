
	
<p>
Project Euler 19 is so trivial it is almost not worth writing an article about. One exciting aspect of this problem is the naming of weekdays and deciding which day the week starts. This issue is more complicated than it sounds because data science is, in essence, not about data but about people.</p>
<div id="outline-container-headline-1" class="outline-2">
<h2 id="headline-1">
Project Euler 19 Definition
</h2>
<div id="outline-text-headline-1" class="outline-text-2">
<p>You are given the following information, but you may prefer to do some research for yourself.</p>
<ul>
<li>1 January 1900 was a Monday.</li>
<li>Thirty days has September, April, June and November.</li>
<li>All the rest have thirty-one,</li>
<li>Saving February alone, Which has twenty-eight, rain or shine. And on leap years, twenty-nine.</li>
<li>A leap year occurs on any year evenly divisible by 4, but not on a century unless it is divisible by 400.</li>
</ul>
<p><a href="https://projecteuler.net/problem=19">How many Sundays</a> fell on the first of the month during the twentieth century (1 January 1901 to 31 December 2000)?</p>
</div>
</div>
<div id="outline-container-headline-2" class="outline-2">
<h2 id="headline-2">
Proposed Solution
</h2>
<div id="outline-text-headline-2" class="outline-text-2">
<p>The problem can be quickly solved with R base code and a tiny bit faster when using the lubridate package.</p>
<p>
<a href = "https://github.com/pprevos/ProjectEuler/" target="_blank"
   title="Download ProjectEuler from GitHub"
   alt="Download ProjectEuler from GitHub">
  <button class="button is-medium is-primary">
    <span class="icon is-large">
      <i class="fab fa-github"></i>
    </span>
    <span style="font-family: monospace">ProjectEuler</span>
  </button>
</a>

</p>
<div class="src src-r">
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>  <span style="color:#888">## Project Euler 19: Counting Sundays</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#888">## Base-R</span>
</span></span><span style="display:flex;"><span>  dates <span style="color:#333">&lt;-</span> <span style="color:#06b;font-weight:bold">seq.Date</span>(<span style="color:#06b;font-weight:bold">as.Date</span>(<span style="background-color:#fff0f0">&#34;1901-01-01&#34;</span>), <span style="color:#06b;font-weight:bold">as.Date</span>(<span style="background-color:#fff0f0">&#34;2000-12-31&#34;</span>), <span style="background-color:#fff0f0">&#34;days&#34;</span>)
</span></span><span style="display:flex;"><span>  days <span style="color:#333">&lt;-</span> <span style="color:#06b;font-weight:bold">rep</span>(<span style="color:#60e;font-weight:bold">1</span><span style="color:#333">:</span><span style="color:#60e;font-weight:bold">7</span>, length.out <span style="color:#333">=</span> <span style="color:#06b;font-weight:bold">length</span>(dates))
</span></span><span style="display:flex;"><span>  answer <span style="color:#333">&lt;-</span> <span style="color:#06b;font-weight:bold">sum</span>(days<span style="color:#06b;font-weight:bold">[substr</span>(dates, <span style="color:#60e;font-weight:bold">9</span>, <span style="color:#60e;font-weight:bold">10</span>) <span style="color:#333">==</span> <span style="background-color:#fff0f0">&#34;01&#34;</span>] <span style="color:#333">==</span> <span style="color:#60e;font-weight:bold">1</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#06b;font-weight:bold">print</span>(answer)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#888">## Using Lubridate</span>
</span></span><span style="display:flex;"><span>  <span style="color:#06b;font-weight:bold">library</span>(lubridate)
</span></span><span style="display:flex;"><span>  dates <span style="color:#333">&lt;-</span> <span style="color:#06b;font-weight:bold">seq.Date</span>(<span style="color:#06b;font-weight:bold">as.Date</span>(<span style="background-color:#fff0f0">&#34;1901-01-01&#34;</span>), <span style="color:#06b;font-weight:bold">as.Date</span>(<span style="background-color:#fff0f0">&#34;2000-12-31&#34;</span>), <span style="background-color:#fff0f0">&#34;months&#34;</span>)
</span></span><span style="display:flex;"><span>  answer <span style="color:#333">&lt;-</span> <span style="color:#06b;font-weight:bold">sum</span>(<span style="color:#06b;font-weight:bold">wday</span>(dates) <span style="color:#333">==</span> <span style="color:#60e;font-weight:bold">1</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#06b;font-weight:bold">print</span>(answer)</span></span></code></pre></div>
</div>
<p>
To draw out this post a little bit further, I wrote some code to solve the problem without using any of the calendar functions in R.</p>
<div class="src src-r">
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>  <span style="color:#888">## Calculate from scratch</span>
</span></span><span style="display:flex;"><span>  week.day <span style="color:#333">&lt;-</span> <span style="color:#60e;font-weight:bold">0</span>
</span></span><span style="display:flex;"><span>  answer <span style="color:#333">&lt;-</span> <span style="color:#60e;font-weight:bold">0</span>
</span></span><span style="display:flex;"><span>  <span style="color:#080;font-weight:bold">for</span> (y <span style="color:#080;font-weight:bold">in</span> <span style="color:#60e;font-weight:bold">1901</span><span style="color:#333">:</span><span style="color:#60e;font-weight:bold">2000</span>) {
</span></span><span style="display:flex;"><span>      <span style="color:#080;font-weight:bold">for</span> (m <span style="color:#080;font-weight:bold">in</span> <span style="color:#60e;font-weight:bold">1</span><span style="color:#333">:</span><span style="color:#60e;font-weight:bold">12</span>) {
</span></span><span style="display:flex;"><span>          max.day <span style="color:#333">&lt;-</span> <span style="color:#60e;font-weight:bold">31</span>
</span></span><span style="display:flex;"><span>          <span style="color:#080;font-weight:bold">if</span> (m <span style="color:#333">%in%</span> <span style="color:#06b;font-weight:bold">c</span>(<span style="color:#60e;font-weight:bold">4</span>, <span style="color:#60e;font-weight:bold">6</span>, <span style="color:#60e;font-weight:bold">9</span>, <span style="color:#60e;font-weight:bold">11</span>))
</span></span><span style="display:flex;"><span>              max.day <span style="color:#333">&lt;-</span> <span style="color:#60e;font-weight:bold">30</span>
</span></span><span style="display:flex;"><span>          <span style="color:#888"># Leap years</span>
</span></span><span style="display:flex;"><span>          <span style="color:#080;font-weight:bold">if</span> (m <span style="color:#333">==</span> <span style="color:#60e;font-weight:bold">2</span>) {
</span></span><span style="display:flex;"><span>              <span style="color:#080;font-weight:bold">if</span> (y <span style="color:#333">%%</span> <span style="color:#60e;font-weight:bold">4</span> <span style="color:#333">==</span> <span style="color:#60e;font-weight:bold">0</span> <span style="color:#333">&amp;</span> y <span style="color:#333">%%</span> <span style="color:#60e;font-weight:bold">100</span> <span style="color:#333">!=</span> <span style="color:#60e;font-weight:bold">0</span> <span style="color:#333">|</span> y <span style="color:#333">%%</span> <span style="color:#60e;font-weight:bold">400</span> <span style="color:#333">==</span> <span style="color:#60e;font-weight:bold">0</span>) 
</span></span><span style="display:flex;"><span>                  max.day <span style="color:#333">&lt;-</span> <span style="color:#60e;font-weight:bold">29</span>
</span></span><span style="display:flex;"><span>              <span style="color:#080;font-weight:bold">else</span> 
</span></span><span style="display:flex;"><span>                  max.day <span style="color:#333">&lt;-</span> <span style="color:#60e;font-weight:bold">28</span>
</span></span><span style="display:flex;"><span>          }
</span></span><span style="display:flex;"><span>          <span style="color:#080;font-weight:bold">for</span> (d <span style="color:#080;font-weight:bold">in</span> <span style="color:#60e;font-weight:bold">1</span><span style="color:#333">:</span>max.day) {
</span></span><span style="display:flex;"><span>              week.day <span style="color:#333">&lt;-</span> week.day <span style="color:#333">+</span> <span style="color:#60e;font-weight:bold">1</span>
</span></span><span style="display:flex;"><span>              <span style="color:#080;font-weight:bold">if</span> (week.day <span style="color:#333">==</span> <span style="color:#60e;font-weight:bold">8</span>) week.day <span style="color:#333">&lt;-</span> <span style="color:#60e;font-weight:bold">1</span>
</span></span><span style="display:flex;"><span>              <span style="color:#080;font-weight:bold">if</span> (week.day <span style="color:#333">==</span> <span style="color:#60e;font-weight:bold">1</span> <span style="color:#333">&amp;</span> d <span style="color:#333">==</span> <span style="color:#60e;font-weight:bold">1</span>)
</span></span><span style="display:flex;"><span>              answer <span style="color:#333">&lt;-</span> answer <span style="color:#333">+</span> <span style="color:#60e;font-weight:bold">1</span>
</span></span><span style="display:flex;"><span>          }
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#06b;font-weight:bold">print</span>(answer)</span></span></code></pre></div>
</div>
</div>
</div>
<div id="outline-container-headline-3" class="outline-2">
<h2 id="headline-3">
Which day does the week start?
</h2>
<div id="outline-text-headline-3" class="outline-text-2">
<p>The only aspect remotely interesting about this problem is the conversion from weekdays to numbers. In R, Monday is considered day one, which makes sense in the Christian context of Western culture. Saturday and Sunday are the weekends, the two last days of the week so they are day 6 and 7. According to international standard ISO 8601, Monday is the first day of the week. Although this is the international standard, several countries, including the United States and Canada, consider Sunday to be the first day of the week.</p>
<p>
The international standard is biased towards Christianity. The Christian or Western world marks Sunday as their day of rest and worship. Muslims refer to Friday as their day of rest and prayer. The Jewish calendar counts Saturday—the Sabbath—as the day of rest and worship. This idea is also shared by Seventh-Day Adventists.</p>
<p>
This Euler problem shows that data science is not only about data: it is always how people <a href="https://lucidmanager.org/data-science/qualitative-data-science/">interpret the world</a>.</p>
<figure>
<img src="https://lucidmanager.org/images/project-euler/problem-019.png" alt="First day of the week around the world." title="First day of the week around the world." width="600"/>
<figcaption>
First day of the week around the world.
</figcaption>
</figure>
<div class="src src-r">
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>  <span style="color:#888">## First day of the week</span>
</span></span><span style="display:flex;"><span>  <span style="color:#06b;font-weight:bold">library</span>(tidyverse)
</span></span><span style="display:flex;"><span>  firstday <span style="color:#333">&lt;-</span> <span style="color:#06b;font-weight:bold">read_csv</span>(<span style="background-color:#fff0f0">&#34;data/first_day.csv&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#06b;font-weight:bold">map_data</span>(map <span style="color:#333">=</span> <span style="background-color:#fff0f0">&#34;world&#34;</span>) <span style="color:#333">%&gt;%</span>
</span></span><span style="display:flex;"><span>    <span style="color:#06b;font-weight:bold">full_join</span>(firstday) <span style="color:#333">%&gt;%</span>
</span></span><span style="display:flex;"><span>    <span style="color:#06b;font-weight:bold">ggplot</span>(<span style="color:#06b;font-weight:bold">aes</span>(long, lat, group <span style="color:#333">=</span> group, fill <span style="color:#333">=</span> firstday)) <span style="color:#333">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#06b;font-weight:bold">geom_polygon</span>() <span style="color:#333">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#06b;font-weight:bold">theme_void</span>() <span style="color:#333">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#06b;font-weight:bold">coord_fixed</span>() <span style="color:#333">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#06b;font-weight:bold">labs</span>(title <span style="color:#333">=</span> <span style="background-color:#fff0f0">&#34;First day of the week&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#06b;font-weight:bold">ggsave</span>(<span style="background-color:#fff0f0">&#34;images/problem-019.png&#34;</span>, width <span style="color:#333">=</span> <span style="color:#60e;font-weight:bold">6</span>, height <span style="color:#333">=</span> <span style="color:#60e;font-weight:bold">4</span>)</span></span></code></pre></div>
</div>
<figure>
<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share; fullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/JEyuQd-zMeg?autoplay=0&amp;controls=1&amp;end=0&amp;loop=0&amp;mute=0&amp;start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"></iframe>
    </div>

<figcaption>
Where do the Days of the Week Get Their Names?
</figcaption>
</figure>
<p>
<a href = "https://www.r-bloggers.com/" target="_blank" title="Proudly associated with R-Bloggers">
  <button class="button is-link is-medium">
    <span class="icon is-large">
      <i class="fab fa-r-project"></i>
    </span>
    <span>As seen on R Bloggers</span>
  </button>
</a>
</p>
</div>
</div>

      