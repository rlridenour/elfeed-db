<p>If you’re like me, you probably like playing with new Emacs color themes from
time to time.  Sure, I’m the person behind the Emacs ports of
<a href="https://github.com/bbatsov/zenburn-emacs">Zenburn</a> and
<a href="https://github.com/bbatsov/solarized-emacs">Solarized</a>, but as much as I like
them, even I get bored with them occasionally.<sup id="fnref:1" role="doc-noteref"><a href="#fn:1" class="footnote" rel="footnote">1</a></sup></p>

<p>What I often do is to install a bunch of themes (e.g. using <code class="language-plaintext highlighter-rouge">M-x
package-install</code>) and to quickly try them out by evaluating snippets like the
ones below in Emacs:</p>

<div class="language-emacs-lisp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="nv">load-theme</span> <span class="ss">'catppuccin</span> <span class="no">t</span><span class="p">)</span>

<span class="p">(</span><span class="nv">load-theme</span> <span class="ss">'dracula</span> <span class="no">t</span><span class="p">)</span>

<span class="p">(</span><span class="nv">load-theme</span> <span class="ss">'gruvbox</span> <span class="no">t</span><span class="p">)</span>
</code></pre></div></div>

<p>One small problem with this, though, is that Emacs themes were designed in such
a way that one theme can be applied on top of another one. (loading a new theme
doesn’t unload the previusly loaded one) In practice this often means that if you load
a few themes one after another they’ll start to mess each other up. There are
several ways to address this, the simplest being to call <code class="language-plaintext highlighter-rouge">disable-theme</code> every
time before loading a new theme:</p>

<div class="language-emacs-lisp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="nv">load-theme</span> <span class="ss">'catppuccin</span> <span class="no">t</span><span class="p">)</span>

<span class="p">(</span><span class="nv">disable-theme</span> <span class="ss">'catppuccin</span><span class="p">)</span>
<span class="p">(</span><span class="nv">load-theme</span> <span class="ss">'dracula</span> <span class="no">t</span><span class="p">)</span>

<span class="p">(</span><span class="nv">disable-theme</span> <span class="ss">'dracula</span><span class="p">)</span>
<span class="p">(</span><span class="nv">load-theme</span> <span class="ss">'gruvbox</span> <span class="no">t</span><span class="p">)</span>
</code></pre></div></div>

<p>Or you can get more adventurous and create a small command that unloads all loaded themes, effectively
resetting the theme to Emacs’s default one:</p>

<div class="language-emacs-lisp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="nb">defun</span> <span class="nv">er-disable-all-active-themes</span> <span class="p">()</span>
  <span class="s">"Disable all currently active themes."</span>
  <span class="p">(</span><span class="nv">interactive</span><span class="p">)</span>
  <span class="p">(</span><span class="nb">dolist</span> <span class="p">(</span><span class="nv">theme</span> <span class="nv">custom-enabled-themes</span><span class="p">)</span>
    <span class="p">(</span><span class="nv">disable-theme</span> <span class="nv">theme</span><span class="p">)))</span>
</code></pre></div></div>

<p>Now, you can simply do <code class="language-plaintext highlighter-rouge">M-x disable-all-active-themes</code> when you see
fit. Finally, you can consider creating a function complementary to <code class="language-plaintext highlighter-rouge">load-theme</code>
that unloads all active themes before loading the new one:</p>

<div class="language-emacs-lisp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="nb">defun</span> <span class="nv">er-load-theme</span> <span class="p">(</span><span class="nv">theme</span><span class="p">)</span>
  <span class="p">(</span><span class="nv">er-disable-all-active-themes</span><span class="p">)</span>
  <span class="p">(</span><span class="nv">load-theme</span> <span class="nv">theme</span> <span class="no">t</span><span class="p">))</span>

<span class="p">(</span><span class="nv">er-load-theme</span> <span class="ss">'catppuccin</span> <span class="no">t</span><span class="p">)</span>

<span class="p">(</span><span class="nv">er-load-theme</span> <span class="ss">'dracula</span> <span class="no">t</span><span class="p">)</span>

<span class="p">(</span><span class="nv">er-load-theme</span> <span class="ss">'gruvbox</span> <span class="no">t</span><span class="p">)</span>
</code></pre></div></div>

<p>Pretty neat!</p>

<p>That’s all I have for you on this subject. Keep hacking!</p>

<p><strong>P.S.</strong> If you’re afraid of Elisp there are a couple of alternative approaches you might consider:</p>

<ul>
  <li>The built-in command <code class="language-plaintext highlighter-rouge">M-x customize-themes</code></li>
  <li>The <code class="language-plaintext highlighter-rouge">consult-theme</code> from the popular <a href="https://github.com/minad/consult">consult</a> package</li>
</ul>

<p>Both are also great options for previewing themes!</p>

<div class="footnotes" role="doc-endnotes">
  <ol>
    <li id="fn:1" role="doc-endnote">
      <p>Zenburn is to this day my all time favorite theme, though. I rarely manage to spend more than a few days away from it. <a href="#fnref:1" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
  </ol>
</div>