<p>As usual, December has got away from me. I had meant to update this series with my latest Linux adventures, but haven&rsquo;t had the time until now. I&rsquo;ve made quite a few changes, so let&rsquo;s dive in.</p>
<h3 id="teething-issues">Teething issues</h3>
<p>I continue to love Hyprland for its snappiness and flexibility, but I began to ran into a few rough edges. The most irritating thing was that Hyprland evidently did not enjoy being disconnected and reconnected to a monitor, which is something that happens regularly in my setup, because I share a monitor between two or three computers: my Mac mini, this Linux box, and my work MacBook Pro when I am working from home. When the monitor was switched over, the statusbar would have to be restarted, and I sometimes lost windows or workspaces. It was nothing which could not be put right again, but it was a bit disruptive.</p>
<p>I also had persistent weirdness at boot time, and was unable to get any output to the screen until the login manager (GDM in my case) came up. This seems to be to do with the problems I have had connecting a monitor via a Thunderbolt dock on Linux. It doesn&rsquo;t sound like a serious problem, but it made it very difficult to boot into the BIOS to poke about, as I was having to operate blindly. On Linux, you need to authorise Thunderbolt devices (like the dock) which I had done, but seemingly that authorisation was happening late in the boot process.</p>
<h3 id="hardware-updates">Hardware updates</h3>
<p>I decided in the end to get a new monitor for home, and use my Thunderbolt monitor at work where it is only connected to my MacBook. The new monitor (a BenQ RD280U) has a built-in KVM to switch between two computers, and you connect one by HDMI or Display Port, and one by Thunderbolt. This is perfect for my setup, and now the HDMI-connected Linux box has all the peripherals working properly from the start of the boot process. It&rsquo;s also a great screen for text, which is my main use. The 3:2 aspect ratio has taken some time to adjust to, but it works beautifully with two full document windows next to each other. The matte display is also very restful to look at, and I find that my eyes get much less tired looking at it.</p>
<p>I think I mentioned in one of the previous parts of this series that the Minisforum Venus I am using had a free slot for both an additional stick of RAM and an additional NVMe M.2 SSD. I&rsquo;m finding 32GB of RAM plenty for now, but I figured that it would be better to upgrade the SSDs now before I got too comfortable.</p>
<p>I got a good deal on two 2TB SSDs, so decided to get an external USB C enclosure to house the 1TB SSD it came with, and upgrade to a whopping 4TB! That should be plenty for a long time to come. My plan was to open up the case and replace the drives, install EndeavourOS again on the fresh drives, but this time formatting the drives using a <a href="https://btrfs.readthedocs.io/en/latest/index.html">btrfs filesystem</a>, and finally putting the old drive in the external enclosure and copying back my files. This would also then serve as a location for backup snapshots. I had not even heard of btrfs before, but the more I read about it, the more intriguing I found it. It is a &lsquo;copy-on-write&rsquo; filesystem, and has features which make it able to self-heal errors. You can also make snapshots of the system very quickly, and then integrate them with the GRUB menu so that you can easily and safely roll back the system if something untoward happens with an update. That is reasuring when using a rolling distribution like Arch Linux, as things can and do sometimes get broken.</p>
<p>EndeavourOS sets up the filesystem with &lsquo;subvolumes&rsquo; for <code>/</code>, <code>/home</code>, <code>/var/cache</code>, and <code>/var/log</code>, which means that you can separately snapshot <code>/</code> and <code>/home</code>. If something goes wrong with an update, you only want to roll back the system files, not the files in <code>/home</code>. These subvolumes are much more flexible than partitions as they can each use all the space available on the full partition (unless you want to set up a quota), while still letting you snapshot and roll them back separately. Incidentally, on btrfs you can add storage from multiple devices together to act as one chunk of storage, which is what I have done with my two separate SSDs.</p>
<h3 id="gnome">Gnome</h3>
<p>When I reinstalled the system, I opted to make Gnome my desktop environment, but also reinstalled my Hyprland configuration, so I can easily switch between them from the login screen. I am enjoying Gnome a great deal. I find it attractively minimal compared to KDE, but with the additional niceties and integrations that you get in a Desktop Environment compared to a Window Manager like Hyprland. Everything just worked out of the box, and connecting/disconnecting the monitor causes no problems with windows or the session. However, I missed auto-tiling my windows. To fix that, I use the <a href="https://extensions.gnome.org/extension/7065/tiling-shell/">Tiling Shell extension</a> which feels well integrated and works pretty well. It has an option for auto-tiling windows which works well most of the time, but the manual layout is very smooth. One inevitable problem with a Desktop Environment is that some of the keybindings are already reserved for the system, so you don&rsquo;t always get your first choice of shortcuts. However, I have been able to set up a system that is very close to the bindings I used in Hyprland, which should make it easier to switch between the two.</p>
<p>Ultimately, I have an eye on the development of System76&rsquo;s <a href="https://system76.com/cosmic/">Cosmic Desktop</a>. This feels as if it could be the perfect balance of the comfort of a desktop environment with the flexibility and power of a tiling window manager. You can already install the alpha releases on Arch Linux, so once it is relatively stable I should be able to use it without having to switch distributions. For now, I&rsquo;m happy to flip between Gnome and Hyprland to suit my mood and the task I am doing.</p>
<p>Speaking of distributions, I did also contemplate trying out NixOS again before I reinstalled. I played around with an installation in a VM, and was nearly seduced again by the siren song of the fully declarative system. I&rsquo;m still not familiar enough with the Nix language and ecosystem to know how to solve the problems that inevitably crop up when you want to install something that isn&rsquo;t already packaged for NixOS. I would like Linux to continue to be my daily driver at home, so I set that aside for now and went with the Arch-based EndeavourOS again. I can always continue to play about with Nix in a VM and learn without any consequences for my stable system.</p>
<h3 id="backing-up-and-syncing">Backing up and syncing</h3>
<p>Snapshots are great, but they are not a proper backup. I am using the delightful <a href="https://apps.gnome.org/en-GB/PikaBackup/">Pika</a> to back up my user files, which is built on top of the mature <a href="https://www.borgbackup.org">Borg Backup</a>. I love this application. It is powerful, flexible, but incredibly user-friendly to set up, and it does its thing quietly and efficiently in the background. At the moment I am backing up to my USB drive, but I will look into also backing up remotely for a belt-and-braces approach, either to a Hetzner box or to pCloud.</p>
<p>While I have already moved to using Linux as my daily driver for personal stuff at home, I still need to keep a foot in Apple Land, out of both necessity and convenience. I still have an iPhone, use a Mac for work, and still have a couple of apps I am finding it hard to replace. So ideally I need to be able to sync my working files easily between the systems.</p>
<p>Why have I only recently found out about <a href="https://syncthing.net">Syncthing</a>? This is a fabulous self-hosted utility that lets you sync between pretty much anything in any way you choose. You can sync folders between any number of different computers or servers, with bi-directional or uni-directional sync. Do you want to sync a <code>~/Library/Fonts</code> folder on a Mac with a <code>~/.fonts</code> folder on Linux? No problem, the paths can be different on each machine. Do you want to set up versioning so that if clashes happen during sync, you don&rsquo;t lose data? No problem, there are multiple kinds of versioning you can set up. All of this happens peer-to-peer over your local network, without your files ever being somewhere in the cloud. Honestly, this is all I ever wanted out of services like Dropbox, so I could have avoided ever having to use Dropbox had I known about it. You can even make it work when <em>away</em> from your local network by setting up the devices involved on <a href="https://tailscale.com">Tailscale</a>, and then providing the Tailscale IP address as the Sync Protocol Listen Address. It&rsquo;s tantamount to magic.</p>
<p>The only place where Syncthing is a little rough around the edges is on iOS. There is an app called Mobius Sync that works reasonably well. However, Apple&rsquo;s sandboxing means that you can&rsquo;t easily integrate the synced files into the ecosystem of other apps in the same way as files in iCloud Drive. It struck me only today that there might be another way around this (which might well blow up in my face at some point, but let&rsquo;s see). If I keep the iCloud Drive documents I want to sync downloaded on my Mac Mini, then I can set up a synced folder on Syncthing that connects my iCloud Drive folder on the Mac end to my <code>~/Documents</code> folder on Linux. This should still enable me to access the same files conveniently on iOS, and add files to both desktop computers from my phone. So far, it is working very nicely. I have multiple backups and versioning set up within Syncthing, so I should be able to fix it if things go awry. Watch this space! I&rsquo;m also syncing local music files, purchased fonts and other bits and bobs between the systems smoothly.</p>
<p>I&rsquo;m happy to pay for software I find useful, but given the &lsquo;free as in beer&rsquo; part of FOSS I am making a list of the software that I find most useful and will be making regular donations to the developers to thank them for their hard work.</p>
<h3 id="other-applications">Other applications</h3>
<p><a href="https://www.chezmoi.io">Chezmoi</a> continues to be a delight to use. I recently found out that there is a documented way to work around a problem I had encountered with Neovim. Chezmoi maintains a &lsquo;source&rsquo; repository of configuration files which you edit, and it then applies those changes to the &rsquo;target&rsquo; files, which are located where the applications expect to find them. This works smoothly until an application generates or updates a config file itself. I&rsquo;m using Lazyvim to configure Neovim, and when packages get updated in Lazyvim, it writes a lockfile to the target directory, which then gets overwritten by chezmoi. I found out that the solution to this very problem is documented in the <a href="https://www.chezmoi.io/user-guide/manage-different-types-of-file/#handle-configuration-files-which-are-externally-modified">user guide</a>, so I can now let Lazyvim update the file, but still commit the changes to the repo. I&rsquo;m also making good use of templates and conditional contents so that I can tweak configuration files to work correctly on macOS or Linux.</p>
<p>I like using the <a href="https://sw.kovidgoyal.net/kitty/">Kitty</a> terminal on Hyprland, but the window bar looks a little out of place in Gnome. Gnome&rsquo;s two terminals, Console and Terminal, are ok but not very configurable. I came across <a href="https://gitlab.gnome.org/chergert/ptyxis">Ptyxis</a> which looks completely at home in Gnome, but is also nicely configurable. As I understand it, Ptyxis may be adopted as the default Gnome terminal at some point, which makes perfect sense. It would be nice if it was easier to make the windows slightly transparent, but otherwise I really like it.</p>
<p>I have ditched Hey email and have migrated back to Fastmail, which I am happy about. It is costing me much less, and I can have email for multiple custom domains within one account, plus calendars and contacts in standard formats. I took the opportunity to also migrate calendars and contacts away from iCloud while I was at it, to give me another layer of independence. Gnome lets you set up online accounts centrally, which enables applications to automatically connect to those accounts. It doesn&rsquo;t have an entry for Fastmail specifically, but you can provide a generic IMAP and WebDAV account, so it works fine (hooray for standards!). That means I can see my events in Gnome&rsquo;s Calendar app and in the popup calendar that sits in the menubar, and I can search contacts from the Overview searchbar. I set up Geary as a native email client too, but I actually quite like Fastmail&rsquo;s web app too. I have saved it as a separate PWA through Vivaldi, so I have the option of using either.</p>
<h3 id="what-im-missing">What I&rsquo;m missing</h3>
<p>It suprprises me a little to write this, but I find myself missing very little from the Apple ecosystem.</p>
<p>I am getting increasingly comfortable with Linux, and I am gradually discovering more apps that suit me in terms of function and aesthetics. I love being able to drive everything from the keyboard in Hyprland, and have everything at my fingertips with the Gnome launcher/overview. As someone who finds using a Mac impossible without Alfred or Launchbar, I love the Gnome overview. With a tap of the Super/Command key (actually a long press on my keyboard as it is set up as a mod-tap), I get to see and interact with everything. If I start typing, I can filter down apps, files, contacts and so on to launch. However, I can also simultaneously see a preview of my other workspaces, an expos√©-like view of the windows on my current workspace, which I can switch between, and a dock with my active and favourite apps in it. All of this can be navigated with the keyboard, and once your wish is Gnome&rsquo;s command, it all disappears smoothly, and you are back to work. It is my favourite launcher implementation on any platform.</p>
<p>I am only really missing two applications:</p>
<ul>
<li>A todo application with the sophistication and functionality of OmniFocus or Things that works cross-platform</li>
<li>Something like DevonThink</li>
</ul>
<p>At the moment, I am trying out <a href="https://godspeedapp.com/">Godspeed</a> for todos, which I can access through a SetApp subscription on the Mac. That works on macOS, iOS and a web app, so it will do for now. I quite like it and it is improving quite quickly, so I&rsquo;m happy for now. I have looked, but I still can&rsquo;t find anything to replace DevonThink. If anyone knows something that might work on Linux (or preferably cross-platform), do let me know in the comments or by email.</p>
<p>That turned out to be a bit of an infodump, but I&rsquo;m still really enjoying working on Linux!</p>
<p>I hope you all get to have a restful and peaceful break and have a happy New Year.</p>