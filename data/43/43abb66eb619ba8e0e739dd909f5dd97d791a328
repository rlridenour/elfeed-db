<p>About a year and a half ago I delved into understanding Edebug (<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Edebug.html">(elisp) Edebug</a>), the built-in debugger for Emacs Lisp (Elisp), as I was to give a <a href="http://yummymelon.com/presentations/demystifying-edebug/demystifying-edebug.html">presentation on it</a> at the <a href="https://www.meetup.com/emacs-sf/">Emacs SF meetup</a>. For new users, Edebug can be bewildering as it forces them to know beforehand its many commands and respective keybindings to make good use of it. Because of this complexity, many users writing Elisp often favor simple print-style debugging to avoid ever dealing with Edebug.</p>
<p>My dive into Edebug however left me with the impression that it was more a “kit of parts” in need of a good UI. So I set about to build an Edebug UI with Transient menus. The result of that effort was decidedly mixed. More often than not, window/frame management by Edebug would conflict with Transient. I shelved it.</p>
<p>Working on the toolbar icons for <a href="https://github.com/kickingvegas/calle24">Calle 24</a>, the thought occurred: what about a toolbar for Edebug? The results I think are much more successful, with a number of caveats that I’ll get to later. As far as successes, here’s what I think this toolbar brings:</p>
<ul>
<li>Similarity to conventional IDE debuggers.</li>
<li>Avoidance of Edebug window/frame management.</li>
<li>Improved discovery of Edebug features.</li>
</ul>
<p>The screenshot below shows this toolbar in action:</p>
<p align="center">
<img src="http://yummymelon.com/devnull/images/edebug-ui/calle24-edebug.png" />
</p>

<p>Motivated readers are invited to try this toolbar out using the instructions described in <a href="https://github.com/kickingvegas/calle24?tab=readme-ov-file#edebug-support">Calle 24 Edebug Support</a>. If you have a prior installation of Calle 24 installed, you should update and re-run the command <code>calle24-install</code> to synchronize with the latest icon set in the v1.1.1 update on <a href="https://melpa.org/#/calle24">MELPA</a>.</p>
<h1>Edebug differences from other IDE debuggers</h1>
<p>Users new to Edebug but familiar with debuggers for ALGOL-like languages (C, Java, Python, Swift, etc.) should understand that stepping through Elisp code is <em>sexp</em>-based. This distinction is significant when considering stepping into and out of an sexp, which is not the same as a function in ALGOL-like languages. Also, breakpoints can only be set during an Edebug session. If the Edebug-instrumented function is re-evaluated using <code>eval-defun</code>, all prior breakpoints defined for it are <em>lost</em>.</p>
<h1>Caveats</h1>
<p>Despite my enthusiasm for this toolbar, this should be considered prototype code for the following reasons:</p>
<ul>
<li>
<p>There is an existing bug in the NS variant of GNU Emacs 30.1 where repeated rapid pressing of a toolbar button can force Emacs into a state where it is not responsive to GUI input. Bug reports can be found at <a href="https://debbugs.gnu.org/cgi/bugreport.cgi?bug=76749">#76749</a>, <a href="https://debbugs.gnu.org/cgi/bugreport.cgi?bug=72496">#72496</a>.</p>
</li>
<li>
<p>Both NS and GTK variants can only show toolbar icons in a single row.</p>
</li>
<li>
<p><code>window-tool-bar-mode</code> does not support appearance changes (dark, light mode).</p>
</li>
<li>
<p>The licensing of SF Symbols icons precludes their distribution using a GPLv3 license.</p>
</li>
</ul>
<h1>Closing Thoughts</h1>
<p>In many ways, building this toolbar has been a “proof of concept” for me in answering the question: can Edebug have a better UI? I think the answer is a resounding yes, so much so that I’ve decided to put it out in public for others to scrutinize. By no means do I consider this “finished product” given the caveats described above. That said, for those folks who decide to give it a try I’d be interested to know <a href="https://github.com/kickingvegas/calle24/discussions/60">your thoughts</a>.</p>