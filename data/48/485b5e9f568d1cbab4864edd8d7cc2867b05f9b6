<p>I recently came across a Reddit post titled
<a href="https://www.reddit.com/r/emacs/comments/1mv5hez/how_to_group_buffers_that_are_important_to_visit/">How to group buffers that are important to visit later</a>
which discusses various methods for buffer grouping in Emacs.</p>
<p>In the comments, which are typically engaging, some users
mentioned using the built-in <code>bookmarks</code> package, while others
recommended the <code>easysession</code> package or alternative approaches for
effective buffer grouping.</p>
<p>Additionally, there were mentions of the built-in <code>ibuffer</code> package,
which I personally use for buffer grouping. In this post, I’ll
share my IBuffer configuration to demonstrate how I leverage it for
this purpose.</p>
<p>Some ideas in my configuration are inspired by an excellent post,
<a href="https://protesilaos.com/emacs/dotemacs">GNU Emacs configuration</a>
by <a href="https://protesilaos.com/about/">Protesilaos Stavrou</a>,
a renowned Emacs expert. All of his posts are well worth reading
for their insightful and practical Emacs advice.</p>
<h2 id="prettifying-the-ibuffer-window">Prettifying the IBuffer Window</h2>
<p>To make my IBuffer window visually appealing, I use an icon set
provided by the external
<a href="https://github.com/seagle0128/all-the-icons-ibuffer"><code>all-the-icons-ibuffer</code></a> package.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-elisp" data-lang="elisp"><span style="display:flex;"><span><span style="color:#75715e">;; Prerequisites</span>
</span></span><span style="display:flex;"><span>(use-package all-the-icons-ibuffer :ensure <span style="color:#66d9ef">t</span>
</span></span><span style="display:flex;"><span>  :hook (ibuffer-mode <span style="color:#f92672">.</span> all-the-icons-ibuffer-mode))
</span></span></code></pre></div><h2 id="ibuffer-configuration">IBuffer Configuration</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-elisp" data-lang="elisp"><span style="display:flex;"><span>(use-package ibuffer :ensure <span style="color:#66d9ef">nil</span>
</span></span><span style="display:flex;"><span>  :config
</span></span><span style="display:flex;"><span>  (setq ibuffer-expert <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>  (setq ibuffer-display-summary <span style="color:#66d9ef">nil</span>)
</span></span><span style="display:flex;"><span>  (setq ibuffer-use-other-window <span style="color:#66d9ef">nil</span>)
</span></span><span style="display:flex;"><span>  (setq ibuffer-show-empty-filter-groups <span style="color:#66d9ef">nil</span>)
</span></span><span style="display:flex;"><span>  (setq ibuffer-default-sorting-mode <span style="color:#e6db74">&#39;filename/process</span>)
</span></span><span style="display:flex;"><span>  (setq ibuffer-title-face <span style="color:#e6db74">&#39;font-lock-doc-face</span>)
</span></span><span style="display:flex;"><span>  (setq ibuffer-use-header-line <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>  (setq ibuffer-default-shrink-to-minimum-size <span style="color:#66d9ef">nil</span>)
</span></span><span style="display:flex;"><span>  (setq ibuffer-formats
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#39;</span>((mark modified read-only locked <span style="color:#e6db74">&#34; &#34;</span>
</span></span><span style="display:flex;"><span>                (name <span style="color:#ae81ff">30</span> <span style="color:#ae81ff">30</span> :left :elide)
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34; &#34;</span>
</span></span><span style="display:flex;"><span>                (size <span style="color:#ae81ff">9</span> <span style="color:#ae81ff">-1</span> :right)
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34; &#34;</span>
</span></span><span style="display:flex;"><span>                (mode <span style="color:#ae81ff">16</span> <span style="color:#ae81ff">16</span> :left :elide)
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34; &#34;</span> filename-and-process)
</span></span><span style="display:flex;"><span>          (mark <span style="color:#e6db74">&#34; &#34;</span>
</span></span><span style="display:flex;"><span>                (name <span style="color:#ae81ff">16</span> <span style="color:#ae81ff">-1</span>)
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34; &#34;</span> filename)))
</span></span><span style="display:flex;"><span>  (setq ibuffer-saved-filter-groups
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#39;</span>((<span style="color:#e6db74">&#34;Main&#34;</span>
</span></span><span style="display:flex;"><span>           (<span style="color:#e6db74">&#34;Directories&#34;</span> (mode <span style="color:#f92672">.</span> dired-mode))
</span></span><span style="display:flex;"><span>           (<span style="color:#e6db74">&#34;C++&#34;</span> (or
</span></span><span style="display:flex;"><span>                   (mode <span style="color:#f92672">.</span> c++-mode)
</span></span><span style="display:flex;"><span>                   (mode <span style="color:#f92672">.</span> c++-ts-mode)
</span></span><span style="display:flex;"><span>                   (mode <span style="color:#f92672">.</span> c-mode)
</span></span><span style="display:flex;"><span>                   (mode <span style="color:#f92672">.</span> c-ts-mode)
</span></span><span style="display:flex;"><span>                   (mode <span style="color:#f92672">.</span> c-or-c++-ts-mode)))
</span></span><span style="display:flex;"><span>           (<span style="color:#e6db74">&#34;Python&#34;</span> (or
</span></span><span style="display:flex;"><span>                      (mode <span style="color:#f92672">.</span> python-ts-mode)
</span></span><span style="display:flex;"><span>                      (mode <span style="color:#f92672">.</span> c-mode)
</span></span><span style="display:flex;"><span>                      (mode <span style="color:#f92672">.</span> python-mode)))
</span></span><span style="display:flex;"><span>           (<span style="color:#e6db74">&#34;Build&#34;</span> (or
</span></span><span style="display:flex;"><span>                     (mode <span style="color:#f92672">.</span> make-mode)
</span></span><span style="display:flex;"><span>                     (mode <span style="color:#f92672">.</span> makefile-gmake-mode)
</span></span><span style="display:flex;"><span>                     (name <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;^Makefile$&#34;</span>)
</span></span><span style="display:flex;"><span>                     (mode <span style="color:#f92672">.</span> change-log-mode)))
</span></span><span style="display:flex;"><span>           (<span style="color:#e6db74">&#34;Scripts&#34;</span> (or
</span></span><span style="display:flex;"><span>                       (mode <span style="color:#f92672">.</span> shell-script-mode)
</span></span><span style="display:flex;"><span>                       (mode <span style="color:#f92672">.</span> shell-mode)
</span></span><span style="display:flex;"><span>                       (mode <span style="color:#f92672">.</span> sh-mode)
</span></span><span style="display:flex;"><span>                       (mode <span style="color:#f92672">.</span> lua-mode)
</span></span><span style="display:flex;"><span>                       (mode <span style="color:#f92672">.</span> bat-mode)))
</span></span><span style="display:flex;"><span>           (<span style="color:#e6db74">&#34;Config&#34;</span> (or
</span></span><span style="display:flex;"><span>                      (mode <span style="color:#f92672">.</span> conf-mode)
</span></span><span style="display:flex;"><span>                      (mode <span style="color:#f92672">.</span> conf-toml-mode)
</span></span><span style="display:flex;"><span>                      (mode <span style="color:#f92672">.</span> toml-ts-mode)
</span></span><span style="display:flex;"><span>                      (mode <span style="color:#f92672">.</span> conf-windows-mode)
</span></span><span style="display:flex;"><span>                      (name <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;^\\.clangd$&#34;</span>)
</span></span><span style="display:flex;"><span>                      (name <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;^\\.gitignore$&#34;</span>)
</span></span><span style="display:flex;"><span>                      (name <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;^Doxyfile$&#34;</span>)
</span></span><span style="display:flex;"><span>                      (name <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;^config\\.toml$&#34;</span>)
</span></span><span style="display:flex;"><span>                      (mode <span style="color:#f92672">.</span> yaml-mode)))
</span></span><span style="display:flex;"><span>           (<span style="color:#e6db74">&#34;Web&#34;</span> (or
</span></span><span style="display:flex;"><span>                   (mode <span style="color:#f92672">.</span> mhtml-mode)
</span></span><span style="display:flex;"><span>                   (mode <span style="color:#f92672">.</span> html-mode)
</span></span><span style="display:flex;"><span>                   (mode <span style="color:#f92672">.</span> web-mode)
</span></span><span style="display:flex;"><span>                   (mode <span style="color:#f92672">.</span> nxml-mode)))
</span></span><span style="display:flex;"><span>           (<span style="color:#e6db74">&#34;CSS&#34;</span> (or
</span></span><span style="display:flex;"><span>                   (mode <span style="color:#f92672">.</span> css-mode)
</span></span><span style="display:flex;"><span>                   (mode <span style="color:#f92672">.</span> sass-mode)))
</span></span><span style="display:flex;"><span>           (<span style="color:#e6db74">&#34;JS&#34;</span> (or
</span></span><span style="display:flex;"><span>                  (mode <span style="color:#f92672">.</span> js-mode)
</span></span><span style="display:flex;"><span>                  (mode <span style="color:#f92672">.</span> rjsx-mode)))
</span></span><span style="display:flex;"><span>           (<span style="color:#e6db74">&#34;Markup&#34;</span> (or
</span></span><span style="display:flex;"><span>                   (mode <span style="color:#f92672">.</span> markdown-mode)
</span></span><span style="display:flex;"><span>                   (mode <span style="color:#f92672">.</span> adoc-mode)))
</span></span><span style="display:flex;"><span>           (<span style="color:#e6db74">&#34;Org&#34;</span> (mode <span style="color:#f92672">.</span> org-mode))
</span></span><span style="display:flex;"><span>           (<span style="color:#e6db74">&#34;LaTeX&#34;</span> (name <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;\.tex$&#34;</span>))
</span></span><span style="display:flex;"><span>           (<span style="color:#e6db74">&#34;Magit&#34;</span> (or
</span></span><span style="display:flex;"><span>                     (mode <span style="color:#f92672">.</span> magit-blame-mode)
</span></span><span style="display:flex;"><span>                     (mode <span style="color:#f92672">.</span> magit-cherry-mode)
</span></span><span style="display:flex;"><span>                     (mode <span style="color:#f92672">.</span> magit-diff-mode)
</span></span><span style="display:flex;"><span>                     (mode <span style="color:#f92672">.</span> magit-log-mode)
</span></span><span style="display:flex;"><span>                     (mode <span style="color:#f92672">.</span> magit-process-mode)
</span></span><span style="display:flex;"><span>                     (mode <span style="color:#f92672">.</span> magit-status-mode)))
</span></span><span style="display:flex;"><span>           (<span style="color:#e6db74">&#34;Apps&#34;</span> (or
</span></span><span style="display:flex;"><span>                    (mode <span style="color:#f92672">.</span> elfeed-search-mode)
</span></span><span style="display:flex;"><span>                    (mode <span style="color:#f92672">.</span> elfeed-show-mode)))
</span></span><span style="display:flex;"><span>           (<span style="color:#e6db74">&#34;Fundamental&#34;</span> (or
</span></span><span style="display:flex;"><span>                           (mode <span style="color:#f92672">.</span> fundamental-mode)
</span></span><span style="display:flex;"><span>                           (mode <span style="color:#f92672">.</span> text-mode)))
</span></span><span style="display:flex;"><span>           (<span style="color:#e6db74">&#34;Emacs&#34;</span> (or
</span></span><span style="display:flex;"><span>                     (mode <span style="color:#f92672">.</span> emacs-lisp-mode)
</span></span><span style="display:flex;"><span>                     (name <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;^\\*Help\\*$&#34;</span>)
</span></span><span style="display:flex;"><span>                     (name <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;^\\*Custom.*&#34;</span>)
</span></span><span style="display:flex;"><span>                     (name <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;^\\*Org Agenda\\*$&#34;</span>)
</span></span><span style="display:flex;"><span>                     (name <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;^\\*info\\*$&#34;</span>)
</span></span><span style="display:flex;"><span>                     (name <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;^\\*scratch\\*$&#34;</span>)
</span></span><span style="display:flex;"><span>                     (name <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;^\\*Backtrace\\*$&#34;</span>)
</span></span><span style="display:flex;"><span>                     (name <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;^\\*Messages\\*$&#34;</span>))))))
</span></span><span style="display:flex;"><span>  :hook
</span></span><span style="display:flex;"><span>  (ibuffer-mode <span style="color:#f92672">.</span> (lambda ()
</span></span><span style="display:flex;"><span>                    (ibuffer-switch-to-saved-filter-groups <span style="color:#e6db74">&#34;Main&#34;</span>)))
</span></span><span style="display:flex;"><span>)
</span></span></code></pre></div><figure><a href="https://olddeuteronomy.github.io/img/ibuffer.png"><img src="https://olddeuteronomy.github.io/img/ibuffer.png"/></a><figcaption>
            <h4>IBuffer. Click or tap to view the full-size picture.</h4>
        </figcaption>
</figure>

<p>Since I use the <code>ibuffer</code> command frequently, I’ve bound it to the <code>&lt;F5&gt;</code>
key for quick access.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-elisp" data-lang="elisp"><span style="display:flex;"><span>(global-set-key [(f5)]  <span style="color:#a6e22e">#&#39;</span>ibuffer)
</span></span></code></pre></div><h2 id="casual-ibuffer">Casual IBuffer</h2>
<p>Another valuable resource for enhancing IBuffer is the
<a href="https://kickingvegas.github.io/casual/">Casual</a> project,
a suite of excellent Emacs packages developed by
<a href="https://mastodon.social/@kickingvegas@sfba.social">Charles Choi</a>.
As outlined in the
<a href="https://kickingvegas.github.io/casual/Motivations.html">Casual User Guide</a>,
its goals are to provide a keyboard-driven menu UI toolkit for common Emacs commands, to enable
casual discovery and use of infrequently used commands, and to serve
as a frequently used interface for supported modes.</p>
<p>The <a href="https://kickingvegas.github.io/casual/IBuffer.html">Casual IBuffer</a>
package specifically provides an intuitive user interface for Emacs
IBuffer, enhancing its functionality and ease of use.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-elisp" data-lang="elisp"><span style="display:flex;"><span><span style="color:#75715e">;; Requires `transient&#39; package.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; https://kickingvegas.github.io/casual/</span>
</span></span><span style="display:flex;"><span>(use-package casual :ensure <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; IBuffer</span>
</span></span><span style="display:flex;"><span>(keymap-set ibuffer-mode-map <span style="color:#e6db74">&#34;C-o&#34;</span> <span style="color:#a6e22e">#&#39;</span>casual-ibuffer-tmenu)
</span></span><span style="display:flex;"><span>(keymap-set ibuffer-mode-map <span style="color:#e6db74">&#34;F&#34;</span> <span style="color:#a6e22e">#&#39;</span>casual-ibuffer-filter-tmenu)
</span></span><span style="display:flex;"><span>(keymap-set ibuffer-mode-map <span style="color:#e6db74">&#34;s&#34;</span> <span style="color:#a6e22e">#&#39;</span>casual-ibuffer-sortby-tmenu)
</span></span></code></pre></div><figure><a href="https://olddeuteronomy.github.io/img/ibuffer-casual.png"><img src="https://olddeuteronomy.github.io/img/ibuffer-casual.png"/></a><figcaption>
            <h4>Casual IBuffer. Click or tap to view the full-size picture.</h4>
        </figcaption>
</figure>

<p>Happy emacsing!</p>
<p>&mdash; The Emacs Cat.</p>