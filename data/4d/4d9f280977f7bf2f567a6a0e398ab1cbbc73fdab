<p>Often I find myself refining my collection of photos and family videos, usually with the following process:</p>
<figure class="emacs-img"><img src="https://emacs.dyerdwelling.family/ox-hugo/20230730102057-emacs--Shrinking-Media-With-The-Help-Of-Emacs.jpg">
</figure>

<ul>
<li>removing media clutter</li>
<li>removing any duplicates</li>
<li>tagging as necessary</li>
<li>compressing where reasonable</li>
<li>renaming to a more <code>denote</code> format</li>
</ul>
<p>Emacs and the associated muscle memory greatly helps with this process.</p>
<p>Firstly though I leverage other applications, for example, duplicate removal and tagging takes place through <code>digikam</code>, media clutter through <code>thunar</code> and <code>gthumb</code></p>
<p>My emacs process is then:</p>
<ul>
<li>
<p>open media directory in <code>dired</code></p>
</li>
<li>
<p>sort by size using <code>C-u s S</code> - the big S is setting the ls format by size</p>
</li>
<li>
<p><code>M-&lt;</code> <code>(beginning-of-buffer)</code> - so I can see the largest files</p>
</li>
<li>
<p>if I want to squish a video I will probably want to preview it first in <strong>mpv</strong>, so I do this asynchronously using <code>&amp;</code> <code>(dired-do-async-shell-command)</code> and relying on my defined <code>dired-guess-shell-alist-user</code> setup and then selecting <code>i</code> (mpv shortcut) to have a quick peek at the original dimensions.  Typically if the video is 1920x1080 then I like to halve the dimensions which when running through <code>ffmpeg</code> saves about 80-90% on disk space.</p>
<p>I have my own <code>ffmpeg</code> bash scripts which I call through <code>dwim-shell-command</code> so a command search for something like <strong>dw sh</strong> <code>my/dwim-video-shrink</code> will dired execute the file under cursor or over a list of marked files.</p>
</li>
<li>
<p>for images I again use <code>dwim-shell-command</code> with a quick command search for something like <strong>dw cr</strong> <code>my/dwim-picture-crush</code> which isn&rsquo;t always as brutal as it might suggest but a script that I regularly modify when compressing images, setting the compression parameters appropriately.</p>
<p>If I need to quickly inspect the image then I could open it in emacs but I prefer again to open in gthumb using <code>&amp;</code></p>
</li>
<li>
<p>Possibly at the end of a directory compress I might check the directory size by <code>?</code> in <code>dired</code> which I have mapped to an elisp <code>my/get-file-size</code> function that runs the <code>async-shell-command</code> <code>du -</code></p>
</li>
<li>
<p>and of course my files can be easily renamed through <code>wdired</code></p>
</li>
</ul>
<p>As I am using a tiling window manager all of this can be accomplished keyboard only and on a single screen!</p>