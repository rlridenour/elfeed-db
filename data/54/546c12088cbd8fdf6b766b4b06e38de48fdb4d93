<p>
If you&rsquo;re using Magit on macOS, <a href="https://gregnewman.io/blog/speed-up-magit-on-macos/">here&rsquo;s a tip</a> that will either improve your life considerably or not affect you at all. The tip is from Greg Newman who says that it reduced his commit time from about 4 seconds to less than a second.
</p>
<p>
The secret? It turns out to be simply specifying a pointer to the git executable like this:
</p>
<div class="org-src-container">
<pre class="src src-elisp">(<span style="color: #a020f0;">use-package</span> magit
  <span style="color: #483d8b;">:bind</span> (<span style="color: #8b2252;">"C-x g"</span> . magit-status)
  <span style="color: #483d8b;">:custom</span>
  (magit-git-executable <span style="color: #8b2252;">"/opt/homebrew/bin/git"</span>))
</pre>
</div>
<p>
Of course, after the excitement dies down, you start thinking, &ldquo;Wait! What? That can&rsquo;t be right.&rdquo; Well, what can&rsquo;t be right is that it&rsquo;s taking 3 seconds to find the git executable by searching the <code>PATH</code> variable. What <i>is</i> happening then?
</p>
<p>
It turns out that Apple provides a copy of git that it puts in <code>/usr/bin/</code> but if you&rsquo;re using <a href="https://brew.sh/">Homebrew</a> and loaded git with it, the executable lives in another place. In Newman&rsquo;s case, that place is <code>/opt/homebrew/bin/</code>. In my case, it&rsquo;s in another place but the same thing happens: there are two versions of git in your file system and unless you&rsquo;ve performed surgery on your <code>PATH</code> variable, Emacs will probably find the older version provided by Apple.
</p>
<p>
What&rsquo;s really going on here, it seems, is that without some further action on your part, Emacs—or more precisely, Magit— may be finding the older, presumably slower, version of git. You might wonder why someone would load git from Homebrew. As I recall, the version of git provided by Apple wasn&rsquo;t quite working correctly and, in any event, you might want the latest version with all its improvements and bug fixes.
</p>
<p>
Regardless, if Magit seems slow you should:
</p>
<ol class="org-ol">
<li>Make sure you have the latest version of git loaded from Homebrew or elsewhere</li>
<li>Ensure that Magit finds that git either by adjusting your <code>PATH</code> variable or setting an explicit path as Newman does.</li>
</ol>
