<h2 id="the-issue">The issue</h2>
<p>By default only the tags directly attached to an org record will be saved in the archive file.
I want to keep all the tags attached to an org record when I archive it, even the inherited ones.</p>
<h2 id="explanation">Explanation</h2>
<p>In org-mode tags are inherited by default. In case of org tree like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-markdown" data-lang="markdown"><span style="display:flex;"><span><span style="color:#66d9ef">*</span> Header1 :tag1:
</span></span><span style="display:flex;"><span>** Sub Header1 :subtag1:
</span></span></code></pre></div><p>you may find that <strong>Sub Header1</strong> has <code>:tag1:subtag1:</code> tags attached to it.</p>
<p>This is something reflected in Agenda view.
Also if you try to find headers with <code>:tag1:</code> <br/>the <strong>Sub Header1</strong> will be one of those even though
we didn&rsquo;t directly attach that tag to it. That&rsquo;s the tag inheritance.</p>
<p>If you try to archive <strong>Sub Header1</strong> you will get this kind of record in the *_archive.org file:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-markdown" data-lang="markdown"><span style="display:flex;"><span><span style="color:#66d9ef">*</span> Sub Header1 :subtag1: &lt;<span style="color:#f92672">---</span> <span style="color:#a6e22e">this</span> <span style="color:#a6e22e">is</span> <span style="color:#a6e22e">the</span> <span style="color:#a6e22e">tag</span>
</span></span><span style="display:flex;"><span> <span style="color:#a6e22e">:PROPERTIES:</span>
</span></span><span style="display:flex;"><span> <span style="color:#a6e22e">:ARCHIVE_TIME:</span> <span style="color:#960050;background-color:#1e0010">&lt;</span><span style="color:#a6e22e">date</span>&gt;
</span></span><span style="display:flex;"><span> :ARCHIVE_FILE: &lt;<span style="color:#f92672">original</span> <span style="color:#a6e22e">org</span> <span style="color:#a6e22e">file</span>&gt;
</span></span><span style="display:flex;"><span> :ARCHIVE_OLPATH: &lt;<span style="color:#f92672">org</span> <span style="color:#a6e22e">path</span>&gt;
</span></span><span style="display:flex;"><span> :ARCHIVE_CATEGORY: &lt;<span style="color:#f92672">org</span> <span style="color:#a6e22e">file</span> <span style="color:#a6e22e">category</span>&gt;
</span></span><span style="display:flex;"><span> :ARCHIVE_ITAGS: tag1 &lt;<span style="color:#f92672">---</span> <span style="color:#a6e22e">this</span> <span style="color:#a6e22e">is</span> <span style="color:#a6e22e">the</span> <span style="color:#a6e22e">inherited</span> <span style="color:#a6e22e">tags</span>
</span></span><span style="display:flex;"><span> <span style="color:#a6e22e">:END:</span>
</span></span></code></pre></div><p>As you can see the <code>tag1</code> is missing in the heading. It is available in the <code>ARCHIVE_ITAGS</code> though.
For me it would be much better if I can see all the tags immediately in the record heading. It will also allow me to filter
my archived records by those tags.</p>
<h2 id="solution">Solution</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(setq org-archive-subtree-add-inherited-tags <span style="color:#66d9ef">t</span>)
</span></span></code></pre></div><p>It&rsquo;s as easy as that. Now the archived heading will look like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-markdown" data-lang="markdown"><span style="display:flex;"><span><span style="color:#66d9ef">*</span> Sub Header1 :tag1:subtag1:
</span></span></code></pre></div><p>which is exactly what I wanted.</p>