<p>If using Emacs shell and helm projectile, you can wire these up to quickly change your current working directory.</p>
<p><img src="https://xenodium.github.io/images/change-emacs-shells-cwd-with-helm-projectile/change-cwd-with-helm-projectile.gif" alt=""></p>
<pre><code class="language-{.commonlisp">(require 'helm-projectile)

(defun ar/shell-cd (dir-path)
&quot;Like shell-pop--cd-to-cwd-shell, but without recentering.&quot;
  (unless (string-equal mode-name &quot;Shell&quot;)
    (error &quot;Not in Shell mode&quot;))
  (message mode-name)
  (goto-char (point-max))
  (comint-kill-input)
  (insert (concat &quot;cd &quot; (shell-quote-argument dir-path)))
  (let ((comint-process-echoes t))
    (comint-send-input)))

(defun ar/helm-projectile-shell-cd ()
  &quot;Change shell current working directory using helm projectile.&quot;
  (interactive)
  (unless (string-equal mode-name &quot;Shell&quot;)
    (error &quot;Not in Shell mode&quot;))
  (let ((helm-dir-source (copy-tree  helm-source-projectile-directories-list)))
    (add-to-list 'helm-dir-source '(action . ar/shell-cd))
    (add-to-list 'helm-dir-source '(keymap . nil))
    (add-to-list 'helm-dir-source '(header-line . &quot;cd to directory...&quot;))
    (helm :sources helm-dir-source
          :buffer &quot;*helm-dirs*&quot;
          :candidate-number-limit 10000)))
</code></pre>
