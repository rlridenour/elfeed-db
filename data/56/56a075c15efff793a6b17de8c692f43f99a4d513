<h2 id="why">Why?</h2>
<p>Look&hellip; If you haven&rsquo;t been living under a rock, you&rsquo;ve probably noticed that <a href="https://chat.openai.com/chat">ChatGPT</a> is a hot topic on the internet.</p>
<p>Rightfully so, if you ask me. This thing is amazing. I got no words.</p>
<p>I am not going to explain it because I do not feel like I am the right person to do so. Just visit <a href="https://openai.com/blog/chatgpt/">openai.com</a> and see for yourself. However here are a few words from the devs:</p>
<blockquote>
<p>ChatGPT is fine-tuned from a model in the GPT-3.5 series, which finished training in early 2022.</p>
</blockquote>
<p>Since I am no wiz kid, when it come to write Emacs lisp I needed to give it a shot, right?</p>
<h2 id="what">What?</h2>
<p>I of course tried out a lot of things, both code-related and not. However, I am only going to talk about a few functions in my Emacs configuration that I – or rather, <code>ChatGPT</code> – refactored.</p>
<p>For now, I am going to list the before and after versions for lack of more time. I just did not want to miss the opportunity to write a post for posterity (mostly for myself).</p>
<h3 id="macro-to-require-my-custom-modules">Macro to <code>require</code> my custom modules</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nb">defmacro</span> <span class="nv">timu-func-require-modules</span> <span class="p">(</span><span class="kp">&amp;rest</span> <span class="nv">modules</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="s">&#34;Load MODULES, if they are not already loaded and are installed.
</span></span></span><span class="line"><span class="cl"><span class="s">Skips any modules that are not found.
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">Displays a message in the minibuffer for any modules that are not found.
</span></span></span><span class="line"><span class="cl"><span class="s">Displays a message in the minibuffer for any modules that are already loaded.
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">Credit: https://chat.openai.com/chat.&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="o">`</span><span class="p">(</span><span class="nb">progn</span>
</span></span><span class="line"><span class="cl">     <span class="o">,@</span><span class="p">(</span><span class="nf">mapcar</span> <span class="p">(</span><span class="nb">lambda</span> <span class="p">(</span><span class="nv">module</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                 <span class="o">`</span><span class="p">(</span><span class="nb">when</span> <span class="p">(</span><span class="nv">not</span> <span class="p">(</span><span class="nb">featurep</span> <span class="ss">&#39;,module</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">                    <span class="p">(</span><span class="nb">if</span> <span class="p">(</span><span class="nv">locate-library</span> <span class="o">,</span><span class="p">(</span><span class="nf">symbol-name</span> <span class="nv">module</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">                        <span class="p">(</span><span class="nb">progn</span>
</span></span><span class="line"><span class="cl">                          <span class="p">(</span><span class="nb">require</span> <span class="ss">&#39;,module</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                          <span class="p">(</span><span class="nf">message</span> <span class="s">&#34;Loaded module &#39;%s&#39;&#34;</span> <span class="ss">&#39;,module</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">                      <span class="p">(</span><span class="nf">message</span> <span class="s">&#34;Module &#39;%s&#39; not found&#34;</span> <span class="ss">&#39;,module</span><span class="p">))))</span>
</span></span><span class="line"><span class="cl">               <span class="nv">modules</span><span class="p">)))</span>
</span></span></code></pre></div><p>With this my custom functions to load the modules at startup change from this:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nb">defun</span> <span class="nv">timu-func-load-modules</span> <span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="s">&#34;Load all custom the modules using </span><span class="ss">`require&#39;</span><span class="s">.
</span></span></span><span class="line"><span class="cl"><span class="s">The order in which the modules are loaded is important.&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">interactive</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">progn</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">require</span> <span class="ss">&#39;timu-defaults</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">require</span> <span class="ss">&#39;timu-personal</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">require</span> <span class="ss">&#39;timu-evil</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">require</span> <span class="ss">&#39;timu-ui</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">require</span> <span class="ss">&#39;timu-dired</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">pcase</span> <span class="nv">system-type</span>
</span></span><span class="line"><span class="cl">      <span class="p">((</span><span class="nb">or</span><span class="ss">&#39;darwin</span> <span class="ss">&#39;gnu/linux</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">       <span class="p">(</span><span class="nb">require</span> <span class="ss">&#39;timu-pdf</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">require</span> <span class="ss">&#39;timu-org</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">require</span> <span class="ss">&#39;timu-nav</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">require</span> <span class="ss">&#39;timu-minibuffer</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">require</span> <span class="ss">&#39;timu-transients</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">require</span> <span class="ss">&#39;timu-editor</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">require</span> <span class="ss">&#39;timu-shell</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">pcase</span> <span class="nv">system-type</span>
</span></span><span class="line"><span class="cl">      <span class="p">((</span><span class="nb">or</span><span class="ss">&#39;darwin</span> <span class="ss">&#39;gnu/linux</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">       <span class="p">(</span><span class="nb">require</span> <span class="ss">&#39;timu-git</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">if</span> <span class="nv">timu-defaults-wsl-p</span>
</span></span><span class="line"><span class="cl">        <span class="p">(</span><span class="nf">message</span> <span class="s">&#34;No mu4e for wsl&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nb">pcase</span> <span class="nv">system-type</span>
</span></span><span class="line"><span class="cl">        <span class="p">((</span><span class="nb">or</span><span class="ss">&#39;darwin</span> <span class="ss">&#39;gnu/linux</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">         <span class="p">(</span><span class="nb">require</span> <span class="ss">&#39;timu-mu4e</span><span class="p">))))</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">require</span> <span class="ss">&#39;timu-elfeed</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">pcase</span> <span class="nv">system-type</span>
</span></span><span class="line"><span class="cl">      <span class="p">((</span><span class="nb">or</span><span class="ss">&#39;darwin</span> <span class="ss">&#39;gnu/linux</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">       <span class="p">(</span><span class="nb">require</span> <span class="ss">&#39;timu-prog</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">pcase</span> <span class="nv">system-type</span>
</span></span><span class="line"><span class="cl">      <span class="p">((</span><span class="nb">or</span><span class="ss">&#39;darwin</span> <span class="ss">&#39;gnu/linux</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">       <span class="p">(</span><span class="nb">require</span> <span class="ss">&#39;timu-latex</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">require</span> <span class="ss">&#39;timu-major-modes</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">pcase</span> <span class="nv">system-type</span>
</span></span><span class="line"><span class="cl">      <span class="p">((</span><span class="nb">or</span><span class="ss">&#39;darwin</span> <span class="ss">&#39;gnu/linux</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">       <span class="p">(</span><span class="nb">require</span> <span class="ss">&#39;timu-work</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">require</span> <span class="ss">&#39;timu-fun</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">require</span> <span class="ss">&#39;timu-map</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">require</span> <span class="ss">&#39;timu-keys</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">require</span> <span class="ss">&#39;timu-scratch</span><span class="p">)))</span>
</span></span></code></pre></div><p>to this:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nb">defun</span> <span class="nv">timu-func-load-modules</span> <span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="s">&#34;Load all custom the modules using </span><span class="ss">`require&#39;</span><span class="s">.
</span></span></span><span class="line"><span class="cl"><span class="s">  The order in which the modules are loaded is important.&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">interactive</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">timu-func-require-modules</span>
</span></span><span class="line"><span class="cl">   <span class="nv">timu-defaults</span>
</span></span><span class="line"><span class="cl">   <span class="nv">timu-personal</span>
</span></span><span class="line"><span class="cl">   <span class="nv">timu-evil</span>
</span></span><span class="line"><span class="cl">   <span class="nv">timu-ui</span>
</span></span><span class="line"><span class="cl">   <span class="nv">timu-dired</span>
</span></span><span class="line"><span class="cl">   <span class="nv">timu-org</span>
</span></span><span class="line"><span class="cl">   <span class="nv">timu-nav</span>
</span></span><span class="line"><span class="cl">   <span class="nv">timu-minibuffer</span>
</span></span><span class="line"><span class="cl">   <span class="nv">timu-major-modes</span>
</span></span><span class="line"><span class="cl">   <span class="nv">timu-transients</span>
</span></span><span class="line"><span class="cl">   <span class="nv">timu-editor</span>
</span></span><span class="line"><span class="cl">   <span class="nv">timu-shell</span>
</span></span><span class="line"><span class="cl">   <span class="nv">timu-fun</span>
</span></span><span class="line"><span class="cl">   <span class="nv">timu-map</span>
</span></span><span class="line"><span class="cl">   <span class="nv">timu-keys</span>
</span></span><span class="line"><span class="cl">   <span class="nv">timu-scratch</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">pcase</span> <span class="nv">system-type</span>
</span></span><span class="line"><span class="cl">    <span class="p">((</span><span class="nb">or</span> <span class="ss">&#39;darwin</span> <span class="ss">&#39;gnu/linux</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">     <span class="p">(</span><span class="nv">timu-func-require-modules</span>
</span></span><span class="line"><span class="cl">      <span class="nv">timu-pdf</span>
</span></span><span class="line"><span class="cl">      <span class="nv">timu-git</span>
</span></span><span class="line"><span class="cl">      <span class="nv">timu-mu4e</span>
</span></span><span class="line"><span class="cl">      <span class="nv">timu-elfeed</span>
</span></span><span class="line"><span class="cl">      <span class="nv">timu-prog</span>
</span></span><span class="line"><span class="cl">      <span class="nv">timu-latex</span>
</span></span><span class="line"><span class="cl">      <span class="nv">timu-work</span><span class="p">))))</span>
</span></span></code></pre></div><p>As a little bonus, using the macro also reduced the Emacs startup time by about 1.5 seconds.</p>
<h3 id="function-to-attach-files-in-mu4e-with-less-prompts">Function to attach files in mu4e with less prompts</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nb">defun</span> <span class="nv">timu-func-mu4e-attach-file</span> <span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="s">&#34;Attach a file to an email.
</span></span></span><span class="line"><span class="cl"><span class="s">Use the built-in function </span><span class="ss">`mml-attach-file&#39;</span><span class="s">.&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">interactive</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">let</span> <span class="p">((</span><span class="nv">default-directory</span> <span class="s">&#34;~/&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">let</span> <span class="p">((</span><span class="nv">file</span> <span class="p">(</span><span class="nv">read-file-name</span> <span class="s">&#34;Select a file to attach: &#34;</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nv">mml-attach-file</span> <span class="p">(</span><span class="nf">expand-file-name</span> <span class="nv">file</span><span class="p">)))))</span>
</span></span></code></pre></div><h3 id="heavy-refactoring-of-some-functions">Heavy refactoring of some functions</h3>
<p>Since I am being lazy for this part, I am going to dump a diff here.</p>
<p>This included:</p>
<ul>
<li>Using <code>let</code> in a function instead of defining variables separately</li>
<li>Using <code>lamdas</code> inside of functions instead of several helper functions</li>
<li>And much more&hellip;</li>
</ul>
<p>Listen&hellip; I know that some of it doesn&rsquo;t make sense. Arguably, it does make readability worse. Still, I needed to play around, and this was the result.</p>
<p>In case you are curious, you can find more details in the commits <a href="https://gitlab.com/aimebertrand/dotemacs/-/commits/main">here</a>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-diff" data-lang="diff"><span class="line"><span class="cl">Heavy refactor functions using chatGPT
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">1 file changed, 39 insertions(+), 52 deletions(-)
</span></span><span class="line"><span class="cl">libraries/timu-func.el | 91 ++++++++++++++++++++++----------------------------
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">modified   libraries/timu-func.el
</span></span><span class="line"><span class="cl"><span class="gu">@@ -1000,32 +1000,34 @@ Triggered by a custom macOS Quick Action with keybinding.&#34;
</span></span></span><span class="line"><span class="cl"><span class="gu"></span> ;;; ORG REFILING SUBTREE TO A STANDALONE FILE
</span></span><span class="line"><span class="cl"> (defun timu-func-org-get-subtree-tags (&amp;optional props)
</span></span><span class="line"><span class="cl">   &#34;Given PROPS, from a call to `org-entry-properties&#39;, return a list of tags.&#34;
</span></span><span class="line"><span class="cl"><span class="gd">-  (unless props
</span></span></span><span class="line"><span class="cl"><span class="gd">-    (setq props (org-entry-properties)))
</span></span></span><span class="line"><span class="cl"><span class="gd">-  (let ((tag-label (if timu-func-org-get-subtree-tags-inherited &#34;ALLTAGS&#34; &#34;TAGS&#34;)))
</span></span></span><span class="line"><span class="cl"><span class="gd">-    (-some-&gt;&gt; props
</span></span></span><span class="line"><span class="cl"><span class="gd">-      (assoc tag-label)
</span></span></span><span class="line"><span class="cl"><span class="gd">-      cdr
</span></span></span><span class="line"><span class="cl"><span class="gd">-      substring-no-properties
</span></span></span><span class="line"><span class="cl"><span class="gd">-      (s-split &#34;:&#34;)
</span></span></span><span class="line"><span class="cl"><span class="gd">-      (--filter (not (cl-equalp &#34;&#34; it))))))
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+  (let ((tags-inherited t))
</span></span></span><span class="line"><span class="cl"><span class="gi">+    (unless props
</span></span></span><span class="line"><span class="cl"><span class="gi">+      (setq props (org-entry-properties)))
</span></span></span><span class="line"><span class="cl"><span class="gi">+    (let ((tag-label (if tags-inherited &#34;ALLTAGS&#34; &#34;TAGS&#34;)))
</span></span></span><span class="line"><span class="cl"><span class="gi">+      (-some-&gt;&gt; props
</span></span></span><span class="line"><span class="cl"><span class="gi">+        (assoc tag-label)
</span></span></span><span class="line"><span class="cl"><span class="gi">+        cdr
</span></span></span><span class="line"><span class="cl"><span class="gi">+        substring-no-properties
</span></span></span><span class="line"><span class="cl"><span class="gi">+        (s-split &#34;:&#34;)
</span></span></span><span class="line"><span class="cl"><span class="gi">+        (--filter (not (cl-equalp &#34;&#34; it)))))))
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>
</span></span><span class="line"><span class="cl"> (defun timu-func-org-get-subtree-properties (attributes)
</span></span><span class="line"><span class="cl">   &#34;Return a list of tuples of a subtrees ATTRIBUTES where the keys are strings.&#34;
</span></span><span class="line"><span class="cl"><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd">-  (defun timu-func-symbol-upcase-p (sym)
</span></span></span><span class="line"><span class="cl"><span class="gd">-    (let ((case-fold-search nil))
</span></span></span><span class="line"><span class="cl"><span class="gd">-      (string-match-p &#34;^:[A-Z]+$&#34; (symbol-name sym))))
</span></span></span><span class="line"><span class="cl"><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd">-  (defun timu-func-convert-tuple (tup)
</span></span></span><span class="line"><span class="cl"><span class="gd">-    (let ((key (cl-first tup))
</span></span></span><span class="line"><span class="cl"><span class="gd">-          (val (cl-second tup)))
</span></span></span><span class="line"><span class="cl"><span class="gd">-      (list (substring (symbol-name key) 1) val)))
</span></span></span><span class="line"><span class="cl"><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd">-  (-&gt;&gt; attributes
</span></span></span><span class="line"><span class="cl"><span class="gd">-       (-partition 2) ; Convert plist to list of tuples
</span></span></span><span class="line"><span class="cl"><span class="gd">-       (--filter (timu-func-symbol-upcase-p (cl-first it))) ; Remove lowercase tuples
</span></span></span><span class="line"><span class="cl"><span class="gd">-       (-map &#39;timu-func-convert-tuple)))
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+  (let ((timu-func-symbol-upcase-p
</span></span></span><span class="line"><span class="cl"><span class="gi">+         (lambda (sym)
</span></span></span><span class="line"><span class="cl"><span class="gi">+           (let ((case-fold-search nil))
</span></span></span><span class="line"><span class="cl"><span class="gi">+             (string-match-p &#34;^:[A-Z]+$&#34; (symbol-name sym)))))
</span></span></span><span class="line"><span class="cl"><span class="gi">+        (timu-func-convert-tuple
</span></span></span><span class="line"><span class="cl"><span class="gi">+         (lambda (tup)
</span></span></span><span class="line"><span class="cl"><span class="gi">+           (let ((key (cl-first tup))
</span></span></span><span class="line"><span class="cl"><span class="gi">+                 (val (cl-second tup)))
</span></span></span><span class="line"><span class="cl"><span class="gi">+             (list (substring (symbol-name key) 1) val)))))
</span></span></span><span class="line"><span class="cl"><span class="gi">+    (-&gt;&gt; attributes
</span></span></span><span class="line"><span class="cl"><span class="gi">+         ;; Convert plist to list of tuples
</span></span></span><span class="line"><span class="cl"><span class="gi">+         (-partition 2)
</span></span></span><span class="line"><span class="cl"><span class="gi">+         ;; Remove lowercase tuples
</span></span></span><span class="line"><span class="cl"><span class="gi">+         (--filter (funcall timu-func-symbol-upcase-p (cl-first it)))
</span></span></span><span class="line"><span class="cl"><span class="gi">+         (-map timu-func-convert-tuple))))
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>
</span></span><span class="line"><span class="cl"> (defun timu-func-org-get-subtree-content (attributes)
</span></span><span class="line"><span class="cl">   &#34;Return the contents and ATTRIBUTES of the current subtree as a string.&#34;
</span></span><span class="line"><span class="cl"><span class="gu">@@ -1060,11 +1062,6 @@ region list of the start and end of the subtree.&#34;
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>             :properties (timu-func-org-get-subtree-properties attrs)
</span></span><span class="line"><span class="cl">             :body       (timu-func-org-get-subtree-content attrs)))))
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="gd">-(defvar timu-func-org-get-subtree-tags-inherited t
</span></span></span><span class="line"><span class="cl"><span class="gd">-  &#34;Returns a subtree&#39;s tags, and all tags inherited.
</span></span></span><span class="line"><span class="cl"><span class="gd">-This is from tags specified in parents headlines or on the file itself.
</span></span></span><span class="line"><span class="cl"><span class="gd">-Defaults to true.&#34;)
</span></span></span><span class="line"><span class="cl"><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span> (defun timu-func-org-set-file-property (key value &amp;optional spot)
</span></span><span class="line"><span class="cl">   &#34;Make sure file has a top-level, file-wide property.
</span></span><span class="line"><span class="cl"> KEY is something like \&#34;TITLE\&#34; or \&#34;FILETAGS\&#34;.
</span></span><span class="line"><span class="cl"><span class="gu">@@ -1134,34 +1131,24 @@ It attempts to move as many of the properties and features to the new file.&#34;
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>     (apply #&#39;delete-region area)
</span></span><span class="line"><span class="cl">     (timu-func-org-create-org-file filepath head body tags properties)))
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="gd">-(defvar timu-func-org-refile-directly-show-after nil
</span></span></span><span class="line"><span class="cl"><span class="gd">-  &#34;Show the destination afterwards when using `timu-func-org-refile-directly&#39;.
</span></span></span><span class="line"><span class="cl"><span class="gd">-This is if this is set to t, otherwise, just do all in the background.&#34;)
</span></span></span><span class="line"><span class="cl"><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd">-(defun timu-func-org-subtree-region ()
</span></span></span><span class="line"><span class="cl"><span class="gd">-  &#34;Return a list of the start and end of a subtree.&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd">-  (save-excursion
</span></span></span><span class="line"><span class="cl"><span class="gd">-    (list (progn (org-back-to-heading) (point))
</span></span></span><span class="line"><span class="cl"><span class="gd">-          (progn (org-end-of-subtree)  (point)))))
</span></span></span><span class="line"><span class="cl"><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd">-(defun timu-func-org-refile-directly (file-dest)
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+(defun timu-func-org-refile-directly (file-dest &amp;optional show-after)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>   &#34;Move the current subtree to the end of FILE-DEST.
</span></span><span class="line"><span class="cl"> If SHOW-AFTER is non-nil, show the destination window,
</span></span><span class="line"><span class="cl"> otherwise, this destination buffer is not shown.&#34;
</span></span><span class="line"><span class="cl">   (interactive &#34;fDestination: &#34;)
</span></span><span class="line"><span class="cl"><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd">-  (defun timu-func-dump-it (file contents)
</span></span></span><span class="line"><span class="cl"><span class="gd">-    (find-file-other-window file-dest)
</span></span></span><span class="line"><span class="cl"><span class="gd">-    (goto-char (point-max))
</span></span></span><span class="line"><span class="cl"><span class="gd">-    (insert &#34;\n&#34; contents))
</span></span></span><span class="line"><span class="cl"><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd">-  (save-excursion
</span></span></span><span class="line"><span class="cl"><span class="gd">-    (let* ((region (timu-func-org-subtree-region))
</span></span></span><span class="line"><span class="cl"><span class="gd">-           (contents (buffer-substring (cl-first region) (cl-second region))))
</span></span></span><span class="line"><span class="cl"><span class="gd">-      (apply #&#39;kill-region region)
</span></span></span><span class="line"><span class="cl"><span class="gd">-      (if timu-func-org-refile-directly-show-after
</span></span></span><span class="line"><span class="cl"><span class="gd">-          (save-current-buffer (timu-func-dump-it file-dest contents))
</span></span></span><span class="line"><span class="cl"><span class="gd">-        (save-window-excursion (timu-func-dump-it file-dest contents))))))
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+  (let ((dump-it (lambda (file contents)
</span></span></span><span class="line"><span class="cl"><span class="gi">+                             (find-file-other-window file-dest)
</span></span></span><span class="line"><span class="cl"><span class="gi">+                             (goto-char (point-max))
</span></span></span><span class="line"><span class="cl"><span class="gi">+                             (insert &#34;\n&#34; contents))))
</span></span></span><span class="line"><span class="cl"><span class="gi">+    (save-excursion
</span></span></span><span class="line"><span class="cl"><span class="gi">+      (let* ((region (save-excursion
</span></span></span><span class="line"><span class="cl"><span class="gi">+                       (list (progn (org-back-to-heading) (point))
</span></span></span><span class="line"><span class="cl"><span class="gi">+                             (progn (org-end-of-subtree)  (point)))))
</span></span></span><span class="line"><span class="cl"><span class="gi">+             (contents (buffer-substring (cl-first region) (cl-second region))))
</span></span></span><span class="line"><span class="cl"><span class="gi">+        (apply #&#39;kill-region region)
</span></span></span><span class="line"><span class="cl"><span class="gi">+        (if show-after
</span></span></span><span class="line"><span class="cl"><span class="gi">+            (save-current-buffer (funcall dump-it file-dest contents))
</span></span></span><span class="line"><span class="cl"><span class="gi">+          (save-window-excursion (funcall dump-it file-dest contents)))))))
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> ;;; OX-HUGO
</span></span></code></pre></div><h2 id="conclusion">Conclusion</h2>
<p>Let&rsquo;s close by some words by ChatGPT:</p>
<blockquote>
<p>As a language model, my main purpose is to assist users in generating human-like text based on the input provided to me. This can be useful in a variety of applications, such as generating content for websites, assisting in the creation of documents or reports, and even providing personalized responses to messages or customer inquiries. I can also be useful in language translation tasks, summarizing long articles or documents, and providing information on a wide range of topics. Ultimately, my usefulness will depend on how I am trained and used by the developers and users who employ my services.</p>
</blockquote>
<h2 id="p-dot-s-dot">P.S.</h2>
<p>About 95% of the prose here was reworded by ChatGPT.</p>
