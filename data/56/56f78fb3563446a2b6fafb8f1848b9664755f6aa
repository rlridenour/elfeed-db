<p>I do almost all my text editing in Emacs, and it would be worth
to store the last modified date/time of a file &mdash; org/plain
text/source code/whatever &mdash; <em>in</em> the file, without consulting the
file system.</p>
<p>Fortunately, that is Emacs, and it always extends a helping hand. In
our case this is the <code>time-stamp</code> Emacs built-in function that provides
automatic time-stamping for a file.</p>
<p>All you need to do is to place a time-stamp template <em>near the
beginning</em> of the file, and enable automatic time-stamping in your
config.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-elisp" data-lang="elisp"><span style="display:flex;"><span><span style="color:#75715e">;; When there is a &#34;Time-stamp: &lt;&gt;&#34; string in the first 10 lines of the file,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; Emacs will write time-stamp information there when saving the file.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; (Borrowed from http://home.thep.lu.se/~karlf/emacs.html)</span>
</span></span><span style="display:flex;"><span>(setq time-stamp-active <span style="color:#66d9ef">t</span>          <span style="color:#75715e">; Do enable time-stamps.</span>
</span></span><span style="display:flex;"><span>      time-stamp-line-limit <span style="color:#ae81ff">10</span>     <span style="color:#75715e">; Check first 10 buffer lines for Time-stamp: &lt;&gt;</span>
</span></span><span style="display:flex;"><span>      time-stamp-format <span style="color:#e6db74">&#34;Last changed %Y-%02m-%02d %02H:%02M:%02S by %u&#34;</span>)
</span></span><span style="display:flex;"><span>(add-hook <span style="color:#e6db74">&#39;write-file-hooks</span> <span style="color:#e6db74">&#39;time-stamp</span>) <span style="color:#75715e">; Update when saving.</span>
</span></span></code></pre></div><p>See more about the <code>time-stamp-format</code> variable in Emacs built-in Help
(<code>M-x describe-variable</code>).</p>
<h2 id="examples">Examples</h2>
<h3 id="elisp">ELisp</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-elisp" data-lang="elisp"><span style="display:flex;"><span><span style="color:#75715e">;;; package --- .emacs</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; Time-stamp: &lt;Last changed 2025-04-18 12:54:28 by magnolia&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;; Commentary:</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; Emacs startup file (macOS, Linux, Windows).</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(defvar os-windows (<span style="color:#a6e22e">string-equal</span> system-type <span style="color:#e6db74">&#34;windows-nt&#34;</span>) <span style="color:#e6db74">&#34;OMG, that&#39;s Windows!&#34;</span>)
</span></span><span style="display:flex;"><span>(defvar os-linux (<span style="color:#a6e22e">string-equal</span> system-type <span style="color:#e6db74">&#34;gnu/linux&#34;</span>) <span style="color:#e6db74">&#34;I&#39;m on Linux&#34;</span>)
</span></span><span style="display:flex;"><span>(defvar os-macos (<span style="color:#a6e22e">string-equal</span> system-type <span style="color:#e6db74">&#34;darwin&#34;</span>) <span style="color:#e6db74">&#34;Oh, I&#39;m on macOS&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(defvar my/home (getenv <span style="color:#e6db74">&#34;HOME&#34;</span>))
</span></span></code></pre></div><h3 id="org-mode">Org Mode</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-org" data-lang="org"><span style="display:flex;"><span><span style="color:#75715e">:PROPERTIES:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">:ID:       a483c173-162d-44fb-8c10-fec0f24eafc9
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">:END:</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#+TITLE</span><span style="color:#75715e">: Hugo</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#+DATE</span><span style="color:#75715e">: Time-stamp: &lt;Last changed 2025-04-22 14:40:44 by magnolia&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#+FILETAGS</span><span style="color:#75715e">: :blog:web:</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>*<span style="font-weight:bold"> Issues</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">**</span> 2025-04-01 Newest Hugo version publishes local links
</span></span><span style="display:flex;"><span>   Fixed: Rolled back to v.0.123.7 from Ubuntu 24.04 repository.
</span></span></code></pre></div><h3 id="c-source-code">C++ source code</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">// Time-stamp: &lt;Last changed 2025-03-31 15:36:04 by magnolia&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#pragma once
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;queue&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;mutex&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;condition_variable&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">SafeQueue</span> {
</span></span></code></pre></div><p>Happy emacsing!</p>
<p>&mdash; The Emacs Cat.</p>