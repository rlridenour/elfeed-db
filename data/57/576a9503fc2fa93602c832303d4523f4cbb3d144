
	
<p>
The first action in any analysis project is to obtain and load data. This data is often available in a database, the internet, or a file on your computer. One of the essential skills is thus to load this data into memory and view its content. This chapter introduces how to read CSV files and spreadsheets into R and explore their content using the Tidyverse suite of libraries. <a href="https://dx.doi.org/10.1201/9781003326977-3">This chapter</a> of <em>Data Science for Water Utilities</em> also presents a case study about water quality using synthetic data from an imaginary water supply network. This chapter has the following learning objectives:</p>
<ul>
<li>Download and install R packages</li>
<li>Load and describe CSV files and spreadsheet</li>
<li>Explore the content of rectangular data (data frames)</li>
</ul>
<p>

  <div class="box">
    <div class="media">
      <figure class="media-left">
        <p class="image is-128x128">
          <img src="https://lucidmanager.org/images/books/2023_ds4wu.jpg" alt = "Data Science for Water Utilities" title = "Data Science for Water Utilities">
        </p>
      </figure>
      <div class="media-content">
        <div class="content">
          <p class="is-size-5 has-text-weight-bold">Data Science for Water Utilities</p>
          <p class="mb-2">Data Science for Water Utilities published by CRC Press is an applied, practical guide that shows water professionals how to use data science to solve urban water management problems using the R language for statistical computing.</p>
          <div class="buttons">
            <a class="button is-info" href="https://routledge.com/9781032354545" target="_blank">
              <span class="icon">
                <i class="fas fa-shopping-cart"></i>
              </span>
              <span>Routledge</span>
            </a>
            <a class="button is-info" href="https://www.amazon.com/Data-Science-Water-Utilities-Chapman/dp/1032354550" target="_blank">
              <span class="icon">
                <i class="fas fa-shopping-cart"></i>
              </span>
              <span>Amazon</span>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</p>
<p>
The data and code used in this chapter are available on GitHub:</p>
<p>
<a href = "https://github.com/pprevos/r4h2o/" target="_blank"
   title="Download r4h2o from GitHub"
   alt="Download r4h2o from GitHub">
  <button class="button is-medium is-primary">
    <span class="icon is-large">
      <i class="fab fa-github"></i>
    </span>
    <span style="font-family: monospace">r4h2o</span>
  </button>
</a>

</p>
<div id="outline-container-headline-1" class="outline-2">
<h2 id="headline-1">
The Tidyverse
</h2>
<div id="outline-text-headline-1" class="outline-text-2">
<p>The R language has a lot of capabilities out of the box. But its strongest feature is that it can be easily extended. Thousands of packages are available for almost every imaginable specialised task. Packages are available in public repositories, such as <a href="https://cran.r-project.org/web/packages/index.html">CRAN</a> (The Comprehensive R Archive Network).</p>
<p>
The <a href="https://www.tidyverse.org/">Tidyverse</a> is a collection of packages that makes working with R a bit easier. The remainder of this book will rely heavily on the Tidyverse way of analysing data.</p>
<p>
A package provides additional functions for specialised tasks. You install packages with the <code class="verbatim">install.packages(&#34;package-name&#34;)</code> function. To use the functions in a package, you must evaluate <code class="verbatim">library(package-name)</code>.</p>
</div>
</div>
<div id="outline-container-headline-2" class="outline-2">
<h2 id="headline-2">
Loading Data into R
</h2>
<div id="outline-text-headline-2" class="outline-text-2">
<p>Using specialised packages, R can read almost every common data format, such as REST APIs, SQL databases and GIS shape files.</p>
<p>
The <a href="https://readr.tidyverse.org/">Tidyverse readr</a> package reads rectangular data from text files, such as the standard CSV format. Of course, R can also do this with base functions. Still, the Tidyverse version is faster and better at recognising data types. The <a href="https://readxl.tidyverse.org/">Tidyverse readxl</a> package reads data from Excel files.</p>
</div>
</div>
<div id="outline-container-headline-3" class="outline-2">
<h2 id="headline-3">
Water Quality Case Study
</h2>
<div id="outline-text-headline-3" class="outline-text-2">
<p>This case study uses synthetic data from an imaginary water system named Gormsey. This data contains four analytes:</p>
<ol>
<li>Escherichia coli (E. coli): A harmful bacterium.</li>
<li>Total chlorine [mg/l]. Chlorine is dosed to prevent bacteria from multiplying.</li>
<li>THM: Trihalomethanes. A byproduct of disinfection with chlorine that can cause a negative health impact.</li>
<li>Turbidity [NTU]: A measure of cloudiness.</li>
</ol>
<p>The data is available in the <a href="https://github.com/pprevos/r4h2o">GitHub repository</a> for this book.</p>
</div>
</div>
<div id="outline-container-headline-4" class="outline-2">
<h2 id="headline-4">
Variable Types and Classes
</h2>
<div id="outline-text-headline-4" class="outline-text-2">
<p>The previous chapter introduced scalar and vector variables. However, most data used in practice is stored in a rectangular format as a table. In the R language, a data frame is a rectangular data set where each column is a variable and each row an observation. The Tidyverse data frame is a Tibble, but these names are used interchangeably.</p>
<figure>
<img src="https://lucidmanager.org/images/r4h2o/variable-types.png" alt="Scalar, vector and data frame variables in R" title="Scalar, vector and data frame variables in R" width="500"/>
<figcaption>
Scalar, vector and data frame variables in R.
</figcaption>
</figure>
</div>
</div>
<div id="outline-container-headline-5" class="outline-2">
<h2 id="headline-5">
Exploring Water Quality Data Screencast
</h2>
<div id="outline-text-headline-5" class="outline-text-2">
<p>Chapter three of <em>Data Science for Water Utilities</em> explains loading and exploring CSV and Excel files in more detail. This screencast below reviews the code for this chapter.</p>
<figure>
<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share; fullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/KTQYBvD5DT4?autoplay=0&amp;controls=1&amp;end=0&amp;loop=0&amp;mute=0&amp;start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"></iframe>
    </div>

<figcaption>
Loading and exploring spreadsheet data in R.
</figcaption>
</figure>
<p>
The data and code used in this chapter are available on GitHub:</p>
<p>
<a href = "https://github.com/pprevos/r4h2o/" target="_blank"
   title="Download r4h2o from GitHub"
   alt="Download r4h2o from GitHub">
  <button class="button is-medium is-primary">
    <span class="icon is-large">
      <i class="fab fa-github"></i>
    </span>
    <span style="font-family: monospace">r4h2o</span>
  </button>
</a>

</p>
</div>
</div>
<div id="outline-container-headline-6" class="outline-2">
<h2 id="headline-6">
Additional Resources
</h2>
<div id="outline-text-headline-6" class="outline-text-2">
<p>To help you remember the various functions discussed in the first five chapters of the book, a <a href="https://lucidmanager.org/pdf/r4h2o-cheat-sheet.pdf">cheat sheet</a> is available.</p>
<div id="outline-container-headline-7" class="outline-3">
<h3 id="headline-7">
Other Chapters
</h3>
<div id="outline-text-headline-7" class="outline-text-3">
<p><a href="https://lucidmanager.org/data-science/basics-of-the-r-language/">Previous Chapter</a>: <em>Basics of the R Language</em></p>
<p>
<a href="https://lucidmanager.org/data-science/descriptive-statistics-in-water-quality/">Next Chapter</a>: <em>Descriptive Statistics in Water Quality</em></p>
<p>
Feel free to <a href="https://lucidmanager.org/contact/">contact me</a> if you have any comments, suggestions or questions about this book.</p>
</div>
</div>
</div>
</div>

      