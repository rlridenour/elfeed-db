<p><em>UPDATE: This method no longer works for creating iCloud accounts. I'd love to know if you find an alternative. Please let me know.</em></p>
<p>I wanted an additional @icloud.com account for myself. My first thought was to head over to <a href="https://developer.apple.com">https://developer.apple.com</a> and create a new account, but that requires an existing email address. I wanted an actual @icloud.com email address.</p>
<p><img src="https://xenodium.github.io/images/creating-icloud-test-accounts/web.png" alt=""></p>
<p>My next thought was to create a new account using the iOS simulator, but that complained about creating too many accounts already. Strange, as I hadn't created any.</p>
<p><img src="https://xenodium.github.io/images/creating-icloud-test-accounts/iphone.png" alt=""></p>
<p>I could create an account from macOS settings itself, though that would require logging out my current account (and the syncing implications). To get around that, I could maybe create a temporary macOS user. Instead, I somewhat revisited the simulator route and looked for a VM option to run macOS. This gave me an excuse to play with VM options on macOS.</p>
<p>I had been meaning to check out <a href="https://github.com/lima-vm/lima">lima</a> as per Hacker News's <a href="https://news.ycombinator.com/item?id=36668964">Lima: A nice way to run Linux VMs on Mac</a>. The Hacker News's <a href="https://news.ycombinator.com/item?id=36668964">thread</a> has a handful of great recommendations. Amongst them, <a href="https://github.com/cirruslabs/tart/">tart</a> (macOS and Linux VMs on Apple Silicon) stood out, as it also gave me the Mac on Mac option.</p>
<p>Installing <code>tart</code> via <a href="https://brew.sh/">Homebrew</a> followed the typical <code>brew</code> command… a breeze via my trusty Emacs <a href="https://www.masteringemacs.org/article/complete-guide-mastering-eshell">eshell</a>:</p>
<pre><code class="language-{.bash">brew install cirruslabs/cli/tart
</code></pre>
<p>Cloning a VM image, while straightforward, it did take a little while for the chunky download:</p>
<pre><code class="language-{.bash">tart clone ghcr.io/cirruslabs/macos-sonoma-base:latest sonoma-base
</code></pre>
<p>Running the macOS Sonoma VM was a breeze:</p>
<pre><code class="language-{.bash">tart run sonoma-base
</code></pre>
<p>…and with that, I got a full (and disposable) macOS VM I can use to create another @icloud.com account:</p>
<p><img src="https://xenodium.github.io/images/creating-icloud-test-accounts/sonoma1.png" alt=""></p>
<p><img src="https://xenodium.github.io/images/creating-icloud-test-accounts/sonoma2.png" alt=""></p>
<p>While there may be simpler options out there to create an @icloud.com account (please do let me know <a href="https://indieweb.social/@xenodium">mastodon</a>/<a href="https://twitter.com/xenodium">twitter</a>), the VM did the job. I'd been meaning to find a low friction mechanism to run VMs for a different reason, but that's a post for another time.</p>
