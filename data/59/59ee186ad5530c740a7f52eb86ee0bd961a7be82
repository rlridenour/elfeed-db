<p>Been playing around with <a href="https://swift.org/package-manager/">Swift Package Manager (SPM)</a>. Creating a new Swift package (ie. project) is pretty simple.</p>
<p>To create a library package, we can use the following:</p>
<pre><code class="language-{.bash">swift package init --type library
</code></pre>
<p>Alternatively, to create a command-line utility use:</p>
<pre><code class="language-{.bash">swift package init --type executable
</code></pre>
<p>Turns out, there are a few options: empty, library, executable, system-module, manifest.</p>
<p>With a little elisp, we can write a completing function to quickly generate a Swift package/project without the need to drop to the shell.</p>
<p>Bonus: I won't have to look up SPM options if I ever forget them.</p>
<p><img src="https://xenodium.github.io/images/emacs-create-swift-package/swift-package.gif" alt=""></p>
<pre><code class="language-{.commonlisp">(defun ar/swift-package-init ()
  &quot;Execute `swift package init', with optional name and completing type.&quot;
  (interactive)
  (let* ((name (read-string &quot;name (default): &quot;))
         (type (completing-read
                &quot;project type: &quot;
                ;; Splits &quot;--type empty|library|executable|system-module|manifest&quot;
                (split-string
                 (nth 1 (split-string
                         (string-trim
                          (seq-find
                           (lambda (line)
                             (string-match &quot;--type&quot; line))
                           (process-lines &quot;swift&quot; &quot;package&quot; &quot;init&quot; &quot;--help&quot;)))
                         &quot;   &quot;))
                 &quot;|&quot;)))
         (command (format &quot;swift package init --type %s&quot; type)))
    (unless (string-empty-p name)
      (append command &quot;--name &quot; name))
    (shell-command command))
  (dired default-directory)
  (revert-buffer))
</code></pre>
