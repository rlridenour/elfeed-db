<p>Recently, I&rsquo;ve discovered a number of posts on Reddit — like
<a href="https://www.reddit.com/r/emacs/comments/zc70m8/treesitterhlmode_does_not_do_anything/">tree-sitter-hl-mode does not do
anything</a>
or <a href="https://www.reddit.com/r/emacs/comments/zbpa42/how_to_use_emacs_29_treesitter/">How to use Emacs 29
Tree-sitter?</a>
— and decided to share my simple <code>tree-sitter</code> setup that
seems to be working on my Emacs 28.2 like a charm.</p>
<h2 id="step-1-os-installing-the--tree-sitter-app">Step 1. OS: Installing the  <code>tree-sitter</code> app</h2>
<p>First of all, I&rsquo;ve downloaded the latest pre-build binary archive for my
system from this <a href="https://github.com/tree-sitter/tree-sitter/releases/tag/v0.20.7">GitHub
repo</a>,
in my case that is <em>tree-sitter-linux-x64.gz</em> because I&rsquo;m on Pop!_OS
20.10. Then I&rsquo;ve unpack the archive, put the standalone binary in my
<code>$HOME/bin</code> that is in my <code>$PATH</code> and therefore is accessible from
anywhere, and changed its mode to <em>executable</em> by <code>chmod +x tree-sitter</code>.</p>
<figure><img src="http://localhost:1313/img/tree-sitter-bin.png"/><figcaption>
            <h4>The latest tree-sitter app is installed.</h4>
        </figcaption>
</figure>

<h2 id="step-2-emacs">Step 2. Emacs</h2>
<h3 id="step-21-emacs-installing-tree-sitter-packages">Step 2.1. Emacs: Installing <code>tree-sitter</code> packages</h3>
<p>Then I&rsquo;ve installed <code>tree-sitter</code> (the parsing system) and <code>tree-sitter-langs</code>
(the grammar bundle) Emacs packages using <code>package-list-packages</code>.</p>
<figure><img src="http://localhost:1313/img/tree-sitter-packages.png"/><figcaption>
            <h4>The tree-sitter packages are installed.</h4>
        </figcaption>
</figure>

<h3 id="step-22-emacs-configuring-tree-sitter">Step 2.2. Emacs: Configuring <code>tree-sitter</code></h3>
<p>I&rsquo;ve added the following lines to my <code>~/.emacs</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-elisp" data-lang="elisp"><span style="display:flex;"><span><span style="color:#75715e">;;;; `TREE-SITTER&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; 2022-12-04</span>
</span></span><span style="display:flex;"><span>(require <span style="color:#e6db74">&#39;tree-sitter</span>)
</span></span><span style="display:flex;"><span>(require <span style="color:#e6db74">&#39;tree-sitter-langs</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(global-tree-sitter-mode)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(add-hook <span style="color:#e6db74">&#39;python-mode-hook</span> <span style="color:#a6e22e">#&#39;</span>tree-sitter-hl-mode)
</span></span></code></pre></div><p>That&rsquo;s it. Quite simple, isn&rsquo;t it?</p>
<p>Please pay attention to the last line. It seems that the <em>tree-sitter
highlighting mode</em> provided by <code>tree-sitter-hl-mode</code> is not activated when
you load a file into the buffer even if the <em>global tree sitter mode</em> is on.
Adding the hook for the particular source code mode solves this problem.</p>
<h2 id="result">Result</h2>
<figure><img src="http://localhost:1313/img/tree-sitter-python.png"/>
</figure>

<p>Now I have a pretty looking Python code.</p>
<p>More on <code>tree-sitter</code> and its internals can be found at <a href="https://tree-sitter.github.io/tree-sitter/">https://tree-sitter.github.io/tree-sitter/</a>.</p>
<p>Happy tree-sittering!</p>