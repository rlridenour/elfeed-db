<p>Needed to rewrite the date format in a couple of csv columns. Emacs multiple cursors helps here, but needed a function to parse and reformat the dates themselves.</p>
<p>I can likely reformat dates using the built-in <em>parse-time-string</em> and <em>format-time-string</em> functions, but hey why not give the <a href="https://github.com/alphapapa/ts.el">ts.el</a> library a try…</p>
<pre><code class="language-{.commonlisp">(defun ar/region-to-timestamp ()
  &quot;Convert date like \&quot;29 Apr 2019\&quot; to \&quot;2019-04-29\&quot;.&quot;
  (interactive)
  (let ((date (ts-parse (buffer-substring
                         (region-beginning)
                         (region-end)))))
    (delete-region (region-beginning)
                   (region-end))
    (insert (ts-format &quot;%Y-%m-%d&quot; date))))
</code></pre>
<p>Bound the new function to a temporary keybinding, so I can invoke from multiple cursors:</p>
<pre><code class="language-{.commonlisp">(bind-key &quot;M-q&quot; #'ar/region-to-timestamp)
</code></pre>
<p>and voilà!</p>
<p><img src="https://xenodium.github.io/images/rewriting-dates-with-emacs-multiple-cursors/ts.gif" alt=""></p>
