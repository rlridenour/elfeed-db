<p>Trying out <strong>eglot</strong> at the moment on a php project I have and unfortunately it doesn&rsquo;t work out of the box.</p>
<p>The issue is that my PHP project is based on PHP8 and <a href="https://github.com/zobo/php-language-server">php-language-server</a> is pretty old server
that doesn&rsquo;t support new php versions.</p>
<p>There are bunch of other LSPs for PHP and I would like to play with Phpactor which I never used before.</p>
<p>Fortunately <strong>eglot</strong> supports any LSP server and Phpactor has one too.</p>
<p>To make it work just add this to your init.el:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(add-to-list <span style="color:#e6db74">&#39;eglot-server-programs</span> <span style="color:#f92672">&#39;</span>((php-mode phps-mode) <span style="color:#e6db74">&#34;phpactor&#34;</span> <span style="color:#e6db74">&#34;language-server&#34;</span>))
</span></span></code></pre></div><p>Make sure phpactor is in your $PATH, otherwise just specify the full path.</p>
<p>Now you can just <code>M-x eglot</code> in any php file and it should magically start working.</p>