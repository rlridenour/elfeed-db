
	
<p>
Project Euler 16 is reminiscent of the <a href="http://trailblazernetizens.blogspot.com.au/2015/08/the-amazing-chessboard-theory.html">fable of wheat and chess</a>. Lahur Sessa invented the game of chess for King Iadava. The king was delighted with the game and asked Lahur to name his reward. Lahur asked the king to place one grain of rice on the first square of a chessboard, two on the next square, four on the third square and so on until the board is filled. </p>
<p>
The king was happy with his humble request until his mathematicians worked out that it would take millions of tonnes of grain. Assuming there are 25 grains of wheat in a gramme, the last field will contain more than 461,168,602,000 tonnes of grain.</p>
<div id="outline-container-headline-1" class="outline-2">
<h2 id="headline-1">
Project Euler 16 Definition
</h2>
<div id="outline-text-headline-1" class="outline-text-2">
<p>\(2^{15} = 32768\) and the sum of its digits is \(3 + 2 + 7 + 6 + 8 = 26\). </p>
<p>
What is the <a href="https://projecteuler.net/problem=16">sum of the digits</a> of the number \(2^{1000}\)?</p>
</div>
</div>
<div id="outline-container-headline-2" class="outline-2">
<h2 id="headline-2">
Possible Solutions
</h2>
<div id="outline-text-headline-2" class="outline-text-2">
<p>The most straightforward solution uses the GMP package for Multiple Precision Arithmetic to calculate big integers. The <code class="verbatim">as.bigz()</code> function results in a special class of arbitrarily large integer numbers. To add the digits, the results is converted to a string and split into numbers.</p>
<p>
<a href = "https://github.com/pprevos/ProjectEuler/" target="_blank"
   title="Download ProjectEuler from GitHub"
   alt="Download ProjectEuler from GitHub">
  <button class="button is-medium is-primary">
    <span class="icon is-large">
      <i class="fab fa-github"></i>
    </span>
    <span style="font-family: monospace">ProjectEuler</span>
  </button>
</a>

</p>
<div class="src src-r">
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>  <span style="color:#888">## Project Euler 16: Power digit sum</span>
</span></span><span style="display:flex;"><span>  <span style="color:#06b;font-weight:bold">library</span>(gmp)
</span></span><span style="display:flex;"><span>  digits <span style="color:#333">&lt;-</span> <span style="color:#06b;font-weight:bold">as.bigz</span>(<span style="color:#60e;font-weight:bold">2</span>^1000) <span style="color:#888"># Define number</span>
</span></span><span style="display:flex;"><span>  answer <span style="color:#333">&lt;-</span> <span style="color:#06b;font-weight:bold">sum</span>(<span style="color:#06b;font-weight:bold">as.numeric</span>(<span style="color:#06b;font-weight:bold">unlist</span>(<span style="color:#06b;font-weight:bold">strsplit</span>(<span style="color:#06b;font-weight:bold">as.character</span>(digits), <span style="background-color:#fff0f0">&#34;&#34;</span>))))
</span></span><span style="display:flex;"><span>  <span style="color:#06b;font-weight:bold">print</span>(answer)</span></span></code></pre></div>
</div>
<p>
We can also solve this problem in base-R with the <code class="verbatim">bigg.add()</code> used for <a href="https://lucidmanager.org/data-science/project-euler-13/">Euler Problem 13</a>. This function uses basic string operations to add to arbitrarily large numbers. Raising a number to the power of two can also be written as a series of additions:</p>
<p>
$$2^4 = 2 \times 2 \times 2 \times 2 = ((2+2)+(2+2)) + ((2+2)+(2+2))$$</p>
<p>
The solution to this problem is to add 2 + 2 then add the outcome of that equation to itself, and so on. Repeat this one thousand times to raise the number two to the power of one thousand.</p>
<div class="src src-r">
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>  <span style="color:#888">## Base-R Method</span>
</span></span><span style="display:flex;"><span>  <span style="color:#06b;font-weight:bold">source</span>(<span style="background-color:#fff0f0">&#34;problem013.R&#34;</span>, echo <span style="color:#333">=</span> <span style="color:#080;font-weight:bold">FALSE</span>)
</span></span><span style="display:flex;"><span>  pow <span style="color:#333">&lt;-</span> <span style="color:#60e;font-weight:bold">2</span>
</span></span><span style="display:flex;"><span>  <span style="color:#080;font-weight:bold">for</span> (i <span style="color:#080;font-weight:bold">in</span> <span style="color:#60e;font-weight:bold">2</span><span style="color:#333">:</span><span style="color:#60e;font-weight:bold">1000</span>)
</span></span><span style="display:flex;"><span>      pow <span style="color:#333">&lt;-</span> <span style="color:#06b;font-weight:bold">big.add</span>(pow, pow)
</span></span><span style="display:flex;"><span>  answer <span style="color:#333">&lt;-</span> <span style="color:#06b;font-weight:bold">sum</span>(<span style="color:#06b;font-weight:bold">as.numeric</span>(<span style="color:#06b;font-weight:bold">unlist</span>(<span style="color:#06b;font-weight:bold">strsplit</span>(pow, <span style="background-color:#fff0f0">&#34;&#34;</span>))))
</span></span><span style="display:flex;"><span>  <span style="color:#06b;font-weight:bold">print</span>(answer)</span></span></code></pre></div>
</div>
<p>
<a href = "https://www.r-bloggers.com/" target="_blank" title="Proudly associated with R-Bloggers">
  <button class="button is-link is-medium">
    <span class="icon is-large">
      <i class="fab fa-r-project"></i>
    </span>
    <span>As seen on R Bloggers</span>
  </button>
</a>
</p>
</div>
</div>

      