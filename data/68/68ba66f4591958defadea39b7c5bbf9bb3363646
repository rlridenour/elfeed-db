<p>For the longest time, I had my compilation buffers split to the right in a rather large window.</p>

<p>Until I started <em>programming</em> in Emacs.</p>

<p>Previously, I looked at LaTeX build outputs, or the static site generator’s progress. That was it. Lots of logged text, so I wanted the space.</p>

<p>But compiling C++ or Swift code compulsively, as I do, this got on my nerves <em>really</em> quick. So here’s a more normal configuration, showing <code>compilation-mode</code> buffers in a 25% bottom split “<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Side-Windows.html">side window</a>” (essentially a sidebar, but anywhere).</p>

<div class="language-elisp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="nb">defun</span> <span class="nv">ct/display-buffer-compilation-mode-p</span> <span class="p">(</span><span class="nv">buffer-name</span> <span class="nv">action</span><span class="p">)</span>
  <span class="s">"Determine whether BUFFER-NAME is a compilation buffer."</span>
  <span class="p">(</span><span class="nv">with-current-buffer</span> <span class="nv">buffer-name</span>
    <span class="p">(</span><span class="nb">or</span>
     <span class="p">(</span><span class="nb">eq</span> <span class="ss">'compilation-mode</span> <span class="p">(</span><span class="nv">buffer-local-value</span> <span class="ss">'major-mode</span> <span class="p">(</span><span class="nv">current-buffer</span><span class="p">)))</span>
     <span class="p">(</span><span class="nv">string-match</span> <span class="p">(</span><span class="nv">rx</span> <span class="s">"*[Cc]ompilation*"</span><span class="p">)</span>
                   <span class="nv">buffer-name</span><span class="p">))))</span>

<span class="p">(</span><span class="nv">add-to-list</span> <span class="ss">'display-buffer-alist</span>
             <span class="o">'</span><span class="p">(</span><span class="nv">ct/display-buffer-compilation-mode-p</span>
               <span class="p">(</span><span class="nv">display-buffer-at-bottom</span> 
                <span class="nv">display-buffer-in-side-window</span><span class="p">)</span>
               <span class="p">(</span><span class="nv">window-height</span> <span class="o">.</span> <span class="mf">0.25</span><span class="p">)</span>
               <span class="p">(</span><span class="nv">side</span> <span class="o">.</span> <span class="nv">bottom</span><span class="p">)</span>
               <span class="p">(</span><span class="nv">slot</span> <span class="o">.</span> <span class="mi">-6</span><span class="p">)))</span>
</code></pre></div></div>

<p>I’m not matching for <code>(derived-mode-p 'compilation-mode)</code> because that also catches <code>rg.el</code> and <code>ag.el</code> buffers. (I used to auto-hide compilation buffers and got terribly confused and annoyed that my search results wouldn’t show anymore.)</p>

<p>I still make Emacs Lisp compile warning windows not show at all,
via <a href="https://protesilaos.com/codelog/2024-11-28-basic-emacs-configuration/">https://protesilaos.com/codelog/2024-11-28-basic-emacs-configuration/</a>:</p>

<div class="language-elisp highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="p">(</span><span class="nv">add-to-list</span> <span class="ss">'display-buffer-alist</span>
             <span class="o">'</span><span class="p">(</span><span class="s">"\\`\\*\\(Warnings\\|Compile-Log\\)\\*\\'"</span>
               <span class="p">(</span><span class="nv">display-buffer-no-window</span><span class="p">)</span>
               <span class="p">(</span><span class="nv">allow-no-window</span> <span class="o">.</span> <span class="no">t</span><span class="p">)))</span>
</code></pre></div></div>

<p>Ah, and as of today, I’ve <a href="https://christiantietze.de/posts/tags/display-buffer-alist">tagged all my posts including <code>display-buffer-alist</code></a> because I’ll definitely tweak these again and again.</p>
<hr><p><small><a href="https://christiantietze.de/hire-me/">Hire me</a> for freelance macOS/iOS work and consulting.</small></p><p><small><a href="https://christiantietze.de/apps/">Buy</a> my apps.</small></p><p><small><a href="https://christiantietze.de/newsletter/">Receive</a> new posts via email.</small></p>