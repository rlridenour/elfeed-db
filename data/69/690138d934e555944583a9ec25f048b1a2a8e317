<p>[Equations in this post may not look right (or appear at all) in your RSS reader. Go to <a href="https://leancrew.com/all-this/2025/12/powerball-in-python/">the original article</a> to see them rendered properly.]</p>
  <hr />
  <p>Yesterday morning, before Christmas got going, I read about <a href="https://www.nbcnews.com/news/us-news/powerball-hits-17-billion-christmas-eve-drawing-4th-largest-jackpot-us-rcna250801">the big Powerball win</a> Wednesday night. I figured that was as good an excuse as any to practice <a href="https://leancrew.com/all-this/2025/12/some-lotto-math/">my new lotto math skills</a> and wrote a short Python script to work out the gameâ€™s odds.</p>
<p><a href="https://www.powerball.com/">Powerballâ€™s rules and odds</a> differ from the UK Lottoâ€™s, but theyâ€™re similar. In Powerball, there are 69 numbered white balls and 26 numbered red balls. Players select five numbers from 1 through 69 and one number from 1 through 26. In the drawing, five white balls and one red ball (the Powerball) are drawn. Your winnings depend on how many white balls you match and whether you matched the Powerball.</p>
<p>The script I wrote, <code>powerball.py</code>, prints the odds for every type of win. Hereâ€™s the output:</p>
<pre style="font-family: Menlo,Sans-Serif; font-size:1em; letter-spacing: 0.125em; line-height: 1.4em"><code>âšªâšªâšªâšªâšª ğŸ”´    1 in 292,201,338.00
âšªâšªâšªâšªâšª       1 in 11,688,053.52
  âšªâšªâšªâšª ğŸ”´    1 in 913,129.18
  âšªâšªâšªâšª       1 in 36,525.17
    âšªâšªâšª ğŸ”´    1 in 14,494.11
    âšªâšªâšª       1 in 579.76
      âšªâšª ğŸ”´    1 in 701.33
        âšª ğŸ”´    1 in 91.98
           ğŸ”´    1 in 38.32
</code></pre>
<p>The alignment may not look great in your browser. I fiddled with the CSS to get it looking OK in Safari on my computer, but that doesnâ€™t mean itâ€™ll work for you. I suppose I could change the script to have it output an HTML table, but the idea was to have the columns align well in Terminal, which they do:</p>
<p><img alt="Powerball output in Terminal" class="ss" src="https://leancrew.com/all-this/images2025/20251226-Powerball%20output%20in%20Terminal.png" title="Powerball output in Terminal" width="100%"/></p>
<p>Again, this is on my computer with my Terminal settings, but the alignment looks good in all the fixed-width fonts I have.</p>
<p>Of course, the main point of the script was the calculation of odds, not formatting. Hereâ€™s <code>powerball.py</code>:</p>
<pre><code>python:
 1:  #!/usr/bin/env python3
 2:  
 3:  from math import comb
 4:  
 5:  def powerball(matches, power):
 6:    'Odds (n for "1 in n") of the Powerball game'
 7:  
 8:    if power:
 9:      return 26 * comb(69, 5)/(comb(5, matches)*comb(69 - 5, 5 - matches))
10:    else:
11:      return 26/(26 - 1) * comb(69, 5)/(comb(5, matches)*comb(69 - 5, 5 - matches))
12:  
13:  def mstring(matches):
14:    'Regular match output string'
15:  
16:    return f'{"  "*(5-matches)}{"âšª"*matches}'
17:  
18:  def pstring(power):
19:    'Powerball output string'
20:  
21:    if power:
22:      return f'ğŸ”´'
23:    else:
24:      return f'  '
25:  
26:  for m in range(5, -1, -1):
27:    for p in (True, False):
28:      if p or m &gt; 2:
29:        print(f'{mstring(m)} {pstring(p)}    1 in {powerball(m, p):,.2f}')
</code></pre>
<p>The <code>powerball</code> function takes two arguments: the number of white ball matches and a boolean for whether the Powerball was matched. It returns the inverse of the probability of getting the given results, which is</p>
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mn>26</mn><mspace width="0.167em"></mspace><mfrac><msubsup><mi>C</mi><mn>5</mn><mn>69</mn></msubsup><mrow><msubsup><mi>C</mi><mi>m</mi><mn>5</mn></msubsup><mspace width="0.167em"></mspace><msubsup><mi>C</mi><mrow><mn>5</mn><mo>âˆ’</mo><mi>m</mi></mrow><mn>64</mn></msubsup></mrow></mfrac></mrow></math>
<p>when the Powerball is matched and</p>
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mfrac><mn>26</mn><mn>25</mn></mfrac><mspace width="0.167em"></mspace><mfrac><msubsup><mi>C</mi><mn>5</mn><mn>69</mn></msubsup><mrow><msubsup><mi>C</mi><mi>m</mi><mn>5</mn></msubsup><mspace width="0.167em"></mspace><msubsup><mi>C</mi><mrow><mn>5</mn><mo>âˆ’</mo><mi>m</mi></mrow><mn>64</mn></msubsup></mrow></mfrac></mrow></math>
<p>when it isnâ€™t. These are inverses of probabilities because the lottery presents odds in â€œ1 in <em>n</em>â€ form.</p>
<p>The <code>mstring</code> and <code>pstring</code> functions return the strings with emoji circles for the number of white and red balls that are matched. The circles take up two regular monospace character widths.</p>
<p>The nested loop in Lines 26â€“29 prints out the results. The <code>if</code> statement prevents the printing of certain combinations (two white ball matches without the Powerball match, for example) because those combinations donâ€™t pay off. The odds are printed to two decimal places because thatâ€™s how theyâ€™re presented on the <a href="https://www.powerball.com/">Powerball site</a>.</p>
  
