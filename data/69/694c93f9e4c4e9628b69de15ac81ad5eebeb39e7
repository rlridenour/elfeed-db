<p><img src="https://cdn3.brettterpstra.com/uploads/2026/02/keyboard-header-green-rb.7519.jpg" width="800" height="226" style="margin:0 auto;clear:both;" class="header" /></p>
<p>Here&rsquo;s a new Karabiner-Elements trick that I&rsquo;ve been using to add home row app switching to my workflow. Tools like <a href="https://github.com/mikker/LeaderKey" title="mikker/LeaderKey:The *faster than your launcher* launcher">LeaderKey</a> are great, but sometimes you just want the App Switcher, and sometimes you just want to be lazy with your fingers.</p>

<p>My goal was a home-row app switcher that triggered without leaving the home row, and didn&rsquo;t steal keys for normal typing. The solution is a Karabiner-Elements complex modification that uses <strong>simultaneous</strong> key detection: the layer only activates when <span class="keycombo separated" title="A"><kbd class="key symbol">A</kbd></span> and <span class="keycombo separated" title="S"><kbd class="key symbol">S</kbd></span> are pressed <em>together</em> within a very short window (basically at the exact same time).</p>

<p><strong>This modification is designed for the <a href="https://www.keyboardmaestro.com/">Keyboard Maestro</a> app switcher</strong>, not the macOS default <span class="keycombo separated" title="Command-Tab Key"><kbd class="mod symbol">&#8984;</kbd><span class="keycombo combiner">+</span><kbd class="key symbol">&#8677;</kbd></span> switcher. Keyboard Maestro&rsquo;s switcher uses Shift alone to move backward, whereas the system switcher expects <span class="keycombo separated" title="Shift-Command-Tab Key"><kbd class="mod symbol">&#8679;</kbd><span class="keycombo combiner">+</span><kbd class="mod symbol">&#8984;</kbd><span class="keycombo combiner">+</span><kbd class="key symbol">&#8677;</kbd></span>; the key outputs below match KM&rsquo;s behavior, so you&rsquo;d need to adjust the modification (e.g. have <span class="keycombo separated" title="D"><kbd class="key symbol">D</kbd></span> send <span class="keycombo separated" title="Shift-Tab Key"><kbd class="mod symbol">&#8679;</kbd><span class="keycombo combiner">+</span><kbd class="key symbol">&#8677;</kbd></span>) to use it with the built-in app switcher.</p>

<h2 id="what-it-does">What it does</h2>

<p>Hold <span class="keycombo separated" title="A"><kbd class="key symbol">A</kbd></span> and <span class="keycombo separated" title="S"><kbd class="key symbol">S</kbd></span> at the same time. While both are held, you get a temporary layer:</p>

<ul>
  <li><strong><span class="keycombo separated" title="D"><kbd class="key symbol">D</kbd></span></strong> &rarr; previous app (Shift only; KM uses this for backward)</li>
  <li><strong><span class="keycombo separated" title="F"><kbd class="key symbol">F</kbd></span></strong> &rarr; next app (<span class="keycombo separated" title="Command-Tab Key"><kbd class="mod symbol">&#8984;</kbd><span class="keycombo combiner">+</span><kbd class="key symbol">&#8677;</kbd></span>)</li>
  <li><strong><span class="keycombo separated" title="G"><kbd class="key symbol">G</kbd></span></strong> &rarr; quit (<span class="keycombo separated" title="Command-Q"><kbd class="mod symbol">&#8984;</kbd><span class="keycombo combiner">+</span><kbd class="key symbol">Q</kbd></span>)</li>
</ul>

<p>So you chord <span class="keycombo separated" title="A"><kbd class="key symbol">A</kbd></span>+<span class="keycombo separated" title="S"><kbd class="key symbol">S</kbd></span>, then tap <span class="keycombo separated" title="F"><kbd class="key symbol">F</kbd></span>, it loads the App Switcher, then tap <span class="keycombo separated" title="D"><kbd class="key symbol">D</kbd></span> or <span class="keycombo separated" title="F"><kbd class="key symbol">F</kbd></span> to move through the apps, or <span class="keycombo separated" title="G"><kbd class="key symbol">G</kbd></span> to quit the highlighted app. Release <span class="keycombo separated" title="A"><kbd class="key symbol">A</kbd></span> and/or <span class="keycombo separated" title="S"><kbd class="key symbol">S</kbd></span> and switch to the highlighted app.</p>

<p>This works great with my <a href="https://brettterpstra.com/2025/03/24/keybindings-home-row-arrow-cluster/">home row arrow keys</a>, allowing easy up/down/left/right navigation through Keyboard Maestro&rsquo;s grid-based app switcher. Two-handed, but still all home row.</p>

<h2 id="how-it-avoids-hijacking-a-and-s-for-regular-typing">How it avoids hijacking A and S for regular typing</h2>

<p>The modification never intercepts a lone <span class="keycombo separated" title="A"><kbd class="key symbol">A</kbd></span> or <span class="keycombo separated" title="S"><kbd class="key symbol">S</kbd></span>. It only triggers when both keys are pressed <strong>simultaneously</strong>, with a 50â€¯ms threshold (<code class="language-plaintext highlighter-rouge">basic.simultaneous_threshold_milliseconds</code>). When you type normally, you press one key, release it, then press another. Your &ldquo;a&rdquo; and &ldquo;s&rdquo; key events are separated by hundreds of milliseconds, so Karabiner never sees them as a chord. Only an intentional A+S chord activates the layer. Single-key &ldquo;a&rdquo; and &ldquo;s&rdquo; pass through unchanged.</p>

<p>Under the hood, the rule uses Karabiner&rsquo;s <code class="language-plaintext highlighter-rouge">simultaneous</code> <code class="language-plaintext highlighter-rouge">from</code> condition: an array of key codes that must all be pressed together. On that chord it sets a variable (<code class="language-plaintext highlighter-rouge">as_layer</code>) and injects <span class="keycombo separated" title="Left_command"><kbd class="key symbol">left_command</kbd></span> so that the following D/F/G rules (which are gated on <code class="language-plaintext highlighter-rouge">as_layer</code>) produce the right modifiers. When either A or S is released, <code class="language-plaintext highlighter-rouge">to_after_key_up</code> clears the variable and the layer drops. So you keep full use of <span class="keycombo separated" title="A"><kbd class="key symbol">A</kbd></span> and <span class="keycombo separated" title="S"><kbd class="key symbol">S</kbd></span> for typing; only the deliberate two-finger chord turns them into a layer key.</p>

<h2 id="import-this-modification">Import this modification</h2>

<div class="biner-wrap" data-json-url="https://brettterpstra.com/karabiner/modifications/home-row-app-switcher.json">
  <div class="biner-btn-group">
    <a href="https://brettterpstra.comkarabiner://karabiner/assets/complex_modifications/import?url=https%3A%2F%2Fbrettterpstra.com%2Fkarabiner%2Fmodifications%2Fhome-row-app-switcher.json" class="biner-btn-main">Import to Karabiner</a>
    <button type="button" class="biner-btn-dropdown-toggle" aria-expanded="false" aria-haspopup="true" title="More options">
      <span class="biner-chevron" aria-hidden="true">&#9660;</span>
    </button>
  </div>
  <div class="biner-dropdown-menu" role="menu" hidden="">
    <button type="button" class="biner-dropdown-item biner-show-json" role="menuitem">Show JSON</button>
    <button type="button" class="biner-dropdown-item biner-copy-url" role="menuitem">Copy JSON URL</button>
  </div>
</div>
<script>
(function(){
  if (!window.BinerModal) {
    window.BinerModal = (function(){
      var overlay, pre, currentText;
      function closeModal(){ if (overlay) { overlay.setAttribute("hidden", ""); overlay.setAttribute("aria-hidden", "true"); document.removeEventListener("keydown", escHandler); } }
      function escHandler(e){ if (e.key === "Escape") closeModal(); }
      function createModal() {
        overlay = document.createElement('div');
        overlay.className = 'biner-modal-overlay';
        overlay.setAttribute('aria-hidden', 'true');
        overlay.innerHTML = '<div class="biner-modal-box" role="dialog" aria-modal="true" aria-labelledby="biner-modal-title">' +
          '<div class="biner-modal-header">' +
            '<h2 id="biner-modal-title" class="biner-modal-title">Modification JSON</h2>' +
            '<button type="button" class="biner-modal-close" aria-label="Close">&times;</button>' +
          '</div>' +
          '<div class="biner-modal-body">' +
            '<pre class="biner-modal-pre"></pre>' +
          '</div>' +
          '<div class="biner-modal-footer">' +
            '<button type="button" class="biner-modal-btn biner-modal-copy">Copy</button>' +
            '<button type="button" class="biner-modal-btn biner-modal-download">Download</button>' +
          '</div></div>';
        pre = overlay.querySelector('.biner-modal-pre');
        var style = document.createElement('style');
        style.textContent = '.biner-modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,0.5);display:flex;align-items:center;justify-content:center;z-index:10000;padding:20px;}.biner-modal-overlay[hidden]{display:none!important}.biner-modal-box{background:#fff;border-radius:8px;box-shadow:0 8px 32px rgba(0,0,0,0.2);max-width:90vw;max-height:85vh;display:flex;flex-direction:column;overflow:hidden}.biner-modal-header{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;border-bottom:1px solid #eee}.biner-modal-title{margin:0;font-size:1.1rem;font-weight:600}.biner-modal-close{background:none;border:none;font-size:24px;line-height:1;cursor:pointer;color:#666;padding:0 4px}.biner-modal-close:hover{color:#000}.biner-modal-body{flex:1;overflow:auto;padding:16px}.biner-modal-pre{margin:0;font-family:monospace;font-size:13px;line-height:1.5;white-space:pre-wrap;word-break:break-all}.biner-modal-footer{padding:12px 16px;border-top:1px solid #eee;display:flex;gap:8px;justify-content:flex-end}.biner-modal-btn{padding:8px 16px;border-radius:6px;border:1px solid #ccc;background:#f5f5f5;cursor:pointer;font:inherit}.biner-modal-btn:hover{background:#e5e5e5}.biner-modal-copy:focus,.biner-modal-download:focus{outline:2px solid #007aff;outline-offset:2px}';
        document.head.appendChild(style);
        overlay.querySelector('.biner-modal-close').addEventListener('click', closeModal);
        overlay.addEventListener('click', function(e){ if (e.target === overlay) closeModal(); });
        overlay.querySelector('.biner-modal-copy').addEventListener('click', function(){
          if (!currentText) return;
          if (navigator.clipboard && navigator.clipboard.writeText) {
            navigator.clipboard.writeText(currentText);
          } else {
            var ta = document.createElement('textarea'); ta.value = currentText; ta.setAttribute('readonly', ''); ta.style.position = 'absolute'; ta.style.left = '-9999px';
            document.body.appendChild(ta); ta.select();
            try { document.execCommand('copy'); } finally { document.body.removeChild(ta); }
          }
        });
        overlay.querySelector('.biner-modal-download').addEventListener('click', function(){
          if (!currentText) return;
          var fn = (overlay.getAttribute('data-download-filename') || 'modification.json');
          var blob = new Blob([currentText], { type: 'application/json' });
          var url = URL.createObjectURL(blob);
          var a = document.createElement('a'); a.href = url; a.download = fn; document.body.appendChild(a); a.click(); document.body.removeChild(a); URL.revokeObjectURL(url);
        });
        document.body.appendChild(overlay);
      }
        return {
        show: function(jsonUrl) {
          if (!overlay) createModal();
          overlay.removeAttribute('hidden');
          overlay.setAttribute('aria-hidden', 'false');
          document.addEventListener('keydown', escHandler);
          pre.textContent = 'Loadingâ€¦';
          currentText = null;
          overlay.setAttribute('data-download-filename', (jsonUrl.split('/').pop() || 'modification.json'));
          fetch(jsonUrl).then(function(r){ if (!r.ok) throw new Error(r.status); return r.text(); }).then(function(text){
            try { text = JSON.stringify(JSON.parse(text), null, 2); } catch (e) {}
            currentText = text;
            pre.textContent = text;
          }).catch(function(){
            pre.textContent = 'Failed to load JSON.';
          });
        }
      };
    })();
  }
  var wrap = document.currentScript.previousElementSibling;
  var toggle = wrap.querySelector('.biner-btn-dropdown-toggle');
  var menu = wrap.querySelector('.biner-dropdown-menu');
  var jsonUrl = wrap.getAttribute('data-json-url');
  function closeMenu(){ menu.hidden = true; toggle.setAttribute('aria-expanded', 'false'); }
  function openMenu(){ menu.hidden = false; toggle.setAttribute('aria-expanded', 'true'); }
  toggle.addEventListener('click', function(e){
    e.preventDefault();
    e.stopPropagation();
    menu.hidden ? openMenu() : closeMenu();
  });
  wrap.querySelector('.biner-show-json').addEventListener('click', function(){
    closeMenu();
    window.BinerModal.show(jsonUrl);
  });
  wrap.querySelector('.biner-copy-url').addEventListener('click', function(){
    if (navigator.clipboard && navigator.clipboard.writeText) {
      navigator.clipboard.writeText(jsonUrl).then(closeMenu);
    } else {
      var ta = document.createElement('textarea');
      ta.value = jsonUrl;
      ta.setAttribute('readonly', '');
      ta.style.position = 'absolute';
      ta.style.left = '-9999px';
      document.body.appendChild(ta);
      ta.select();
      try { document.execCommand('copy'); closeMenu(); } catch (err) {}
      document.body.removeChild(ta);
    }
  });
  document.addEventListener('click', function(e){
    if (!wrap.contains(e.target)) closeMenu();
  });
})();
</script>

<div id="paywall_8743d3287caa2902" class="paywall-container" data-paywall-id="paywall_8743d3287caa2902" data-content-id="8743d3287caa2902">
  <div class="paywall-content-placeholder" style="display: none;"></div>
  <div class="paywall-overlay">
    <div class="paywall-message">
      <div class="paywall-icon">ðŸ”’</div>
      <h3>Premium Content</h3>
      <p>And More</p>
      <div class="paywall-actions">
        <a href="https://brettterpstra.com//support/" class="paywall-subscribe-btn">Subscribe Now</a>
        <button class="paywall-login-btn" onclick="paywallLogin()">I'm a Subscriber</button>
      </div>
    </div>
  </div>
</div>

<script>
  // Set up global paywall config and registration queue
  (function() {
    if (!window.paywallConfig) {
      window.paywallConfig = {
        serviceUrl: 'https://paywall.brettterpstra.com',
        cookieName: 'bt_member_token',
        instances: []
      };
    }

    // Register this instance (collected by bt.Paywall when it loads)
    window.paywallConfig.instances.push({
      id: 'paywall_8743d3287caa2902',
      contentId: '8743d3287caa2902'
    });
  })();
</script>


<p>Like or share this post <a title="This post on Mastodon" target="_blank" href="https://hachyderm.io/users/ttscoff/statuses/116007497228558733">on Mastodon</a>, <a title="Share on Bluesky" target="_blank" href="https://bsky.app/intent/compose?text=Karabiner+Home+row+app+switcher%0A%0Ahttps%3A%2F%2Fbrettterpstra.com%2F2026%2F02%2F03%2Fhome-row-app-switcher%2F">Bluesky</a>, or <a class="twitter" target="_blank" rel="nofollow" href="https://twitter.com/intent/tweet?original_referer=https%3A%2F%2Fbrettterpstra.com%2F2026%2F02%2F03%2Fhome-row-app-switcher%2F&text=Karabiner+Home+row+app+switcher&url=https%3A%2F%2Fbrettterpstra.com%2F2026%2F02%2F03%2Fhome-row-app-switcher%2F&via=ttscoff" title="Tweet this post">Twitter</a>.</p>
<hr style="margin:40px 0">

<p>BrettTerpstra.com is supported by readers like you. <a href="https://brettterpstra.com/support/">Click here if you'd
        like to help out.</a></p>
<p>Find Brett on <a rel="me" href="https://hachyderm.io/@ttscoff">Mastodon</a>, <a
        href="https://bsky.app/profile/ttscoff.bsky.social">Bluesky</a>, <a
        href="https://github.com/ttscoff">GitHub</a>, and <a href="https://brettterpstra.com/elsewhere">everywhere
        else</a>.</p><img src="https://brett.trpstra.net/link/535/17269248.gif" height="1" width="1"/>