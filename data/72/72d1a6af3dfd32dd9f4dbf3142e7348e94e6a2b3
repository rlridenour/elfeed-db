<p>After watching the latest informative video from Protesilaos Stavrou (Prot):</p>
<figure class="emacs-img"><img src="https://emacs.dyerdwelling.family/ox-hugo/20230806091105-emacs--Simplifying-My-Modeline.jpg">
</figure>

<p><a href="https://www.youtube.com/watch?v=Qf_DLPIA9Cs&amp;t=4s">Emacs: write custom mode line</a></p>
<p>I decided to try and create my own simple mode line incorporating the features I regularly glance at throughout a day.  Having <code>mu4e</code> and <code>magit</code> details on my mode line plus other mysterious characters seems a bit much.</p>
<p>After adapting the examples given in the video I created the following:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-elisp" data-lang="elisp"><span style="display:flex;"><span>(setq-default mode-line-format
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#39;</span>(<span style="color:#e6db74">&#34;%e&#34;</span>
</span></span><span style="display:flex;"><span>     <span style="color:#e6db74">&#34; %o &#34;</span>
</span></span><span style="display:flex;"><span>     <span style="color:#e6db74">&#34;%* &#34;</span>
</span></span><span style="display:flex;"><span>     my-modeline-buffer-name
</span></span><span style="display:flex;"><span>     my-modeline-major-mode))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(defvar-local my-modeline-buffer-name
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#39;</span>(:eval
</span></span><span style="display:flex;"><span>     (when (mode-line-window-selected-p)
</span></span><span style="display:flex;"><span>       (<span style="color:#a6e22e">propertize</span> (<span style="color:#a6e22e">format</span> <span style="color:#e6db74">&#34; %s &#34;</span> (<span style="color:#a6e22e">buffer-name</span>))
</span></span><span style="display:flex;"><span>         <span style="color:#e6db74">&#39;face</span> <span style="color:#f92672">&#39;</span>(<span style="color:#66d9ef">t</span> :background <span style="color:#e6db74">&#34;#3355bb&#34;</span> :foreground <span style="color:#e6db74">&#34;white&#34;</span> :inherit bold))))
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;Mode line construct to display the buffer name.&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(<span style="color:#a6e22e">put</span> <span style="color:#e6db74">&#39;my-modeline-buffer-name</span> <span style="color:#e6db74">&#39;risky-local-variable</span> <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(defvar-local my-modeline-major-mode
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#39;</span>(:eval
</span></span><span style="display:flex;"><span>     (<span style="color:#a6e22e">list</span>
</span></span><span style="display:flex;"><span>       (<span style="color:#a6e22e">propertize</span> <span style="color:#e6db74">&#34;Î»&#34;</span> <span style="color:#e6db74">&#39;face</span> <span style="color:#e6db74">&#39;shadow</span>)
</span></span><span style="display:flex;"><span>       <span style="color:#e6db74">&#34; &#34;</span>
</span></span><span style="display:flex;"><span>       (<span style="color:#a6e22e">propertize</span> (<span style="color:#a6e22e">capitalize</span> (<span style="color:#a6e22e">symbol-name</span> major-mode)) <span style="color:#e6db74">&#39;face</span> <span style="color:#e6db74">&#39;bold</span>)))
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;Mode line construct to display the major mode.&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(<span style="color:#a6e22e">put</span> <span style="color:#e6db74">&#39;my-modeline-major-mode</span> <span style="color:#e6db74">&#39;risky-local-variable</span> <span style="color:#66d9ef">t</span>)
</span></span></code></pre></div><p>I left in <strong><code>%e</code></strong> as suggested to show an error message if memory was full.</p>
<p><strong><code>%o</code></strong> for how far through the buffer I am.  I have my scroll bars disabled but always find it useful to see where I am in a file especially when coding or within a large org file (for example when applying some repetitive macros seeing 80% through the buffer is quite motivating!)</p>
<p><strong><code>%*</code></strong> to indicate if a file has been modified using the asterisk convention which is common in many other programs and has the side-effect of removing all other cryptic characters that I don&rsquo;t understand.  In the future I can always add some back in again but at that point I will (hopefully) understand what I am reintroducing.</p>
<p>Finally it is just the case of adding the buffer name and major mode which comes straight from the examples given in the video.</p>
<p>I especially like the control over the file name colour profile in combination with the use of the <code>mode-line-window-selected-p</code> function (introduced as part of emacs 29) which helps to identify the buffer in focus.</p>
<p>As with all these things I will use it and adapt accordingly and hopefully not feel the need to add everything back in again!, I think I like this simplicity for now.</p>