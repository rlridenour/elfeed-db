<p>[Equations in this post may not look right (or appear at all) in your RSS reader. Go to <a href="https://leancrew.com/all-this/2025/03/bolts-in-mathematica/">the original article</a> to see them rendered properly.]</p>
  <hr />
  <p><a href="https://leancrew.com/all-this/2025/03/a-sciam-bolt-puzzle/">Yesterday’s post</a> included three drawings I made using a combination of Mathematica, Acorn, and OmniGraffle. The roles that Acorn and OmniGraffle played were pretty obvious, but the Mathematica<sup id="fnref:wolfram"><a href="#fn:wolfram" rel="footnote">1</a></sup> part is worth a description.</p>
<p>To get the stylized images of bolts, I combined three things:</p>
<ol>
<li>A black helix representing the thread peak.</li>
<li>A blue helix representing the thread valley.</li>
<li>A translucent cylinder representing the bolt shank.</li>
</ol>
<p>The cylinder was easy. There’s a <a href="http://reference.wolfram.com/language/ref/Cylinder.html"><code>Cylinder</code> function</a> built in to Mathematica. But the helices require a little math.</p>
<p>A helix can be defined through a set of parametric equations:</p>
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML">
<mtable columnalign="left">
<mtr>
<mtd><mi>x</mi></mtd>
<mtd><mo>=</mo></mtd>
<mtd><mi>A</mi><mo rspace=".5">cos</mo><mo>(</mo><mi>θ</mi><mo>-</mo><msub><mi>θ</mi><mn>0</mn></msub><mo>)</mo></mtd>
</mtr>
<mtr>
<mtd><mi>y</mi></mtd>
<mtd><mo>=</mo></mtd>
<mtd><mi>B</mi><mo rspace=".5">sin</mo><mo>(</mo><mi>θ</mi><mo>-</mo><msub><mi>θ</mi><mn>0</mn></msub><mo>)</mo></mtd>
</mtr>
<mtr>
<mtd><mi>z</mi></mtd>
<mtd><mo>=</mo></mtd>
<mtd><mi>C</mi><mspace width=".125em"></mspace><mi>θ</mi></mtd>
</mtr>
</mtable>
</math>
<p>where <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>A</mi></math>, <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>B</mi></math>, <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>C</mi></math>, and <math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>θ</mi><mn>0</mn></msub></math> are constants that define the geometry of the helix and <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>θ</mi></math> is the single parameter whose value changes as we wind around the helix. This is a more complicated set of equations than are given in <a href="https://mathworld.wolfram.com/Helix.html">MathWorld’s Helix article</a>, but that’s because we need to account for the “handedness” and the starting angles of the threads.</p>
<p>Here’s the Mathematica notebook with all the code needed to produce the drawings:</p>
<iframe height="650" src="https://www.wolframcloud.com/obj/drdrang0/Published/Gardner%20bolt.nb?_embed=iframe" width="100%"></iframe>
<p>(The final three drawings in the notebook aren’t being rendered correctly here. I’ll discuss that in a bit.)</p>
<p>The notebook starts by defining the dimensions of a 1″ UNC bolt. The major diameter is 1″, the minor diameter is 0.8647″, and the pitch is 0.125″. These values are turned into the variables <code>ro</code>, <code>ri</code>, and <code>p</code>. We then create the black helix via the <a href="http://reference.wolfram.com/language/ref/ParametricPlot3D.html"><code>ParametricPlot3D</code> function</a> with equations</p>
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML">
<mtable columnalign="left">
<mtr>
<mtd><mi>x</mi></mtd>
<mtd><mo>=</mo></mtd>
<mtd><msub><mi>r</mi><mi>o</mi></msub><mo rspace=".5">cos</mo><mi>θ</mi></mtd>
</mtr>
<mtr>
<mtd><mi>y</mi></mtd>
<mtd><mo>=</mo></mtd>
<mtd><mo>-</mo><msub><mi>r</mi><mi>o</mi></msub><mo rspace=".5">sin</mo><mi>θ</mi></mtd>
</mtr>
<mtr>
<mtd><mi>z</mi></mtd>
<mtd><mo>=</mo></mtd>
<mtd><mfrac>
<mrow>
<mi>p</mi><mspace width=".125em"></mspace><mi>θ</mi>
</mrow>
<mrow>
<mn>2</mn><mi>π</mi>
</mrow>
</mfrac></mtd>
</mtr>
</mtable>
</math>
<p>The negative sign in the equation for <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>y</mi></math> is what makes this helix right-handed instead of left-handed.</p>
<p>The blue helix is built the same way, but from the equations</p>
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML">
<mtable columnalign="left">
<mtr>
<mtd><mi>x</mi></mtd>
<mtd><mo>=</mo></mtd>
<mtd><msub><mi>r</mi><mi>i</mi></msub><mo rspace=".5">cos</mo><mo>(</mo><mi>θ</mi><mo>+</mo><mi>π</mi><mo>)</mo></mtd>
</mtr>
<mtr>
<mtd><mi>y</mi></mtd>
<mtd><mo>=</mo></mtd>
<mtd><mo>-</mo><msub><mi>r</mi><mi>i</mi></msub><mo rspace=".5">sin</mo><mo>(</mo><mi>θ</mi><mo>+</mo><mi>π</mi><mo>)</mo></mtd>
</mtr>
<mtr>
<mtd><mi>z</mi></mtd>
<mtd><mo>=</mo></mtd>
<mtd><mfrac>
<mrow>
<mi>p</mi><mspace width=".125em"></mspace><mi>θ</mi>
</mrow>
<mrow>
<mn>2</mn><mi>π</mi>
</mrow>
</mfrac></mtd>
</mtr>
</mtable>
</math>
<p>Here, we need to include a starting angle of <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>π</mi></math> to insure that the peaks and valleys are 180° apart.</p>
<p>Unfortunately, the graphics in the rest of the embedded notebook above aren’t being rendered properly, even though the code is correct. The translucent cylinder by itself should look like this:</p>
<p><img alt="Properly rendered cylinder" class="ss" src="https://leancrew.com/all-this/images2025/20250304-Properly%20rendered%20cylinder.png" title="Properly rendered cylinder" width="60%"/></p>
<p>The three parts shown together in a perspective view with the bolt in a vertical orientation should look like this:</p>
<p><img alt="Properly rendered vertical bolt" class="ss" src="https://leancrew.com/all-this/images2025/20250304-Properly%20rendered%20vertical%20bolt.png" title="Properly rendered vertical bolt" width="60%"/></p>
<p>And the orthographic view, which is what I used to build the images in yesterday’s post, should look like this:</p>
<p><img alt="Properly rendered orthographic view" class="ss" src="https://leancrew.com/all-this/images2025/20250304-Properly%20rendered%20orthographic%20view.png" title="Properly rendered orthographic view" width="60%"/></p>
<p>I don’t know why the embedded view isn’t accounting properly for the <code>AmbientLight</code> directive. The three images above are what I see in my local notebook. The embedded notebook is coming from the Wolfram Cloud, which apparently needs to get some bugs fixed. I’ll have to send in a report.</p>
<p>The orthographic view was arrived at by setting the <code>ViewPoint</code> to <code>{0, ∞, 0}</code>. In other words, we’re looking down the <em>y</em>-axis from an infinite distance. In doing this, all the sight lines become parallel, which is what we need to see the thread alignment without any perspective effects.</p>
<p>After saving the orthographic view as a PNG image, I opened it in Acorn, selected all the white pixels with the Magic Wand tool, and turned them transparent. I then imported two copies of the transparent PNG into OmniGraffle, arranged them so the threads meshed, and added the annotations shown in yesterday’s post.</p>
<p>I suppose I could have done all the drawing in Mathematica, but that would’ve taken more time than just drawing one bolt there and doing all the subsequent manipulations in other apps. I try to choose apps based on what they’re good at.</p>
<div class="footnotes">
<hr/>
<ol>
<li id="fn:wolfram">
<p>Although the app on my Mac is now named Wolfram, it’s still called Mathematica in several places within the app and in online seminars run by Wolfram (the company). Thirty-five years of branding are hard to break. <a href="#fnref:wolfram" rev="footnote">↩</a></p>
</li>
</ol>
</div>
  
