<p><img src="https://cdn3.brettterpstra.com/uploads/2025/12/apex-header-2-rb.7518.jpg" width="800" height="226" style="margin:0 auto;clear:both;" class="header" /></p>

<p><a href="https://brettterpstra.com/projects/apex/">Apex</a> has always supported Kramdown-style IAL (Inline Attribute Lists), but I&rsquo;ve been steadily adding more Pandoc compatibility. The latest release brings several new features that make Apex work better with Pandoc-style markdown while maintaining backward compatibility.</p>

<p>Thanks to <a href="https://github.com/somelinguist">somelinguist</a> for the <a href="https://github.com/ApexMarkdown/apex/issues/3">suggestions</a>!</p>

<h3 id="table-captions-get-more-flexible">Table Captions Get More Flexible</h3>

<p>Table captions now support three different formats. You can use the existing <code class="language-plaintext highlighter-rouge">[Caption]</code> and <code class="language-plaintext highlighter-rouge">Table: Caption</code> syntax, plus the new Pandoc-style <code class="language-plaintext highlighter-rouge">: Caption</code> format:</p>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight fixed"><code>| Col1 | Col2 |
|------|------|
| A    | B    |

: This is a Pandoc-style caption</code></pre></div></div>

<p>Even better, IAL attributes in table captions are now extracted and applied to the table element itself. So you can do things like:</p>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight fixed"><code>| Col1 | Col2 |
|------|------|
| A    | B    |

: My Table {#table-id .highlight}</code></pre></div></div>

<p>This applies both the <code class="language-plaintext highlighter-rouge">id="table-id"</code> and <code class="language-plaintext highlighter-rouge">class="highlight"</code> attributes directly to the <code class="language-plaintext highlighter-rouge">&lt;table&gt;</code> element, not just the caption.</p>

<h3 id="pandoc-style-ial-everywhere">Pandoc-Style IAL Everywhere</h3>

<p>One of the biggest changes is full support for Pandoc-style IAL syntax without the colon prefix. Where you used to need <code class="language-plaintext highlighter-rouge">{: #id .class}</code>, you can now use <code class="language-plaintext highlighter-rouge">{#id .class}</code> in all contexts:</p>

<ul>
  <li>Block-level IALs after headings, paragraphs, and other blocks</li>
  <li>Inline IALs on links, images, emphasis, and other inline elements</li>
  <li>Pure IAL paragraphs</li>
  <li>Table captions</li>
</ul>

<p>Both formats work, so your existing Kramdown documents continue to work while new Pandoc-style documents are fully supported.</p>

<h3 id="fenced-divs">Fenced Divs</h3>

<p>Pandoc&rsquo;s fenced divs are now supported in unified mode (enabled by default). You can create custom block containers with attributes:</p>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight fixed"><code>::::: {#warning .alert}
This is a warning box with custom styling.
:::::</code></pre></div></div>

<p>Fenced divs support nesting, attributes, and all the usual IAL features. You can control them with the <code class="language-plaintext highlighter-rouge">--divs</code> and <code class="language-plaintext highlighter-rouge">--no-divs</code> command-line flags.</p>

<h3 id="bracketed-spans">Bracketed Spans</h3>

<p>Bracketed spans let you create inline HTML spans with attributes using a simple syntax:</p>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight fixed"><code>This is [some text]{.highlight} with a span.</code></pre></div></div>

<p>The <code class="language-plaintext highlighter-rouge">[text]{IAL}</code> syntax converts to <code class="language-plaintext highlighter-rouge">&lt;span class="highlight"&gt;some text&lt;/span&gt;</code>. It supports all IAL attribute types—IDs, classes, and key-value pairs—and processes markdown inside the spans.</p>

<p>Reference links take precedence, so if <code class="language-plaintext highlighter-rouge">[text]</code> matches a reference link definition, it stays a link. Otherwise, it becomes a span. Bracketed spans are enabled by default in unified mode, and you can control them with <code class="language-plaintext highlighter-rouge">--spans</code> and <code class="language-plaintext highlighter-rouge">--no-spans</code> flags.</p>

<h3 id="image-attributes-get-smarter">Image Attributes Get Smarter</h3>

<p>Image support has been significantly enhanced. You can now use IAL syntax on both inline and reference-style images:</p>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight fixed"><code><span class="p">![</span><span class="nv">alt text</span><span class="p">](</span><span class="sx">image.jpg</span><span class="p">)</span>{#my-image .photo width=50%}

<span class="p">[</span><span class="ss">ref</span><span class="p">]:</span> <span class="sx">image.jpg</span> <span class="nn">"Title"</span> {#ref-image .thumbnail width=300px}
<span class="p">![</span><span class="nv">alt</span><span class="p">][</span><span class="ss">ref</span><span class="p">]</span></code></pre></div></div>

<p>The width and height conversion follows Pandoc&rsquo;s rules:</p>
<ul>
  <li>Percentages like <code class="language-plaintext highlighter-rouge">width=50%</code> convert to <code class="language-plaintext highlighter-rouge">style="width: 50%"</code></li>
  <li>Pixel values like <code class="language-plaintext highlighter-rouge">width=300px</code> convert to <code class="language-plaintext highlighter-rouge">width="300"</code> (the <code class="language-plaintext highlighter-rouge">px</code> suffix is stripped)</li>
  <li>Bare integers like <code class="language-plaintext highlighter-rouge">width=300</code> stay as <code class="language-plaintext highlighter-rouge">width="300"</code></li>
  <li>Other units like <code class="language-plaintext highlighter-rouge">5em</code> or <code class="language-plaintext highlighter-rouge">10rem</code> convert to style attributes</li>
  <li>Decimal pixel values like <code class="language-plaintext highlighter-rouge">100.5px</code> also go to style attributes</li>
</ul>

<p>This means you get clean, semantic HTML output that works well across different contexts. Reference image definitions also now preserve title attributes, so <code class="language-plaintext highlighter-rouge">[ref]: url "title" {#id}</code> includes the title in the final output.</p>

<h3 id="better-ial-detection">Better IAL Detection</h3>

<p>I&rsquo;ve improved IAL detection throughout the codebase. IAL syntax with spaces (like <code class="language-plaintext highlighter-rouge">{ width=50% }</code>) now works correctly, and IALs are properly stripped from output even when parsing fails, preventing raw IAL syntax from appearing in your HTML.</p>

<p>All of these features work together seamlessly. You can mix Kramdown and Pandoc syntax in the same document, use IALs everywhere, and get clean, semantic HTML output. The test suite has been expanded to cover all these new features, so everything should work reliably.</p>

<p>Check out the <a href="https://github.com/ApexMarkdown/apex/releases/latest">latest release</a> for full release notes. And if you haven&rsquo;t tried Apex yet, check out <a href="https://brettterpstra.com/projects/apex/">the Apex project</a> and help me build the ultimate Markdown processor!</p>

<p>Like or share this post <a title="This post on Mastodon" target="_blank" href="https://hachyderm.io/users/ttscoff/statuses/115821892265850449">on Mastodon</a>, <a title="Share on Bluesky" target="_blank" href="https://bsky.app/intent/compose?text=Additional+Pandoc+features+for+Apex%0A%0Ahttps%3A%2F%2Fbrettterpstra.com%2F2026%2F01%2F01%2Fadditional-pandoc-features-for-apex%2F">Bluesky</a>, or <a class="twitter" target="_blank" rel="nofollow" href="https://twitter.com/intent/tweet?original_referer=https%3A%2F%2Fbrettterpstra.com%2F2026%2F01%2F01%2Fadditional-pandoc-features-for-apex%2F&text=Additional+Pandoc+features+for+Apex&url=https%3A%2F%2Fbrettterpstra.com%2F2026%2F01%2F01%2Fadditional-pandoc-features-for-apex%2F&via=ttscoff" title="Tweet this post">Twitter</a>.</p>
<hr style="margin:40px 0">

<p>BrettTerpstra.com is supported by readers like you. <a href="https://brettterpstra.com/support/">Click here if you'd
        like to help out.</a></p>
<p>Find Brett on <a rel="me" href="https://hachyderm.io/@ttscoff">Mastodon</a>, <a
        href="https://bsky.app/profile/ttscoff.bsky.social">Bluesky</a>, <a
        href="https://github.com/ttscoff">GitHub</a>, and <a href="https://brettterpstra.com/elsewhere">everywhere
        else</a>.</p><img src="https://brett.trpstra.net/link/535/17245219.gif" height="1" width="1"/>