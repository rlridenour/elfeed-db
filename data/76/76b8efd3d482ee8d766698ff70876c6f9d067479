<p>I ran across Mathematica’s <a href="http://reference.wolfram.com/language/ref/NumberLinePlot.html"><code>NumberLinePlot</code></a> function recently and wondered if I could use it to make <a href="https://en.wikipedia.org/wiki/Dot_plot_%28statistics%29">dot plots</a>. The answer was yes, but not directly.</p>
<p>By “dot plots,” I mean the things that look sort of like histogram but with stacked dots instead of boxes to represent each count. Here’s an example from <a href="https://www.tandfonline.com/doi/abs/10.1080/00031305.1999.10474474">a nice paper</a> on dot plots by Leland Wilkinson (the <a href="https://search.catalog.loc.gov/instances/d79885a3-7b25-578b-a7c1-d632b3629292?option=lccn&amp;query=2005043230"><em>Grammar of Graphics</em></a> guy):</p>
<p><img alt="Dot plot from Wilkinson" class="ss" src="https://leancrew.com/all-this/images2025/20251002-Dot%20plot%20from%20Wilkinson.png" title="Dot plot from Wilkinson" width="80%"/></p>
<p>The paper is referenced in <a href="https://en.wikipedia.org/wiki/Dot_plot_%28statistics%29">the Wikipedia article</a> on dot plots, and rightly so. Here’s another in a slightly different style from <a href="https://search.catalog.loc.gov/instances/96ea635c-da83-560a-9ed4-db11259db696?option=lccn&amp;query=77015087"><em>Statistics for Experimenters</em></a> by Box, Hunter, and Hunter (who call them <em>dot diagrams</em>):</p>
<p><img alt="Dot diagram from BHH" class="ss" src="https://leancrew.com/all-this/images2025/20251002-Dot%20diagram%20from%20BHH.png" title="Dot diagram from BHH" width="100%"/></p>
<p>(The vertical line and arrow are add-ons to the dot plot pertinent to the particular problem BH&amp;H were discussing.)</p>
<p>If you’re a William Cleveland fan, you should be aware that the kind of dot plots I’ll be talking about here are not what he calls dot plots. His dot plots are basically bar charts with dots where the ends of the bars would be. Like this example from <a href="https://search.catalog.loc.gov/instances/490c8913-3741-5e00-964a-f46060729567?option=lccn&amp;query=94075052"><em>The Elements of Graphing Data</em></a>:</p>
<p><img alt="Dot plot from Cleveland" class="ss" src="https://leancrew.com/all-this/images2025/20251002-Dot%20plot%20from%20Cleveland.png" title="Dot plot from Cleveland" width="100%"/></p>
<p>With that introduction out of the way, let’s talk about Wilkinson-style dot plots and <code>NumberLinePlot</code>.</p>
<p>In a nutshell, <code>NumberLinePlot</code> takes a list of numbers and produces a graph in which the numbers are plotted as dots along a horizontal axis—very much like the number lines I learned about in elementary school. I wondered what it would do if some of the numbers were repeated, so I defined this list of 30 integers with a bunch of repeats,</p>
<pre><code>a = {7, 2, 4, 8, 5, 7, 4, 2, 1, 3, 7, 5, 7, 8, 7,
     2, 5, 6, 7, 6, 1, 5, 2, 1, 6, 5, 8, 3, 8, 3}
</code></pre>
<p>and ran <code>NumberLinePlot[a]</code>. Here’s the output:</p>
<p><img alt="Unstyled NumberLinePlot of flat list" class="ss" src="https://leancrew.com/all-this/images2025/20251002-Unstyled%20NumberLinePlot%20of%20flat%20list.png" title="Unstyled NumberLinePlot of flat list" width="80%"/></p>
<p>Unfortunately, it plots the repeated numbers on top of one another so you can’t see how many repeats there are. I looked through the documentation to see if I could pass an option to <code>NumberLinePlot</code> to get it to stack the repeated dots vertically, but no go.</p>
<p>There is, however, a way to get <code>NumberLinePlot</code> to stack dots. You have to pass it a nested list set up with sublists having no repeated elements. For example, if we rewrite our original flat list, <code>a</code>, this way,</p>
<pre><code>b = {{1, 2, 3, 4, 5, 6, 7, 8}, {1, 2, 3, 4, 5, 6, 7, 8},
     {1, 2, 3, 5, 6, 7, 8}, {2, 5, 7, 8}, {5, 7}, {7}}
</code></pre>
<p>and run <code>NumberLinePlot[b]</code>, we get this graph:</p>
<p><img alt="Unstyled NumberLinePlot of nested list" class="ss" src="https://leancrew.com/all-this/images2025/20251002-Unstyled%20NumberLinePlot%20of%20nested%20list.png" title="Unstyled NumberLinePlot of nested list" width="80%"/></p>
<p>As you can see, each sublist is plotted as its own row. That’s why each row has a different color: Mathematica sees this as a combination of six number line plots and gives each its own color by default. But don’t worry about the colors or the size and spacing of the dots; those can all be changed by passing options to <code>NumberLinePlot</code>. What you should worry about is how to turn flat list <code>a</code> into nested list <code>b</code>. Doing it by hand is both tedious and prone to error.</p>
<p>As it happens, someone has already worked that out <em>and</em> combined it with <code>NumberLinePlot</code> to make an external function, <a href="https://resources.wolframcloud.com/FunctionRepository/resources/DotPlot"><code>DotPlot</code></a>, that makes the kind of graph we want. Running <code>ResourceFunction["DotPlot"][a]</code> produces</p>
<p><img alt="DotPlot output without styling" class="ss" src="https://leancrew.com/all-this/images2025/20251002-DotPlot%20output%20without%20styling.png" title="DotPlot output without styling" width="80%"/></p>
<p>Again, we can add options to <code>DotPlot</code> to give it the style Wilkinson suggests. Calling it this way,</p>
<pre><code>ResourceFunction["DotPlot"][a, Ticks -&gt; {Range[8]}, 
   AspectRatio -&gt; .2, PlotRange -&gt; {.5, 8.5},
   PlotStyle -&gt; Directive[Black, PointSize[.028]]]
</code></pre>
<p>gives us</p>
<p><img alt="Dot plot with styling" class="ss" src="https://leancrew.com/all-this/images2025/20251002-Dot%20plot%20with%20styling.png" title="Dot plot with styling" width="80%"/></p>
<p>After setting the aspect ratio to 1:5, I had to fiddle around with the <code>PointSize</code> to get the dots to sit on top of one another. It didn’t take long.</p>
<p>This is great, but I wanted to know what <code>DotPlot</code> was doing behind the scenes. So I downloaded its <a href="https://resources.wolframcloud.com/FunctionRepository/resources/DotPlot">source notebook</a> and poked around. The code wasn’t especially complicated, but there was one very clever piece. Let’s go through the steps.</p>
<p>First, we <a href="http://reference.wolfram.com/language/ref/Sort.html"><code>Sort</code></a> the original flat list and <a href="http://reference.wolfram.com/language/ref/Split.html"><code>Split</code></a> it into a list of lists in which each sublist consists of a single repeated value.</p>
<pre><code>nest = Split[Sort[a]]
</code></pre>
<p>yields</p>
<pre><code>{{1, 1, 1}, {2, 2, 2, 2}, {3, 3, 3}, {4, 4}, {5, 5, 5, 5, 5},
 {6, 6, 6}, {7, 7, 7, 7, 7, 7}, {8, 8, 8, 8}}
</code></pre>
<p>Compare this with the nested list <code>b</code> we used above and you can see that they’re sort of opposites. If we think of these nested lists as matrices, the rows of <code>b</code> are the columns of <code>nest</code>, and vice versa. That suggests a <a href="http://reference.wolfram.com/language/ref/Split.html"><code>Transpose</code></a> of <code>nest</code> would get us to <code>b</code>, but the problem is that neither <code>nest</code> nor <code>b</code> are full matrices. They both have rows of different lengths.</p>
<p>The solution to this is a three-step process:</p>
<ol>
<li>Pad the rows of <code>nest</code> with dummy values so they’re all the same length.</li>
<li>Transpose that padded list of lists.</li>
<li>Delete the dummy values from the transpose.</li>
</ol>
<p>The code for the first step is</p>
<pre><code>maxlen = Max[Map[Length, nest]];
padInnerLists[l_] := PadRight[l, maxlen, "x"]
padded = Map[padInnerLists, nest]
</code></pre>
<p>This sets <code>maxlen</code> to 6 and pads all of <code>nest</code>’s rows out to that length by adding <code>x</code> strings. The result is this value for <code>padded</code>:</p>
<pre><code>{{1, 1, 1, "x", "x", "x"}, {2, 2, 2, 2, "x", "x"},
 {3, 3, 3, "x", "x", "x"}, {4, 4, "x", "x", "x", "x"},
 {5, 5, 5, 5, 5, "x"}, {6, 6, 6, "x", "x", "x"},
 {7, 7, 7, 7, 7, 7}, {8, 8, 8, 8, "x", "x"}}
</code></pre>
<p>I should mention here that <a href="http://reference.wolfram.com/language/ref/Map.html"><code>Map</code></a> works the same way mapping functions work in other languages: it applies function to each element of a list and returns the list of results.</p>
<p>Now we can transpose it with</p>
<pre><code>paddedT = Transpose[padded]
</code></pre>
<p>which yields</p>
<pre><code>{{1, 2, 3, 4, 5, 6, 7, 8}, {1, 2, 3, 4, 5, 6, 7, 8},
 {1, 2, 3, "x", 5, 6, 7, 8}, {"x", 2, "x", "x", 5, "x", 7, 8},
 {"x", "x", "x", "x", 5, "x", 7, "x"},
 {"x", "x", "x", "x", "x", "x", 7, "x"}}
</code></pre>
<p>The last step is to use <a href="http://reference.wolfram.com/language/ref/DeleteCases.html"><code>DeleteCases</code></a> to get rid of the dummy values.</p>
<pre><code>nestT =  DeleteCases[paddedT, "x", All]
</code></pre>
<p>yields</p>
<pre><code>{{1, 2, 3, 4, 5, 6, 7, 8}, {1, 2, 3, 4, 5, 6, 7, 8},
 {1, 2, 3, 5, 6, 7, 8}, {2, 5, 7, 8}, {5, 7}, {7}}
</code></pre>
<p>which is exactly what we want. This is what <code>DotPlot</code> does to prepare the original flat list for passing to <code>NumberLinePlot</code>.<sup id="fnref:dotplot"><a href="#fn:dotplot" rel="footnote">1</a></sup></p>
<p>Now that I know how <code>DotPlot</code> works, I feel comfortable using it.</p>
<p>You may be wondering why I don’t just run</p>
<pre><code>Histogram[a, {1}, Ticks -&gt; {Range[8]}]
</code></pre>
<p>to get a histogram that presents basically the same information.</p>
<p><img alt="Histogram of flat list" class="ss" src="https://leancrew.com/all-this/images2025/20251002-Histogram%20of%20flat%20list.png" title="Histogram of flat list" width="80%"/></p>
<p>First, where’s the fun in that? Second, dot plots appeal to my sense of history. They have a kind of hand-drawn look that reminds me of using tally marks to count items in the days before we all used computers.</p>
<div class="footnotes">
<hr/>
<ol>
<li id="fn:dotplot">
<p><code>DotPlot</code> uses anonymous functions and more compact notation than I’ve used here. But the effect is the same, and I wanted to avoid weird symbols like <code>#</code>, <code>&amp;</code>, and <code>/@</code>. <a href="#fnref:dotplot" rev="footnote">↩</a></p>
</li>
</ol>
</div>
