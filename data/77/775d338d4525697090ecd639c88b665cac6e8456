<h2 id="intro">Intro</h2>
<p>The ssh agent on macOS can add your private key and the passphrase of this to the keychain (&ldquo;Keychain Access.app&rdquo;).</p>
<p>This is nifty because you unlock the access with your normal login into the macOS user. Meaning you can use your key without typing in the passphrase for every session.</p>
<p>Keep in mind that you gain some comfort/convenience at the cost of some security.</p>
<h2 id="how-to">How-To</h2>
<h3 id="tell-ssh-to-use-the-keychain">Tell SSH to use the keychain</h3>
<p>Add the following to the <code>~/.ssh/config</code> file:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cfg" data-lang="cfg"><span class="line"><span class="cl"><span class="na">Host *</span>
</span></span><span class="line"><span class="cl">  <span class="na">UseKeychain yes</span>
</span></span><span class="line"><span class="cl">  <span class="na">AddKeysToAgent yes</span>
</span></span></code></pre></div><p><code>UseKeychain yes</code> is the magic ingredient here.</p>
<h3 id="add-the-key-to-the-keychain">Add the key to the keychain</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">ssh-add -K ~/.ssh/<span class="o">[</span>private-key<span class="o">]</span>
</span></span></code></pre></div><p>You will be asked for your passphrase for the last time ðŸ˜Ž.</p>
<p>The option <code>-K</code> (short for <code>--apple-use-keychain</code>) facilitates the addition to the agent using the keychain.</p>
<p>Et voilÃ !</p>
