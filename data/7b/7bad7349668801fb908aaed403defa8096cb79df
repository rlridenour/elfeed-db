
<div class="post-date">2026 Jan 08</div><p>
I love <code>mu4e</code> for dealing with email under Emacs. It&rsquo;s a great package itself, but of course the killer feature is that it&rsquo;s Emacs, and with a little Emacs Lisp you can make it do email how <i>you</i> want to do email. I mean I know <i>you don&rsquo;t want to do email,</i> but still.
</p>
<div id="outline-container-org471bff6" class="outline-2">
<h2 id="org471bff6">My email workflow</h2>
<div class="outline-text-2" id="text-org471bff6">
<p>
I use Fastmail, which I can recommend overall. I have only a few top-level folders:
</p>

<pre class="example" id="orgc1dff7e">
Inbox
work
personal
Spam
Drafts
Sent
Archived
Trash
</pre>

<p>
I have quite a few filters set up so that everything not to my work email (and a few other criteria) go into <code>personal</code>, and work mailing lists and other low-priority stuff go into <code>work</code>. Meanwhile lots of garbage gets ruthlessly sent straight to <code>Trash</code>. And Fastmail is quite good (both <a href="https://en.wikipedia.org/wiki/Type_I_and_type_II_errors">Type I and Type II</a> good) at detecting <code>Spam</code>. Of course every outgoing message goes to <code>Sent</code>.
</p>

<p>
The <i>one good thing</i> about the years I spent in Gmail was acquiring the habit that emails are either not done (in the GTD sense) until they are put into <code>Archive</code>, or they are filed irreversibly into <code>Archive</code> at which time they are done done done. Every email has a binary state: not yet in <code>Archive</code> and pending action (including a mere reply), or put into <code>Archive</code>. In short, <code>Inbox</code> is enriched for high-priority messages because lower-priority messages go to <code>work</code> and <code>personal</code>. From each of those three, I step through messages and file them <code>Archive</code> after they are done.
</p>

<p>
This workflow, refined over two decades, works very well for me.
</p>

<p>
Finally, I have two virtual folders, <code>mu4e</code> searches that are saved as &rsquo;bookmarks,&rsquo; that I call <code>Unread</code> and <code>Evacuate</code>. The former shows me everything unread in <code>Inbox</code>, <code>personal</code>, and <code>work</code>, for rare times when I prefer to process them all at once. The latter shows me everything in those folders that is already read, but not yet sent to <code>Archive</code>. Pending action, in other words, waiting to be <i>evacuated</i> to <code>Archive</code>.
</p>

<p>
Thus, many times a day I can browse through <code>Unread</code> emails, quickly in <code>mu4e</code> or even on the Fastmail app on my phone, and triage away low-priority messages, immediately deal with urgent messages, and know that the ones I ignore for the time being are waiting for me to <code>Evacuate</code> later.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #595959;">;;; </span><span style="color: #595959;">"Unread" bookmark is everything not yet marked read
</span><span style="color: #595959;">;;; </span><span style="color: #595959;">except messages already filtered directly to Trash
</span><span style="color: #595959;">;;; </span><span style="color: #595959;">or automatically marked as Spam.
</span>(<span style="color: #531ab6;">defcustom</span> <span style="color: #005e8b;">jeh/mu4e-bookmark-unread</span> <span style="color: #3548cf;">"flag:unread AND NOT flag:trashed AND NOT maildir:/Spam"</span>
  <span style="color: #2a5045;">"String for mu4e search of '</span><span style="color: #0000b0;">Unread</span><span style="color: #2a5045;">' messages."</span>)

<span style="color: #595959;">;;; </span><span style="color: #595959;">"Evacuate" bookmark is kinda the converse of unread:
</span><span style="color: #595959;">;;; </span><span style="color: #595959;">message that have been marked as read, but not yet
</span><span style="color: #595959;">;;; </span><span style="color: #595959;">refiled into Archive. Pending action, in other words.
</span>(<span style="color: #531ab6;">defcustom</span> <span style="color: #005e8b;">jeh/mu4e-bookmark-evacuate</span>
      (concat <span style="color: #3548cf;">"flag:seen and "</span>
              <span style="color: #3548cf;">"not ("</span>
                   <span style="color: #3548cf;">" flag:trashed"</span>
                   <span style="color: #3548cf;">" or maildir:/Sent"</span>
                   <span style="color: #3548cf;">" or maildir:/Archive"</span>
                   <span style="color: #3548cf;">" or maildir:/Scheduled"</span>
                   <span style="color: #3548cf;">" or maildir:/Drafts"</span>
                   <span style="color: #3548cf;">" or maildir:/Trash"</span>
                   <span style="color: #3548cf;">" or maildir:/Spam"</span>
              <span style="color: #3548cf;">")"</span>)
      <span style="color: #2a5045;">"String for mu4e search for '</span><span style="color: #0000b0;">Evacuate</span><span style="color: #2a5045;">' or pending
messages, read but not yet refiled in Archive."</span>)

(<span style="color: #531ab6;">setq</span> mu4e-bookmarks
      `((<span style="color: #8f0075;">:name</span> <span style="color: #3548cf;">"Inbox"</span> <span style="color: #8f0075;">:key</span> ?i <span style="color: #8f0075;">:query</span> <span style="color: #3548cf;">"maildir:/Inbox"</span>)
        (<span style="color: #8f0075;">:name</span> <span style="color: #3548cf;">"Work"</span> <span style="color: #8f0075;">:key</span> ?w <span style="color: #8f0075;">:query</span> <span style="color: #3548cf;">"maildir:/work"</span>)
        (<span style="color: #8f0075;">:name</span> <span style="color: #3548cf;">"Personal"</span> <span style="color: #8f0075;">:key</span> ?p <span style="color: #8f0075;">:query</span> <span style="color: #3548cf;">"maildir:/personal"</span>) 
        (<span style="color: #8f0075;">:name</span> <span style="color: #3548cf;">"Drafts"</span> <span style="color: #8f0075;">:key</span> ?d <span style="color: #8f0075;">:query</span> <span style="color: #3548cf;">"maildir:/Drafts"</span>)
        (<span style="color: #8f0075;">:name</span> <span style="color: #3548cf;">"Spam"</span> <span style="color: #8f0075;">:key</span> ?s <span style="color: #8f0075;">:query</span> <span style="color: #3548cf;">"maildir:/Spam"</span>)
        (<span style="color: #8f0075;">:name</span> <span style="color: #3548cf;">"Trash"</span> <span style="color: #8f0075;">:key</span> ?t <span style="color: #8f0075;">:query</span> <span style="color: #3548cf;">"maildir:/Trash"</span>)
        (<span style="color: #8f0075;">:name</span> <span style="color: #3548cf;">"Sent"</span> <span style="color: #8f0075;">:key</span> ?n <span style="color: #8f0075;">:query</span> <span style="color: #3548cf;">"maildir:/Sent"</span>)
        (<span style="color: #8f0075;">:name</span> <span style="color: #3548cf;">"Archive"</span> <span style="color: #8f0075;">:key</span> ?a <span style="color: #8f0075;">:query</span> <span style="color: #3548cf;">"maildir:/Archive"</span>)
        (<span style="color: #8f0075;">:name</span> <span style="color: #3548cf;">"Evacuate"</span> <span style="color: #8f0075;">:key</span> ?e <span style="color: #8f0075;">:query</span> ,jeh/mu4e-bookmark-evacuate)
        (<span style="color: #8f0075;">:name</span> <span style="color: #3548cf;">"Unread"</span> <span style="color: #8f0075;">:key</span> ?u <span style="color: #8f0075;">:query</span> ,jeh/mu4e-bookmark-unread)))
</pre>
</div>

<p>
I&rsquo;ve had this working nicely in <code>mu4e</code> for a couple years.
</p>
</div>
</div>
<div id="outline-container-org93161fc" class="outline-2">
<h2 id="org93161fc">Custom sorting depending on &ldquo;folder&rdquo; (or search)</h2>
<div class="outline-text-2" id="text-org93161fc">
<p>
But something annoyed me!
</p>

<p>
<code>Archive</code> and <code>Sent</code> have tens of thousands of messages, while all the other folders usually have less than a dozen. (Honest to god, this system keeps me at a calming steady state of <a href="https://en.wikipedia.org/wiki/Merlin_Mann">Inbox Zero</a> with a resolution of 24&#x2013;48 hours, which my Special Brain <i>relies heavily on</i> for  mental health.)
</p>

<p>
My preference in the <code>mu4e</code> &ldquo;headers&rdquo; buffer is
</p>

<ul class="org-ul">
<li>to see <b>newest messages first</b> in <code>Archive</code>, <code>Sent</code>, and in arbitrary searches (which can have hundreds or thousands of hits), in order to <i>prioritize recency and relevance</i>, but</li>

<li>to see <b>oldest messages first</b> in <code>Inbox</code>, <code>personal</code>, and <code>work</code>, in order to <i>prioritize pending tasks by age</i>.</li>
</ul>

<p>
Toggling sorting manually was so intolerably <i>not automated by Emacs</i>!
</p>

<p>
So I just wrote a couple of lines of Emacs Lisp. The key symbols to know are <code>mu4e-search-change-sorting</code> and <code>mu4e-search-bookmark-hook</code>.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #595959;">;;; </span><span style="color: #595959;">Inbox-type folders should be sorted 'ascending
</span>(<span style="color: #531ab6;">defcustom</span> <span style="color: #005e8b;">jeh/mu4e-reverse-sort-bookmarks</span> `(
                                             <span style="color: #3548cf;">"maildir:/Inbox"</span>
                                             <span style="color: #3548cf;">"maildir:/work"</span>
                                             <span style="color: #3548cf;">"maildir:/personal"</span>
                                             <span style="color: #3548cf;">"maildir:/Drafts"</span>
                                             <span style="color: #3548cf;">"maildir:/Spam"</span>
                                             <span style="color: #3548cf;">"maildir:/Trash"</span>
                                             ,jeh/mu4e-bookmark-evacuate
                                             ,jeh/mu4e-bookmark-unread
                                             )
  <span style="color: #2a5045;">"Sort these searches `</span><span style="color: #0000b0;">ascending</span><span style="color: #2a5045;">', by OLDEST at top."</span>)

(<span style="color: #531ab6;">defun</span> <span style="color: #721045;">jeh/mu4e-set-sort-order-by-bookmark</span> (search)
  <span style="color: #2a5045;">"Set sort for searches to descending by date, unless the
search was a member of jeh/mu4e-reverse-sort-bookmarks
in which case sort ascending by date."</span>
  (<span style="color: #531ab6;">if</span> (member search jeh/mu4e-reverse-sort-bookmarks)
      (mu4e-search-change-sorting <span style="color: #8f0075;">:date</span> 'ascending)
    (mu4e-search-change-sorting <span style="color: #8f0075;">:date</span> 'decending)
    ))

(add-hook 'mu4e-search-bookmark-hook #'jeh/mu4e-set-sort-order-by-bookmark)
</pre>
</div>

<p>
Ahhhhhhh. <i>That feels better.</i>
</p>
</div>
</div>
<div class="taglist"><a href="https://jamesendreshowell.com/tags.html">tags</a>: <a href="https://jamesendreshowell.com/tag-emacs.html">emacs</a> <a href="https://jamesendreshowell.com/tag-org-mode.html">org-mode</a> </div>