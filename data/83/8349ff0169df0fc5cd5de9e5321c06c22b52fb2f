<p>These days, my LLM interactions primarily take place via <a href="https://github.com/xenodium/chatgpt-shell">chatgpt-shell</a>'s compose UX. I've grown fond of this hybrid style of interaction. On sharing the <a href="https://bsky.app/profile/xenodium.bsky.social/post/3lco3ggkk4c2r">latest incarnation</a>, <a href="https://bsky.app/profile/jllw.bsky.social">jllw</a> asked about the possibility to <a href="https://bsky.app/profile/jllw.bsky.social/post/3lcpb6ygkws2v">port to comint shells</a>.</p>
<p>With <a href="https://bsky.app/profile/jllw.bsky.social">jllw</a>'s great idea in mind, I set out to prototype an <a href="https://www.gnu.org/software/emacs/manual/html_mono/eshell.html">eshell</a> pager, my preferred shell.</p>
<p>The initial results ain't too shabby:</p>
<p><img src="https://xenodium.github.io/images/an-experimental-e-shell-pager/shell-pager.gif" alt=""></p>
<p>While you can easily flip through all <code>eshell</code> commands and outputs (via single-character n/p bindings), you can also compose and fire off new commands using a magit-style approach. That is, craft your desired command and C-c C-c to send it off.</p>
<p>The prototype is currently focused on <code>eshell</code>, but it can be easily ported to <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Shell-Mode.html">comint</a> and other shells by writing new <code>shell-maker</code> configs:</p>
<pre><code class="language-{.commonlisp">(shell-pager--make-config
 :shell-buffer buffer
 :page-buffer (shell-pager--buffer)
 :next #'shell-pager--eshell-next
 :previous #'shell-pager--eshell-previous
 :current #'shell-pager--eshell-current-item
 :subscribe #'shell-pager--eshell-subscribe
 :unsubscribe #'shell-pager--eshell-unsubscribe
 :submit #'shell-pager--eshell-submit
 :interrupt #'shell-pager--eshell-interrupt)
</code></pre>
<p><code>shell-pager</code>'s super <a href="https://github.com/xenodium/shell-pager">rough/experimental code is now on GitHub</a>.</p>
<p>It's been a fun experiment so far. Time will tell, whether or not <code>shell-pager</code> can replace most of my <code>eshell</code> interactions. The good news is that this isn't an all or nothing sorta thing. <code>shell-pager</code> complements <code>eshell</code>, so I can always jump back to eshell itself and continue with the very same shell history.</p>
