
<p>A team of researchers has uncovered a scheme they’ve dubbed “Local Mess” — used by Meta since September 2024, and Russian search engine Yandex since 2017 (!) — to de-anonymize Android users’ web browsing across millions of websites that include Meta’s and Yandex’s respective tracking scripts. From their extensively detailed report:</p>

<blockquote>
  <p>These native Android apps receive browsers’ metadata, cookies and
commands from the Meta Pixel and Yandex Metrica scripts embedded
on thousands of web sites. These JavaScripts load on users’ mobile
browsers and silently connect with native apps running on the same
device through localhost sockets. As native apps access
programmatically device identifiers like the <a href="https://support.google.com/googleplay/android-developer/answer/6048248">Android Advertising
ID (AAID)</a> or handle user identities as in the case of Meta
apps, this method effectively allows these organizations to <em>link
mobile browsing sessions and web cookies to user identities</em>,
hence de-anonymizing users’ visiting sites embedding their
scripts.</p>

<p>This web-to-app ID sharing method bypasses typical privacy
protections such as clearing cookies, Incognito Mode and Android’s
permission controls. Worse, it opens the door for potentially
malicious apps eavesdropping on users’ web activity. [...]</p>

<p>The entire flow of the _fbp cookie from web to native and the
server is as follows:</p>

<ol>
<li>The user opens the native Facebook or Instagram app, which
eventually is sent to the background and creates a background
service to listen for incoming traffic on a TCP port (12387 or
12388) and a UDP port (the first unoccupied port in
12580-12585). Users must be logged-in with their credentials on
the apps.</li>
<li>The user opens their browser and visits a website integrating
the Meta Pixel.</li>
<li>At this stage, websites may ask for consent depending on the
website’s and visitor’s locations.</li>
<li>The Meta Pixel script sends the <a href="https://localmess.github.io/#about_fbp">_fbp cookie</a> to the
native Instagram or Facebook app via WebRTC (STUN) SDP Munging.</li>
<li>The Meta Pixel script also sends the _fbp value in a request to
https://www.facebook.com/tr along with other parameters such as
page URL (dl), website and browser metadata, and the <a href="https://web.archive.org/web/20250531104925/https://developers.facebook.com/docs/meta-pixel/reference/">event
type</a> (ev) (e.g., PageView, AddToCart, Donate, Purchase).</li>
<li>The Facebook or Instagram apps receive the _fbp cookie from the
Meta Pixel JavaScript running on the browser. The apps transmit
_fbp as a GraphQL mutation to
(https://graph[.]facebook[.]com/graphql) along with other
persistent user identifiers, linking users’ fbp ID (web visit)
with their Facebook or Instagram account.</li>
</ol>
</blockquote>

<p>The same day the researchers published this report, Meta stopped doing it.</p>

<p><a href="https://duckduckgo.com/?q=site%3Adaringfireball.net+facebook+criminal+enterprise&amp;ia=web">I’ve said it before</a> but not in a while: Meta is a criminal enterprise. What they’ve done here may not have broken any laws, but there certainly should be laws against it. And in terms of simple common sense, the entire elaborate scheme <em>only</em> exists to circumvent features in Android meant to <em>prevent</em> native apps from tracking you while you use your web browser. Saying it’s not illegal doesn’t mean it isn’t theft. It’s like the privacy equivalent of <a href="https://www.theguardian.com/us-news/2025/may/29/jamie-raskin-democrat-trump-crypto-investigation">Trump’s cryptocurrency grift</a>, which might not violate any current laws, but clearly exists as a bribery scheme.</p>

<div>
<a  title="Permanent link to ‘Meta and Yandex Have Both Been De-Anonymizing Android Users’ Ostensibly Sandboxed Private Web Browsing Identifiers’"  href="https://daringfireball.net/linked/2025/06/04/meta-yandex-android-deanonymizing-web-ids">&nbsp;★&nbsp;</a>
</div>

	