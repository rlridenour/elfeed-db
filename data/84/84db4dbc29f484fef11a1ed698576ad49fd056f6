<p>I have just been been going through the new features added to emacs 29.1 and have been trying out the transparency or <code>alpha-background</code> on <code>sway</code>.</p>
<blockquote>
<p>&ldquo;<code>alpha-background</code> controls the opacity of the text background when running on a
composited display.&rdquo;.</p>
</blockquote>
<p>I was keenly looking for an emacs improvement to the <code>swaywm</code> built in compositing method which in the case of emacs would make transparent the whole window including text which of course isn&rsquo;t ideal.</p>
<p>I had defined the following in my <code>sway</code> config file:</p>
<pre tabindex="0"><code class="language-nil" data-lang="nil">for_window [class=&#34;Emacs&#34;] opacity 0.92
</code></pre><p><code>0.92</code> seemed to be the perfect balance between wallpaper visibility and text legibility.</p>
<p>I am now going to compare the emacs <code>alpha-background</code> method with an equivalent <code>sway</code> emacs compositing opacity.</p>
<p>So for emacs I am going to set something like:</p>
<pre tabindex="0"><code class="language-nil" data-lang="nil">(set-frame-parameter nil &#39;alpha-background 70)
(add-to-list &#39;default-frame-alist &#39;(alpha-background . 70))
</code></pre><p>See the following images for a comparison (can you guess which is which?) - I would suggest opening each image in separate browser tabs and comparing that way.</p>
<p>Note/Disclaimer: I chose opacity values that displayed an equivalent wallpaper visibility through emacs and as it turned out the opacity values were different which I suspect relates to the way the <code>sway</code> compositor is processing its opacity value rather than the way emacs does it but the demonstration fundamentally should still be a valid one.</p>
<figure><img src="https://emacs.dyerdwelling.family/ox-hugo/20230812141900-emacs--Emacs-29-1-Transparency-Alpha-On-Sway-Old.jpg" width="100%">
</figure>

<figure><img src="https://emacs.dyerdwelling.family/ox-hugo/20230812141900-emacs--Emacs-29-1-Transparency-Alpha-On-Sway.jpg" width="100%">
</figure>

<p>and here is a more detailed comparison on a selected screen region:</p>
<figure><img src="https://emacs.dyerdwelling.family/ox-hugo/20230812141900-emacs--Emacs-29-1-Transparency-Alpha-On-Sway-Old-s.jpg" width="100%">
</figure>

<figure><img src="https://emacs.dyerdwelling.family/ox-hugo/20230812141900-emacs--Emacs-29-1-Transparency-Alpha-On-Sway-s.jpg" width="100%">
</figure>

<p>Suffice it to say that this is a very nice improvement and certainly something I shall be using from now on.</p>