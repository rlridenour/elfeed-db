<h2 id="the-story">The story</h2>
<p>Sometimes I hover over a file path in my terminal emulator (in Emacs of course) and type<br>
<code>M-x find-file-at-point</code>.
It&rsquo;s nice command and it works reliably.</p>
<p>I don&rsquo;t want to type it though. I want Emacs to detect a file path at point.</p>
<p>And there is a <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/FFAP.html">built in package</a> for this.
Just add this line to your <code>init.el</code> and it should work.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lisp" data-lang="lisp"><span style="display:flex;"><span>(ffap-bindings)
</span></span></code></pre></div><p>This makes <strong>C-x C-f</strong> keybinding to automatically detect a file path at point. Cool!</p>
<h2 id="the-twist">The twist</h2>
<p>Unfortunately it was so much worse than what I&rsquo;ve expected.</p>
<p>It does detect file path at point so reliably and so often (there are lots of file paths in my terminal output usually)<br>
that almost 80% of time when I press <strong>C-x C-f</strong> my minibuffer is already pre-filled with the path my cursor happened to be on,
which I didn&rsquo;t need. I wanted it to be clean so I could type a file path there by myself.</p>
<p>I noticed that using ffap package adds a bit of cognitive overload for my workflow. I have to always think about where my cursor is before I press <strong>C-x C-f</strong>.</p>
<p>I decicded to write my own function that should check for <code>current-prefix-arg</code> and call <code>find-file</code> or <code>find-file-at-point</code> accordingly
but just before that I decided to read some docs.</p>
<h2 id="rtfm">RTFM</h2>
<p>Something that I don&rsquo;t think I&rsquo;ve ever done is <strong>C-h f find-file</strong>.</p>
<p>I learned this keybinding early on in my Emacs journey and never needed to read a documentation for it.</p>
<p>But if I read it, it says something about <strong>M-n</strong> keybinding that uses functions defined in <code>file-name-at-point-functions</code> variable.
One of them, by default, is <code>ffap-guess-file-name-at-point</code>.</p>
<p>So having my cursor at a file path, I can type <strong>C-x C-f</strong> get my regular <code>find-file</code> behavior and then I can just press <strong>M-n</strong> and the minibuffer will be pre-filled with the file path at point.<br>
<small><em>^here is how small this blog post could be lol</em></small></p>
<p>Perfection.</p>