<p>
Like most people, I use <code>setq</code> to set user options in my Emacs configuration. It&rsquo;s the canonical way of setting a variable in just about any Lisp. But, as <a href="https://emacsredux.com/blog/2025/04/06/goodbye-setq-hello-setopt/">Bozhidar Batsov says</a>, it&rsquo;s not always the best way of setting a configuration variable in Emacs. He suggests using <code>setopt</code> instead.
</p>
<p>
It&rsquo;s more than just a convention. The <code>setopt</code> macro does a bit more than <code>setq</code>. In particular, it can arrange to call a setter function when you set a configuration variable. This can be useful for checking the prospective value or for performing some system adjustment when a parameter changes.
</p>
<p>
I&rsquo;ve known about this for a while but my problem has always been when you need to use <code>setopt</code> instead of <code>setq</code>. Batsov&rsquo;s recommendation is to use <code>setopt</code> unless the variable is not defined in terms of <code>defcustom</code>. That&rsquo;s all very well but how do you know which variables are which? The online documentation isn&rsquo;t much help so the best policy is probably to assume that any variable in your configuration <i>should</i> be set with <code>setopt</code> unless you have reason to believe otherwise.
</p>
<p>
Batsov says that <code>setopt</code> will work with regular (non-defcustom variables) as well but that it won&rsquo;t be as efficient as <code>setq</code>. Really, who cares? The <code>setopt</code> macro will almost certainly not be in a loop so any inefficiency won&rsquo;t matter much. Plus, as I always say, if you&rsquo;re using Emacs correctly, you won&rsquo;t be restarting it very often in any event.
</p>
<p>
Take a look at Batsov&rsquo;s post to get an idea of the difference between <code>setq</code> and <code>setopt</code>. It probably won&rsquo;t help you decide which to use but at least you&rsquo;ll know what each does.
</p>
<p>
<b>Update</b> <span class="timestamp-wrapper"><span class="timestamp">[2025-04-07 Mon 13:42]</span></span>: In the Emacs subreddit, <a href="https://www.reddit.com/r/emacs/comments/1jtebpt/comment/mluqvq4/">Batsov notes</a> that an easy way to discover which variables are customizable is to check the documentation with <code>describe-variable</code>. Variables that are customizable will have the notation &ldquo;You can customize this variable.&rdquo;</p>
