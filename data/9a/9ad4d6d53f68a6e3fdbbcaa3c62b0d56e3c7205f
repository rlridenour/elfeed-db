
	
<p>
Project Euler 17 asks to count the letters in numbers written as words. This is a skill we all learnt in primary school mainly useful when writing cheques—to those that still use them. The principle for this problem is similar to <a href="https://lucidmanager.org/data-science/project-euler-22/">Project Euler 22</a>, which analyses given names.</p>
<p>
Each language has its own rules for writing numbers. My native language Dutch has very different logic to English. Both Dutch and English use compound words after the number twelve.</p>
<p>
Linguists have theorised this is evidence that early Germanic numbers were duodecimal. The importance of a “dozen” as a counting word and the twelve hours in the clock support this idea. There is even a Dozenal Society that promotes the use of a number system based on 12.</p>
<p>
The English language changes the rules when reaching the number 21. While we say eight-teen in English, we do no say “one-twenty”. Dutch stays consistent and the last number is always spoken first. For example, 37 in English is “thirty-seven”, while in Dutch it is written as “zevenendertig” (seven and thirty).</p>
<div id="outline-container-headline-1" class="outline-2">
<h2 id="headline-1">
Project Euler 17 Definition
</h2>
<div id="outline-text-headline-1" class="outline-text-2">
<p>If the numbers 1 to 5 are written out in words: one, two, three, four, five, then there are 3 + 3 + 5 + 4 + 4 = 19 letters used in total. If all the numbers from 1 to 1000 (one thousand) inclusive were written out in words, <a href="https://projecteuler.net/problem=17">how many letters would be used</a>?</p>
<p>
Do not count spaces or hyphens. For example, 342 (three hundred and forty-two) contains 23 letters, and 115 (one hundred and fifteen) contains 20 letters. The use of “and” when writing out numbers is in compliance with British usage.</p>
</div>
</div>
<div id="outline-container-headline-2" class="outline-2">
<h2 id="headline-2">
Solution
</h2>
<div id="outline-text-headline-2" class="outline-text-2">
<p>The first piece of code provides a function that generates the words for numbers 1 to 999,999. This is more than the problem asks for, but it might be a useful function for another application. The last line concatenates all words and removes the spaces to count the number of letters.</p>
<p>
<a href = "https://github.com/pprevos/ProjectEuler/" target="_blank"
   title="Download ProjectEuler from GitHub"
   alt="Download ProjectEuler from GitHub">
  <button class="button is-medium is-primary">
    <span class="icon is-large">
      <i class="fab fa-github"></i>
    </span>
    <span style="font-family: monospace">ProjectEuler</span>
  </button>
</a>

</p>
<div class="src src-r">
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>  <span style="color:#888">## Project Euler 17: Number Letter Counts</span>
</span></span><span style="display:flex;"><span>  numword.en <span style="color:#333">&lt;-</span> <span style="color:#080;font-weight:bold">function</span>(x) {
</span></span><span style="display:flex;"><span>      <span style="color:#080;font-weight:bold">if</span> (x <span style="color:#333">&gt;</span> <span style="color:#60e;font-weight:bold">999999</span>) <span style="color:#080;font-weight:bold">return</span>(<span style="background-color:#fff0f0">&#34;Error: Oustide my vocabulary&#34;</span>)
</span></span><span style="display:flex;"><span>      <span style="color:#888"># Vocabulary </span>
</span></span><span style="display:flex;"><span>      single <span style="color:#333">&lt;-</span> <span style="color:#06b;font-weight:bold">c</span>(<span style="background-color:#fff0f0">&#34;one&#34;</span>, <span style="background-color:#fff0f0">&#34;two&#34;</span>, <span style="background-color:#fff0f0">&#34;three&#34;</span>, <span style="background-color:#fff0f0">&#34;four&#34;</span>, <span style="background-color:#fff0f0">&#34;five&#34;</span>, <span style="background-color:#fff0f0">&#34;six&#34;</span>, <span style="background-color:#fff0f0">&#34;seven&#34;</span>, <span style="background-color:#fff0f0">&#34;eight&#34;</span>, <span style="background-color:#fff0f0">&#34;nine&#34;</span>)
</span></span><span style="display:flex;"><span>      teens <span style="color:#333">&lt;-</span> <span style="color:#06b;font-weight:bold">c</span>( <span style="background-color:#fff0f0">&#34;ten&#34;</span>, <span style="background-color:#fff0f0">&#34;eleven&#34;</span>, <span style="background-color:#fff0f0">&#34;twelve&#34;</span>, <span style="background-color:#fff0f0">&#34;thirteen&#34;</span>, <span style="background-color:#fff0f0">&#34;fourteen&#34;</span>, <span style="background-color:#fff0f0">&#34;fifteen&#34;</span>, <span style="background-color:#fff0f0">&#34;sixteen&#34;</span>, <span style="background-color:#fff0f0">&#34;seventeen&#34;</span>, <span style="background-color:#fff0f0">&#34;eighteen&#34;</span>, <span style="background-color:#fff0f0">&#34;nineteen&#34;</span>)
</span></span><span style="display:flex;"><span>      tens <span style="color:#333">&lt;-</span> <span style="color:#06b;font-weight:bold">c</span>(<span style="background-color:#fff0f0">&#34;ten&#34;</span>, <span style="background-color:#fff0f0">&#34;twenty&#34;</span>, <span style="background-color:#fff0f0">&#34;thirty&#34;</span>, <span style="background-color:#fff0f0">&#34;forty&#34;</span>, <span style="background-color:#fff0f0">&#34;fifty&#34;</span>, <span style="background-color:#fff0f0">&#34;sixty&#34;</span>, <span style="background-color:#fff0f0">&#34;seventy&#34;</span>, <span style="background-color:#fff0f0">&#34;eighty&#34;</span>, <span style="background-color:#fff0f0">&#34;ninety&#34;</span>)
</span></span><span style="display:flex;"><span>      numword.10 <span style="color:#333">&lt;-</span> <span style="color:#080;font-weight:bold">function</span> (y) {
</span></span><span style="display:flex;"><span>          a <span style="color:#333">&lt;-</span> y <span style="color:#333">%%</span> <span style="color:#60e;font-weight:bold">100</span>
</span></span><span style="display:flex;"><span>          <span style="color:#080;font-weight:bold">if</span> (a <span style="color:#333">!=</span> <span style="color:#60e;font-weight:bold">0</span>) {
</span></span><span style="display:flex;"><span>              and <span style="color:#333">&lt;-</span> <span style="color:#06b;font-weight:bold">ifelse</span>(y <span style="color:#333">&gt;</span> <span style="color:#60e;font-weight:bold">100</span>, <span style="background-color:#fff0f0">&#34;and&#34;</span>, <span style="background-color:#fff0f0">&#34;&#34;</span>)
</span></span><span style="display:flex;"><span>              <span style="color:#080;font-weight:bold">if</span> (a <span style="color:#333">&lt;</span> <span style="color:#60e;font-weight:bold">20</span>)
</span></span><span style="display:flex;"><span>                  <span style="color:#080;font-weight:bold">return</span> (<span style="color:#06b;font-weight:bold">c</span>(and, <span style="color:#06b;font-weight:bold">c</span>(single, teens)[a]))
</span></span><span style="display:flex;"><span>              <span style="color:#080;font-weight:bold">else</span>
</span></span><span style="display:flex;"><span>                  <span style="color:#080;font-weight:bold">return</span> (<span style="color:#06b;font-weight:bold">c</span>(and, tens<span style="color:#06b;font-weight:bold">[floor</span>(a <span style="color:#333">/</span> <span style="color:#60e;font-weight:bold">10</span>)], single[a <span style="color:#333">%%</span> <span style="color:#60e;font-weight:bold">10</span>]))
</span></span><span style="display:flex;"><span>          }
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>      numword.100 <span style="color:#333">&lt;-</span> <span style="color:#080;font-weight:bold">function</span> (y) {
</span></span><span style="display:flex;"><span>          a <span style="color:#333">&lt;-</span> (<span style="color:#06b;font-weight:bold">floor</span>(y <span style="color:#333">/</span> <span style="color:#60e;font-weight:bold">100</span>) <span style="color:#333">%%</span> <span style="color:#60e;font-weight:bold">100</span>) <span style="color:#333">%%</span> <span style="color:#60e;font-weight:bold">10</span>
</span></span><span style="display:flex;"><span>          <span style="color:#080;font-weight:bold">if</span> (a <span style="color:#333">!=</span> <span style="color:#60e;font-weight:bold">0</span>)
</span></span><span style="display:flex;"><span>              <span style="color:#080;font-weight:bold">return</span> (<span style="color:#06b;font-weight:bold">c</span>(single[a], <span style="background-color:#fff0f0">&#34;hundred&#34;</span>))
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>      numword.1000 <span style="color:#333">&lt;-</span> <span style="color:#080;font-weight:bold">function</span>(y) {
</span></span><span style="display:flex;"><span>          a <span style="color:#333">&lt;-</span> (<span style="color:#60e;font-weight:bold">1000</span> <span style="color:#333">*</span> <span style="color:#06b;font-weight:bold">floor</span>(y <span style="color:#333">/</span> <span style="color:#60e;font-weight:bold">1000</span>)) <span style="color:#333">/</span> <span style="color:#60e;font-weight:bold">1000</span>
</span></span><span style="display:flex;"><span>          <span style="color:#080;font-weight:bold">if</span> (a <span style="color:#333">!=</span> <span style="color:#60e;font-weight:bold">0</span>)
</span></span><span style="display:flex;"><span>              <span style="color:#080;font-weight:bold">return</span> (<span style="color:#06b;font-weight:bold">c</span>(<span style="color:#06b;font-weight:bold">numword.100</span>(a), <span style="color:#06b;font-weight:bold">numword.10</span>(a), <span style="background-color:#fff0f0">&#34;thousand&#34;</span>))
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>      numword <span style="color:#333">&lt;-</span> <span style="color:#06b;font-weight:bold">paste</span>(<span style="color:#06b;font-weight:bold">c</span>(<span style="color:#06b;font-weight:bold">numword.1000</span>(x), <span style="color:#06b;font-weight:bold">numword.100</span>(x), <span style="color:#06b;font-weight:bold">numword.10</span>(x)), collapse<span style="color:#333">=</span><span style="background-color:#fff0f0">&#34; &#34;</span>)
</span></span><span style="display:flex;"><span>      <span style="color:#080;font-weight:bold">return</span> (<span style="color:#06b;font-weight:bold">trimws</span>(numword))
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  answer <span style="color:#333">&lt;-</span> <span style="color:#06b;font-weight:bold">nchar</span>(<span style="color:#06b;font-weight:bold">gsub</span>(<span style="background-color:#fff0f0">&#34; &#34;</span>, <span style="background-color:#fff0f0">&#34;&#34;</span>, <span style="color:#06b;font-weight:bold">paste0</span>(<span style="color:#06b;font-weight:bold">sapply</span>(<span style="color:#60e;font-weight:bold">1</span><span style="color:#333">:</span><span style="color:#60e;font-weight:bold">1000</span>, numword.en), collapse<span style="color:#333">=</span><span style="background-color:#fff0f0">&#34;&#34;</span>)))
</span></span><span style="display:flex;"><span>  <span style="color:#06b;font-weight:bold">print</span>(answer)</span></span></code></pre></div>
</div>
<div id="outline-container-headline-3" class="outline-3">
<h3 id="headline-3">
Writing Numbers in Dutch
</h3>
<div id="outline-text-headline-3" class="outline-text-3">
<p>I went beyond Euler Problem 17 by translating the code to spell numbers in Dutch. Interesting bit of trivia is that it takes 307 fewer characters to spell the numbers 1 to 1000 in Dutch than it does in English. It would be good if other people can submit functions for other languages in the comment section. Perhaps we can create an R package with a multi-lingual function for spelling numbers.</p>
<div class="src src-r">
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>  <span style="color:#888">## Nederlandse nummers</span>
</span></span><span style="display:flex;"><span>  numword.nl <span style="color:#333">&lt;-</span> <span style="color:#080;font-weight:bold">function</span>(x) {
</span></span><span style="display:flex;"><span>      <span style="color:#080;font-weight:bold">if</span> (x <span style="color:#333">&gt;</span> <span style="color:#60e;font-weight:bold">999999</span>) <span style="color:#080;font-weight:bold">return</span>(<span style="background-color:#fff0f0">&#34;Error: Getal te hoog.&#34;</span>)
</span></span><span style="display:flex;"><span>      single <span style="color:#333">&lt;-</span> <span style="color:#06b;font-weight:bold">c</span>(<span style="background-color:#fff0f0">&#34;een&#34;</span>, <span style="background-color:#fff0f0">&#34;twee&#34;</span>, <span style="background-color:#fff0f0">&#34;drie&#34;</span>, <span style="background-color:#fff0f0">&#34;vier&#34;</span>, <span style="background-color:#fff0f0">&#34;vijf&#34;</span>, <span style="background-color:#fff0f0">&#34;zes&#34;</span>, <span style="background-color:#fff0f0">&#34;zeven&#34;</span>, <span style="background-color:#fff0f0">&#34;acht&#34;</span>, <span style="background-color:#fff0f0">&#34;negen&#34;</span>)
</span></span><span style="display:flex;"><span>      teens <span style="color:#333">&lt;-</span> <span style="color:#06b;font-weight:bold">c</span>( <span style="background-color:#fff0f0">&#34;tien&#34;</span>, <span style="background-color:#fff0f0">&#34;elf&#34;</span>, <span style="background-color:#fff0f0">&#34;twaalf&#34;</span>, <span style="background-color:#fff0f0">&#34;dertien&#34;</span>, <span style="background-color:#fff0f0">&#34;veertien&#34;</span>, <span style="background-color:#fff0f0">&#34;vijftien&#34;</span>, <span style="background-color:#fff0f0">&#34;zestien&#34;</span>, <span style="background-color:#fff0f0">&#34;zeventien&#34;</span>, <span style="background-color:#fff0f0">&#34;achtien&#34;</span>, <span style="background-color:#fff0f0">&#34;negentien&#34;</span>)
</span></span><span style="display:flex;"><span>      tens <span style="color:#333">&lt;-</span> <span style="color:#06b;font-weight:bold">c</span>(<span style="background-color:#fff0f0">&#34;tien&#34;</span>, <span style="background-color:#fff0f0">&#34;twintig&#34;</span>, <span style="background-color:#fff0f0">&#34;dertig&#34;</span>, <span style="background-color:#fff0f0">&#34;veertig&#34;</span>, <span style="background-color:#fff0f0">&#34;vijftig&#34;</span>, <span style="background-color:#fff0f0">&#34;zestig&#34;</span>, <span style="background-color:#fff0f0">&#34;zeventig&#34;</span>, <span style="background-color:#fff0f0">&#34;tachtig&#34;</span>, <span style="background-color:#fff0f0">&#34;negengtig&#34;</span>)
</span></span><span style="display:flex;"><span>      numword.10 <span style="color:#333">&lt;-</span> <span style="color:#080;font-weight:bold">function</span>(y) {
</span></span><span style="display:flex;"><span>          a <span style="color:#333">&lt;-</span> y <span style="color:#333">%%</span> <span style="color:#60e;font-weight:bold">100</span>
</span></span><span style="display:flex;"><span>          <span style="color:#080;font-weight:bold">if</span> (a <span style="color:#333">!=</span> <span style="color:#60e;font-weight:bold">0</span>) {
</span></span><span style="display:flex;"><span>              <span style="color:#080;font-weight:bold">if</span> (a <span style="color:#333">&lt;</span> <span style="color:#60e;font-weight:bold">20</span>)
</span></span><span style="display:flex;"><span>                  <span style="color:#080;font-weight:bold">return</span> (<span style="color:#06b;font-weight:bold">c</span>(single, teens)[a])
</span></span><span style="display:flex;"><span>              <span style="color:#080;font-weight:bold">else</span>
</span></span><span style="display:flex;"><span>                  <span style="color:#080;font-weight:bold">return</span> (<span style="color:#06b;font-weight:bold">c</span>(single[a <span style="color:#333">%%</span> <span style="color:#60e;font-weight:bold">10</span>], <span style="background-color:#fff0f0">&#34;en&#34;</span>, tens<span style="color:#06b;font-weight:bold">[floor</span>(a <span style="color:#333">/</span> <span style="color:#60e;font-weight:bold">10</span>)]))
</span></span><span style="display:flex;"><span>          }
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>      numword.100 <span style="color:#333">&lt;-</span> <span style="color:#080;font-weight:bold">function</span>(y) {
</span></span><span style="display:flex;"><span>          a <span style="color:#333">&lt;-</span> (<span style="color:#06b;font-weight:bold">floor</span>(y <span style="color:#333">/</span> <span style="color:#60e;font-weight:bold">100</span>) <span style="color:#333">%%</span> <span style="color:#60e;font-weight:bold">100</span>) <span style="color:#333">%%</span> <span style="color:#60e;font-weight:bold">10</span>
</span></span><span style="display:flex;"><span>          <span style="color:#080;font-weight:bold">if</span> (a <span style="color:#333">==</span> <span style="color:#60e;font-weight:bold">1</span>)
</span></span><span style="display:flex;"><span>              <span style="color:#080;font-weight:bold">return</span> (<span style="background-color:#fff0f0">&#34;honderd&#34;</span>)
</span></span><span style="display:flex;"><span>          <span style="color:#080;font-weight:bold">if</span> (a <span style="color:#333">&gt;</span> <span style="color:#60e;font-weight:bold">1</span>) 
</span></span><span style="display:flex;"><span>              <span style="color:#080;font-weight:bold">return</span> (<span style="color:#06b;font-weight:bold">c</span>(single[a], <span style="background-color:#fff0f0">&#34;honderd&#34;</span>))
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>      numword.1000 <span style="color:#333">&lt;-</span> <span style="color:#080;font-weight:bold">function</span>(y) {
</span></span><span style="display:flex;"><span>          a <span style="color:#333">&lt;-</span> (<span style="color:#60e;font-weight:bold">1000</span> <span style="color:#333">*</span> <span style="color:#06b;font-weight:bold">floor</span>(y <span style="color:#333">/</span> <span style="color:#60e;font-weight:bold">1000</span>)) <span style="color:#333">/</span> <span style="color:#60e;font-weight:bold">1000</span>
</span></span><span style="display:flex;"><span>          <span style="color:#080;font-weight:bold">if</span> (a <span style="color:#333">==</span> <span style="color:#60e;font-weight:bold">1</span>)
</span></span><span style="display:flex;"><span>              <span style="color:#080;font-weight:bold">return</span> (<span style="background-color:#fff0f0">&#34;duizend &#34;</span>)
</span></span><span style="display:flex;"><span>          <span style="color:#080;font-weight:bold">if</span> (a <span style="color:#333">&gt;</span> <span style="color:#60e;font-weight:bold">0</span>)
</span></span><span style="display:flex;"><span>              <span style="color:#080;font-weight:bold">return</span> (<span style="color:#06b;font-weight:bold">c</span>(<span style="color:#06b;font-weight:bold">numword.100</span>(a), <span style="color:#06b;font-weight:bold">numword.10</span>(a), <span style="background-color:#fff0f0">&#34;duizend &#34;</span>))
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>      numword<span style="color:#333">&lt;-</span> <span style="color:#06b;font-weight:bold">paste</span>(<span style="color:#06b;font-weight:bold">c</span>(<span style="color:#06b;font-weight:bold">numword.1000</span>(x), <span style="color:#06b;font-weight:bold">numword.100</span>(x), <span style="color:#06b;font-weight:bold">numword.10</span>(x)), collapse<span style="color:#333">=</span><span style="background-color:#fff0f0">&#34;&#34;</span>)
</span></span><span style="display:flex;"><span>      <span style="color:#080;font-weight:bold">return</span> (<span style="color:#06b;font-weight:bold">trimws</span>(numword))
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  antwoord <span style="color:#333">&lt;-</span> <span style="color:#06b;font-weight:bold">nchar</span>(<span style="color:#06b;font-weight:bold">gsub</span>(<span style="background-color:#fff0f0">&#34; &#34;</span>, <span style="background-color:#fff0f0">&#34;&#34;</span>, <span style="color:#06b;font-weight:bold">paste0</span>(<span style="color:#06b;font-weight:bold">sapply</span>(<span style="color:#60e;font-weight:bold">1</span><span style="color:#333">:</span><span style="color:#60e;font-weight:bold">1000</span>, numword.nl), collapse<span style="color:#333">=</span><span style="background-color:#fff0f0">&#34;&#34;</span>)))
</span></span><span style="display:flex;"><span>  <span style="color:#06b;font-weight:bold">print</span>(antwoord)</span></span></code></pre></div>
</div>
<a href = "https://www.r-bloggers.com/" target="_blank" title="Proudly associated with R-Bloggers">
  <button class="button is-link is-medium">
    <span class="icon is-large">
      <i class="fab fa-r-project"></i>
    </span>
    <span>As seen on R Bloggers</span>
  </button>
</a>

</div>
</div>
</div>
</div>

      