<p>I have been looking for a music player on Linux for a while now but haven&rsquo;t really settled on one; I have simple requirements:</p>
<ul>
<li>A view showing album art</li>
<li>An easy way to play random tracks</li>
<li>A quick method to skip a track</li>
</ul>
<hr>
<p>To date I have only been considering players with a graphical front end but it always seems a hassle to, open the program, look for some music, figure out how the shuffle and play work; and then what if I don&rsquo;t like the current track playing?, my laptop isn&rsquo;t really set up to quickly skip the track.</p>
<p>Now I am delving further into the integrated environment of emacs I thought I would see what was on offer.</p>
<p>A little research and I settled on <strong>EMMS</strong></p>
<p>I will go into a deeper review after I have used it for a few months but mainly for this post I wanted to share a quick bash script I created to allow album art to be shown in EMMS.</p>
<p>By default EMMS looks for a <strong>cover.jpg</strong> file in the current music directory.  My collection is neatly split into directories for each album with album art embedded into each mp3 track.  This has given me the opportunity to write a bash script to automate the creation of these cover.jpg files.</p>
<p>The script is as follows:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e">#!/bin/bash
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>DIRS<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>find <span style="color:#e6db74">&#34;</span>$HOME<span style="color:#e6db74">/MyMusicLibrary&#34;</span> -type d -printf <span style="color:#e6db74">&#39;%p;&#39;</span><span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>export IFS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;;&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> dir in $DIRS; <span style="color:#66d9ef">do</span> cd <span style="color:#e6db74">&#34;</span>$dir<span style="color:#e6db74">&#34;</span> files<span style="color:#f92672">=(</span>*<span style="color:#f92672">)</span> <span style="color:#66d9ef">if</span> <span style="color:#f92672">[[</span> <span style="color:#e6db74">${</span>files[0]: -4<span style="color:#e6db74">}</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;.mp3&#34;</span> <span style="color:#f92672">]]</span>; <span style="color:#66d9ef">then</span> echo $dir ffmpeg -hide_banner -loglevel panic -stats -y <span style="color:#ae81ff">\ </span>-i <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>files[0]<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span> -an -c:v copy <span style="color:#e6db74">&#34;</span>$dir<span style="color:#e6db74">/cover.jpg&#34;</span> convert -resize 120x120 <span style="color:#e6db74">&#34;</span>$dir<span style="color:#e6db74">/cover.jpg&#34;</span> <span style="color:#e6db74">&#34;</span>$dir<span style="color:#e6db74">/cover.jpg&#34;</span> <span style="color:#66d9ef">fi</span> <span style="color:#66d9ef">done</span>
</span></span></code></pre></div><p>Of course change the <code>&quot;$HOME/MyMusicLibrary&quot;</code> to your music library location and then in the emacs init file add the following:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-elisp" data-lang="elisp"><span style="display:flex;"><span>(setq emms-browser-covers <span style="color:#e6db74">&#39;emms-browser-cache-thumbnail-async</span>)
</span></span></code></pre></div><p>and this is an example of the result (my music collection is larger than this!):</p>
<figure><img src="https://emacs.dyerdwelling.family/ox-hugo/20230112122044-emacs--Creating-Album-Art-Thumbnails-for-EMMS.jpg" width="300px">
</figure>