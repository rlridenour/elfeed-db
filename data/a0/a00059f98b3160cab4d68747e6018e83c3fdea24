
<div class="post-date">2025 Dec 29</div><p>
Many of us in higher education use Emacs to produce course materials,
and these <a href="https://www.ada.gov/resources/2024-03-08-web-rule/">must conform to the accessibility requirements of the Americans with Disabilities Act</a>.
We often <a href="https://orgmode.org/manual/LaTeX-Export.html">export Org mode documents to LaTeX to produce very nice PDF output</a>.
But until very recently,
LaTeX could not
<a href="https://www.latex-project.org/news/2024/07/08/tagging/">produce tagged PDFs that conform to the PDF/UA accessibility standard</a>.
Until how recently? Only starting with TeX Live 2025.
</p>

<p>
In short, creating accessible PDFs from Org mode means having to install this new version of <a href="https://tug.org/texlive/">TeX Live</a> (the massive, annually-updated software package of all things TeX and LaTeX). 
I am still on Debian 12, whose <a href="https://wiki.debian.org/TeXLive">stable repositories provide TeX Live 2022</a>.
Even the <a href="https://ubuntu.pkgs.org/25.10/ubuntu-universe-amd64/texlive_2024.20250309-1_all.deb.html">most recent Ubuntu repositories only appear to package TeX Live 2024</a>.
The <a href="https://tug.org/texlive/upgrade.html">advice from the TeX Live maintainers</a> is to remove the <code>.deb</code> installation and install TeX Live 2025 fresh, as below.
</p>

<p>
The steps presented here <b>might</b> work also for Ubuntu and later versions of Debian, but that&rsquo;s only a <b>wildly hopeful speculation that I cannot test</b>.
</p>
<div id="outline-container-orga16751e" class="outline-2">
<h2 id="orga16751e">Installing TeX Live 2025 on Debian 12</h2>
<div class="outline-text-2" id="text-orga16751e">
<p>
Set aside ninety minutes for this installation!
</p>

<p>
I successfully installed TeX Live 2025 on multiple machines running Debian 12 with the following steps.
Note that I closely followed the instructions from the <a href="https://wiki.debian.org/TeXLive">Debian wiki</a> and the <a href="https://tug.org/texlive/quickinstall.html">TeX Live website on TUG</a>.
I have added some clarifying remarks that might be helpful.
</p>
</div>
<div id="outline-container-org3562f71" class="outline-3">
<h3 id="org3562f71">Uninstall the old <code>.deb</code> version of TeX Live</h3>
<div class="outline-text-3" id="text-org3562f71">
<div class="org-src-container">
<pre class="src src-bash">  sudo apt autopurge texlive*
</pre>
</div>
<p>
Just <i>uninstalling</i> TeXLive takes a couple minutes.
If you don&rsquo;t remember when you installed these packages, wait until you see how many dependencies they have. TeX Live is the biggest package you&rsquo;re likely to find installed on any Linux system. (No, I probably don&rsquo;t need every module, but it has always been much easier to install the whole monolith than to deal with missing dependencies.)
</p>
</div>
</div>
<div id="outline-container-orgeecb03e" class="outline-3">
<h3 id="orgeecb03e">Install TeX Live 2025 from <a href="https://ctan.org/">CTAN</a></h3>
<div class="outline-text-3" id="text-orgeecb03e">
<div class="org-src-container">
<pre class="src src-nil">cd /tmp
wget https://mirror.ctan.org/systems/texlive/tlnet/install-tl-unx.tar.gz
tar xvf install-tl-unx.tar.gz
cd install-tl-2*
sudo perl ./install-tl --no-interaction
</pre>
</div>
<p>
<a href="https://tug.org/texlive/quickinstall.html">The instructions</a> have a cute little note <code># may take several hours to run</code> which prompted my <a href="https://fediscience.org/@jameshowell/115799486957198121">LOL post to Mastodon</a>. (Again, I choose to install everything here, 4,958 TeX Live packages. In fact <a href="https://tug.org/texlive/quickinstall.html">the instructions</a> presume a full install.)
</p>

<p>
It took about an hour on my newish desktop with Ethernet, almost two hours on my ten-year-old laptop over Wi-Fi.
</p>
</div>
</div>
<div id="outline-container-orgc5fa6ea" class="outline-3">
<h3 id="orgc5fa6ea">Add the binary directory to your <code>PATH</code></h3>
<div class="outline-text-3" id="text-orgc5fa6ea">
<p>
It will be of the form <code>/usr/local/texlive/2025/bin/PLATFORM</code>, likely <code>/usr/local/texlive/2025/bin/x86_64-linux</code>.
</p>

<p>
Be certain that root can run the TeX Live binaries too!
<a href="https://askubuntu.com/questions/24937/how-do-i-set-path-variables-for-all-users-on-a-server">The way I did so was to edit <code>/etc/profile</code></a>, find the appropriate lines setting the path, and edit them to add that directory. The result looks like so:
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b6a0ff;">if</span> [ <span style="color: #79a8ff;">"$(</span><span style="color: #f78fe7;">id -u</span><span style="color: #79a8ff;">)"</span> -eq 0 ]; <span style="color: #b6a0ff;">then</span>
  <span style="color: #00d3d0;">PATH</span>=<span style="color: #79a8ff;">"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/texlive/2025/bin/x86_64-linux"</span>
<span style="color: #b6a0ff;">else</span>
  <span style="color: #00d3d0;">PATH</span>=<span style="color: #79a8ff;">"/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:/usr/local/texlive/2025/bin/x86_64-linux"</span>
<span style="color: #b6a0ff;">fi</span>
<span style="color: #f78fe7;">export</span> PATH
</pre>
</div>
</div>
</div>
<div id="outline-container-org61d16fa" class="outline-3">
<h3 id="org61d16fa">Install a few minimal base packages via <code>apt</code></h3>
<div class="outline-text-3" id="text-org61d16fa">
<div class="org-src-container">
<pre class="src src-bash">  sudo apt install tex-common texinfo lmodern 
</pre>
</div>
</div>
</div>
<div id="outline-container-orgac74879" class="outline-3">
<h3 id="orgac74879">Configure a &ldquo;dummy package&rdquo; and install via <code>apt</code></h3>
<div class="outline-text-3" id="text-orgac74879">
<p>
This part is opaque to me. It appears we are using something called <code>equivs</code> to wrap our raw-dog TeX Live install into a <code>.deb</code> in order to trick the package manager into playing nice with it, but I am innocent of the mechanism here.
</p>

<div class="org-src-container">
<pre class="src src-bash">  sudo apt install equivs
  mkdir /tmp/tl-equivs &amp;&amp; <span style="color: #f78fe7;">cd</span> /tmp/tl-equivs
  equivs-control texlive-local
</pre>
</div>

<p>
We are now in a temporary directory that contains a configuration file for our dummy package called <code>texlive-local</code>.
Replace the contents of that file with the following:
</p>

<pre class="example" id="org16c4e36">
Section: misc
Priority: optional
Standards-Version: 4.1.4

Package: texlive-local
Version: 2025.99999999-1
Maintainer: you &lt;you@yourdomain.example.org&gt;
Provides: asymptote, chktex, cm-super, cm-super-minimal, context,
 dvidvi, dvipng, dvisvgm, feynmf, fragmaster, jadetex, lacheck, 
 latex-cjk-all, latex-cjk-chinese, latex-cjk-chinese-arphic-bkai00mp,
 latex-cjk-chinese-arphic-bsmi00lp, latex-cjk-chinese-arphic-gbsn00lp,
 latex-cjk-chinese-arphic-gkai00mp, latex-cjk-common, latex-cjk-japanese,
 latex-cjk-japanese-wadalab, latex-cjk-korean, latex-cjk-thai, latexdiff,
 latexmk, latex-sanskrit, lcdf-typetools, lmodern, luatex,
 musixtex, preview-latex-style, ps2eps, psutils, purifyeps, t1utils,
 tex4ht, tex4ht-common, tex-gyre, texinfo, texlive, texlive-base,
 texlive-bibtex-extra, texlive-binaries, texlive-common, texlive-extra-utils,
 texlive-fonts-extra, texlive-fonts-extra-doc, texlive-fonts-recommended,
 texlive-fonts-recommended-doc, texlive-font-utils, texlive-formats-extra,
 texlive-games, texlive-humanities, texlive-humanities-doc, 
 texlive-lang-all, texlive-lang-arabic, texlive-lang-cjk, texlive-lang-cyrillic,
 texlive-lang-czechslovak, texlive-lang-english, texlive-lang-european,
 texlive-lang-japanese, texlive-lang-chinese, texlive-lang-korean,
 texlive-lang-french, texlive-lang-german, texlive-lang-greek,
 texlive-lang-italian, texlive-lang-other,
 texlive-lang-polish, texlive-lang-portuguese, texlive-lang-spanish,
 texlive-latex-base, texlive-latex-base-doc, texlive-latex-extra,
 texlive-latex-extra-doc, texlive-latex-recommended,
 texlive-latex-recommended-doc, texlive-luatex, texlive-math-extra,
 texlive-metapost, texlive-metapost-doc, texlive-music,
 texlive-pictures, texlive-pictures-doc, texlive-plain-generic,
 texlive-pstricks, texlive-pstricks-doc, texlive-publishers,
 texlive-publishers-doc, texlive-science, texlive-science-doc, texlive-xetex,
 thailatex, tipa, tipa-doc, xindy, xindy-rules
Depends:
Architecture: all
Description: My local installation of TeX Live 2025.
 A full "vanilla" TeX Live 2025
 http://tug.org/texlive/debian#vanilla
</pre>

<p>
And finally:
</p>

<div class="org-src-container">
<pre class="src src-bash">  equivs-build texlive-local
  sudo dpkg -i texlive-local_2025.99999999-1_all.deb
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgf5f33d0" class="outline-2">
<h2 id="orgf5f33d0">Producing a compliant PDF</h2>
<div class="outline-text-2" id="text-orgf5f33d0">
<p>
Reality check: let&rsquo;s make sure we can in fact use our new TeX Live install to produce a minimal accessible PDF. Note that the <code>polyglossia</code> package is a replacement for the <code>babel</code> package that adds accessibility features. But the <code>\DocumentMetadata{}</code> command does the heavy lifting for producing tagged PDFs. It must come before <code>\documentclass{}</code>.
</p>

<div class="org-src-container">
<pre class="src src-latex">  <span style="color: #b6a0ff;">\DocumentMetadata</span>{
    lang        = en,
    pdfstandard = ua-2,
    pdfstandard = a-4f,
    tagging     = on
  }

  <span style="color: #b6a0ff;">\documentclass</span>{<span style="color: #f78fe7;">article</span>}

  <span style="color: #b6a0ff;">\usepackage</span>{<span style="color: #f78fe7;">polyglossia</span>}
  <span style="color: #b6a0ff;">\setdefaultlanguage</span>[variant=US]{english}

  <span style="color: #b6a0ff;">\begin</span>{<span style="color: #feacd0;">document</span>}

  <span style="color: #b6a0ff;">\section</span>{<span style="color: #feacd0;">Lorem ipsum</span>}

  I know I promised US English but here's some nonsense
  not-quite-Latin. Est eveniet accusamus dolor et. Possimus fugit
  consectetur alias iure suscipit facere est exercitationem. Sed enim
  sapiente atque.

  Voluptas et tempora est. Recusandae velit qui nesciunt. Molestiae excepturi
  occaecati doloribus. Eum sunt optio aut consequatur doloremque. Quo eveniet
  rerum aut dicta impedit quia ut autem. Dolor nisi qui architecto sunt.

  Corporis quidem aut natus est quidem pariatur. Error aut repellat nobis
  velit corporis voluptatem. Libero hic nesciunt omnis ut quam minus soluta.
  Ad quo culpa facere pariatur voluptas et quis nostrum. Pariatur tempore
  ipsum voluptatibus iusto repudiandae. Earum ea quo saepe autem et. Eum
  ratione eaque non dolorum ut fugit vitae dolorum.

  <span style="color: #b6a0ff;">\end</span>{<span style="color: #feacd0;">document</span>}
</pre>
</div>

<p>
Save this file as <code>minimal.tex</code> and run
</p>

<div class="org-src-container">
<pre class="src src-bash">lualatex minimal.tex
</pre>
</div>

<p>
(On its first run, it will take a minute to build a font names database.)
</p>

<p>
If it doesn&rsquo;t work, well, I guess you have some debugging to do?
Note that the LuaLaTeX engine is required for all the accessibilty new hotness. (TIL <a href="https://www.texdev.net/2024/11/05/engine-news-from-the-latex-project">it has been the recommended engine for a year</a>.)
</p>
</div>
</div>
<div id="outline-container-orge5e2f41" class="outline-2">
<h2 id="orge5e2f41">Configuring Org LaTeX export to produce compliant PDFs</h2>
<div class="outline-text-2" id="text-orge5e2f41">
<p>
Note that I am stealing everything here from Kenny Ballou&rsquo;s <a href="https://kennyballou.com/blog/2025/08/tagged-pdfs-org-export/index.html">comprehensive and excellent post</a> to which I have little to add.
</p>

<p>
Add these expressions to your Emacs configuration.
</p>

<p>
Set the default engine to <code>lualatex</code> but allow individual files to override it (in case you have some weird old files, I suppose).
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">  (<span style="color: #b6a0ff;">setq</span> org-latex-compiler <span style="color: #79a8ff;">"lualatex"</span>)

  <span style="color: #989898;">;;; </span><span style="color: #989898;">%latex gets replaced with org-latex-compiler
</span>  <span style="color: #989898;">;;; </span><span style="color: #989898;">OR overridden by the #+LATEX_COMPILER header
</span>  (<span style="color: #b6a0ff;">setq</span> org-latex-pdf-process
        '(<span style="color: #79a8ff;">"latexmk -f -pdf -%latex -interaction=nonstopmode -shell-escape -output-directory=%o %f"</span>))
</pre>
</div>

<p>
Insert the <code>\DocumentMetadata{}</code> command before <code>\documentclass{}</code> for the <code>article</code> document type. Note that as written, only the <code>article</code> documentclass is defined for export. You might already have a <code>org-latex-classes</code> declaration in your config, in which case you should modify it to replace the <code>article</code> class definition with this one.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">  (<span style="color: #b6a0ff;">defvar</span> <span style="color: #00d3d0;">org-latex-metadata</span> <span style="color: #79a8ff;">"\\DocumentMetadata{lang = en, pdfversion = 2.0, pdfstandard = ua-2, pdfstandard = a-4}"</span>
    <span style="color: #9ac8e0;">"LaTeX preamble command to specify PDF accessibility metadata.\nIt must appear before the \\documentclass{} declaration."</span>)

  (<span style="color: #b6a0ff;">setq</span> org-latex-classes
        `(
          (<span style="color: #79a8ff;">"article"</span> ,(concat org-latex-metadata <span style="color: #79a8ff;">"\n"</span> <span style="color: #79a8ff;">"\\documentclass[11pt]{article}"</span>)
           (<span style="color: #79a8ff;">"\\section{%s}"</span> . <span style="color: #79a8ff;">"\\section*{%s}"</span>)
           (<span style="color: #79a8ff;">"\\subsection{%s}"</span> . <span style="color: #79a8ff;">"\\subsection*{%s}"</span>)
           (<span style="color: #79a8ff;">"\\subsubsection{%s}"</span> . <span style="color: #79a8ff;">"\\subsubsection*{%s}"</span>)
           (<span style="color: #79a8ff;">"\\paragraph{%s}"</span> . <span style="color: #79a8ff;">"\\paragraph*{%s}"</span>)
           (<span style="color: #79a8ff;">"\\subparagraph{%s}"</span> . <span style="color: #79a8ff;">"\\subparagraph*{%s}"</span>))
        ))
</pre>
</div>

<p>
I have not yet attempted to make the corresponding definition for <code>Beamer</code>. When I get it to work I will update this post.
</p>

<p>
(Note finally that <a href="https://latex.us/macros/latex/required/latex-lab/documentmetadata-support-code.pdf">the <code>testphase</code> key in the <code>\DocumentMetadata{}</code> command has been deprecated</a>, so I&rsquo;ve removed it.)
</p>

<p>
Here is a minimal Org document to test export:
</p>

<pre class="example" id="orga9066d0">
#+title: A nice title for a PDF
#+subtitle: a test of tagged PDF accessibility
#+latex_header: \usepackage{polyglossia}
#+latex_header: \setdefaultlanguage[variant=US]{english}

Est eveniet accusamus dolor et. Possimus fugit consectetur alias
iure suscipit facere est exercitationem. Sed enim sapiente atque.

* Heading 1

** Subhead 1.1
Voluptas et tempora est. Recusandae velit qui nesciunt. Molestiae
excepturi occaecati doloribus.

** Subhead 1.2
Eum sunt optio aut consequatur doloremque. Quo eveniet rerum aut
dicta impedit quia ut autem. Dolor nisi qui architecto sunt.

* Heading 2

** Subhead 2.1
Corporis quidem aut natus est quidem pariatur. Error aut repellat
nobis velit corporis voluptatem. Libero hic nesciunt omnis ut quam
minus soluta. Ad quo culpa facere pariatur voluptas et quis nostrum.

** Subhead 2.2
Pariatur tempore ipsum voluptatibus iusto repudiandae. Earum ea quo
saepe autem et. Eum ratione eaque non dolorum ut fugit vitae
dolorum.
</pre>
</div>
</div>
<div id="outline-container-org0078255" class="outline-2">
<h2 id="org0078255">Dealing with remaining issues</h2>
<div class="outline-text-2" id="text-org0078255">
<p>
It&rsquo;s important to remember that the accessibility functionality in LaTeX is still new and incomplete. But it&rsquo;s a big step from zero to very good.
</p>

<p>
For me and everyone who posts our course materials to Canvas, the touchstone is the &ldquo;Ally Accessibility Checker,&rdquo; which is also not perfect. For instance, it insists that PDFs produced by LaTeX are missing a title when they are not. If I can get to the bottom of that bug, I&rsquo;ll update this post.
</p>

<p>
<i>You can respond on the <a href="https://fediscience.org/@jameshowell/115799486957198121">original Mastodon thread</a>.</i>
</p>
</div>
</div>
<div class="taglist"><a href="https://jamesendreshowell.com/tags.html">tags</a>: <a href="https://jamesendreshowell.com/tag-accessibility.html">accessibility</a> <a href="https://jamesendreshowell.com/tag-latex.html">latex</a> <a href="https://jamesendreshowell.com/tag-emacs.html">emacs</a> <a href="https://jamesendreshowell.com/tag-org-mode.html">org-mode</a> <a href="https://jamesendreshowell.com/tag-teaching.html">teaching</a> </div>