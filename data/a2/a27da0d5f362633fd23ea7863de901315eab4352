<p>While writing last week’s post on the <a href="https://leancrew.com/all-this/2025/03/using-the-built-in-thesaurus-on-the-mac/">built-in Apple thesaurus</a>, I looked around for other ways to get a list of synonyms. I came across the <a href="https://dictionaryapi.com/">Merriam-Webster API</a>, which gives you free access (for light non-commercial use) to the M-W dictionary and thesaurus. I didn’t spend too much time with it—the Apple thesaurus is just so handy—but it was interesting, and M-W is certainly authoritative.</p>
<p>To use the M-W API, you have to <a href="https://dictionaryapi.com/register/index">register for a developer account</a>. I don’t understand why they ask for a company name when it’s for non-commercial use (I entered “None”), but maybe the registration page covers commercial apps, too. Whatever. I got my API key almost immediately after submitting the form.</p>
<p>The thesaurus API works by returning JSON in response to a URL in this form:</p>
<pre><code>https://www.dictionaryapi.com/api/v3/references/thesaurus/json/word?key=your-api-key
</code></pre>
<p>There’s <a href="https://dictionaryapi.com/products/json">extensive documentation</a> for the API, but I just sort of looked through some output to see how easy it would be to extract what I might want. Here’s the JSON output for <em>component</em>. Get your scrolling finger limbered up.</p>
<pre><code>[
  {
    "meta": {
      "id": "component",
      "uuid": "5989b740-1791-4d9f-9ce1-d4a8f6a49f11",
      "src": "coll_thes",
      "section": "alpha",
      "target": {
        "tuuid": "60760bc0-146a-4f7c-b424-debfb361e283",
        "tsrc": "collegiate"
      },
      "stems": [
        "component",
        "componential",
        "components"
      ],
      "syns": [
        [
          "building block",
          "constituent",
          "element",
          "factor",
          "ingredient",
          "member"
        ]
      ],
      "ants": [
        [
          "whole"
        ]
      ],
      "offensive": false
    },
    "hwi": {
      "hw": "component"
    },
    "fl": "noun",
    "def": [
      {
        "sseq": [
          [
            [
              "sense",
              {
                "dt": [
                  [
                    "text",
                    "one of the parts that make up a whole "
                  ],
                  [
                    "vis",
                    [
                      {
                        "t": "each set is composed of several distinct {it}components{/it}"
                      }
                    ]
                  ]
                ],
                "syn_list": [
                  [
                    {
                      "wd": "building block"
                    },
                    {
                      "wd": "constituent"
                    },
                    {
                      "wd": "element"
                    },
                    {
                      "wd": "factor"
                    },
                    {
                      "wd": "ingredient"
                    },
                    {
                      "wd": "member"
                    }
                  ]
                ],
                "rel_list": [
                  [
                    {
                      "wd": "basis"
                    },
                    {
                      "wd": "part and parcel"
                    }
                  ],
                  [
                    {
                      "wd": "detail"
                    },
                    {
                      "wd": "item"
                    },
                    {
                      "wd": "particular"
                    },
                    {
                      "wd": "point"
                    }
                  ],
                  [
                    {
                      "wd": "aspect"
                    },
                    {
                      "wd": "characteristic"
                    },
                    {
                      "wd": "facet"
                    },
                    {
                      "wd": "feature"
                    },
                    {
                      "wd": "trait"
                    }
                  ],
                  [
                    {
                      "wd": "division"
                    },
                    {
                      "wd": "fragment"
                    },
                    {
                      "wd": "particle"
                    },
                    {
                      "wd": "partition"
                    },
                    {
                      "wd": "piece"
                    },
                    {
                      "wd": "portion"
                    },
                    {
                      "wd": "section"
                    },
                    {
                      "wd": "sector"
                    },
                    {
                      "wd": "segment"
                    }
                  ],
                  [
                    {
                      "wd": "subcomponent"
                    }
                  ]
                ],
                "near_list": [
                  [
                    {
                      "wd": "aggregate"
                    },
                    {
                      "wd": "composite"
                    },
                    {
                      "wd": "compound"
                    },
                    {
                      "wd": "mass"
                    }
                  ],
                  [
                    {
                      "wd": "entirety"
                    },
                    {
                      "wd": "sum"
                    },
                    {
                      "wd": "summation"
                    },
                    {
                      "wd": "total"
                    },
                    {
                      "wd": "totality"
                    }
                  ],
                  [
                    {
                      "wd": "admixture"
                    },
                    {
                      "wd": "amalgam"
                    },
                    {
                      "wd": "amalgamation"
                    },
                    {
                      "wd": "blend"
                    },
                    {
                      "wd": "combination"
                    },
                    {
                      "wd": "intermixture"
                    },
                    {
                      "wd": "mix"
                    },
                    {
                      "wd": "mixture"
                    }
                  ]
                ],
                "ant_list": [
                  [
                    {
                      "wd": "whole"
                    }
                  ]
                ]
              }
            ]
          ]
        ]
      }
    ],
    "shortdef": [
      "one of the parts that make up a whole"
    ]
  },
  {
    "meta": {
      "id": "component",
      "uuid": "0bb8d43d-b0c8-4869-81e7-535094385289",
      "src": "CTcompile",
      "section": "alpha",
      "stems": [
        "component"
      ],
      "syns": [
        [
          "constituent",
          "individual",
          "particular",
          "cross-sectional",
          "divisional",
          "fragmentary",
          "partial",
          "local",
          "localized",
          "regional",
          "sectional"
        ]
      ],
      "ants": [
        [
          "across-the-board",
          "blanket",
          "broad-brush",
          "common",
          "general",
          "generic",
          "global",
          "overall",
          "universal",
          "all-embracing",
          "broad",
          "broad-gauge",
          "broadscale",
          "comprehensive",
          "extensive",
          "inclusionary",
          "overarching",
          "pervasive",
          "sweeping",
          "ubiquitous",
          "wholesale",
          "wide",
          "widespread",
          "aggregate",
          "collective",
          "complete",
          "full",
          "plenary"
        ]
      ],
      "offensive": false
    },
    "hwi": {
      "hw": "component"
    },
    "fl": "adjective",
    "def": [
      {
        "sseq": [
          [
            [
              "sense",
              {
                "dt": [
                  [
                    "text",
                    "as in {it}constituent{/it}"
                  ]
                ],
                "sim_list": [
                  [
                    {
                      "wd": "constituent"
                    }
                  ],
                  [
                    {
                      "wd": "individual"
                    },
                    {
                      "wd": "particular"
                    }
                  ],
                  [
                    {
                      "wd": "cross-sectional"
                    },
                    {
                      "wd": "divisional"
                    },
                    {
                      "wd": "fragmentary"
                    },
                    {
                      "wd": "partial"
                    }
                  ],
                  [
                    {
                      "wd": "local"
                    },
                    {
                      "wd": "localized"
                    },
                    {
                      "wd": "regional"
                    },
                    {
                      "wd": "sectional"
                    }
                  ]
                ],
                "opp_list": [
                  [
                    {
                      "wd": "across-the-board"
                    },
                    {
                      "wd": "blanket"
                    },
                    {
                      "wd": "broad-brush"
                    },
                    {
                      "wd": "common"
                    },
                    {
                      "wd": "general"
                    },
                    {
                      "wd": "generic"
                    },
                    {
                      "wd": "global"
                    },
                    {
                      "wd": "overall"
                    },
                    {
                      "wd": "universal"
                    }
                  ],
                  [
                    {
                      "wd": "all-embracing"
                    },
                    {
                      "wd": "broad"
                    },
                    {
                      "wd": "broad-gauge",
                      "wvrs": [
                        {
                          "wvl": "or",
                          "wva": "broad-gauged"
                        }
                      ]
                    },
                    {
                      "wd": "broadscale"
                    },
                    {
                      "wd": "comprehensive"
                    },
                    {
                      "wd": "extensive"
                    },
                    {
                      "wd": "inclusionary"
                    },
                    {
                      "wd": "overarching"
                    },
                    {
                      "wd": "pervasive"
                    },
                    {
                      "wd": "sweeping"
                    },
                    {
                      "wd": "ubiquitous"
                    },
                    {
                      "wd": "wholesale"
                    },
                    {
                      "wd": "wide"
                    },
                    {
                      "wd": "widespread"
                    }
                  ],
                  [
                    {
                      "wd": "aggregate"
                    },
                    {
                      "wd": "collective"
                    },
                    {
                      "wd": "complete"
                    },
                    {
                      "wd": "full"
                    },
                    {
                      "wd": "plenary"
                    }
                  ]
                ]
              }
            ]
          ]
        ]
      }
    ],
    "shortdef": [
      "as in constituent"
    ]
  }
]
</code></pre>
<p>That output came from running</p>
<pre><code>curl https://dictionaryapi.com/api/v3/references/thesaurus/json/component?key=my-key | jq
</code></pre>
<p>Piping the output through <a href="https://jqlang.org/"><code>jq</code></a> put it into the nicely indented format. Without that, you just get a long inpenetrable string.</p>
<p>It was relatively easy to whip up a short Python script that turned the JSON into a more compact form:</p>
<pre><code>python:
 1:  #!/usr/bin/env python3
 2:  
 3:  import json
 4:  import requests
 5:  from textwrap import fill
 6:  import sys
 7:  
 8:  word = sys.argv[1]
 9:  myKey = 'my-key'
10:  mwURL = f'https://dictionaryapi.com/api/v3/references/thesaurus/json/{word}?key={myKey}'
11:  
12:  r = requests.get(mwURL)
13:  j = json.loads(r.text)
14:  
15:  for m in j:
16:    count = len(m['shortdef'])
17:    for i, defn in enumerate(m['shortdef']):
18:      print(fill(m['fl'] + ': ' + defn, width=70))
19:      print(fill(', '.join(m['meta']['syns'][i]), width=70))
20:      print()
</code></pre>
<p>There are no comments because this was just a quick proof of concept. Basically, it uses <a href="https://requests.readthedocs.io/en/latest/"><code>requests</code></a> to get the API’s response, decodes the JSON into a Python data structure using the <a href="https://docs.python.org/3.13/library/json.html"><code>json</code></a> module’s <code>loads</code> function, and then pulls out the parts of the response that I thought would be useful. Because the output for each part could be long, I used the <code>fill</code> function from the <a href="https://docs.python.org/3.13/library/textwrap.html"><code>textwrap</code> library</a>, to make the lines no more than 70 characters long. The output for <code>component</code> is</p>
<pre><code>noun: one of the parts that make up a whole
building block, constituent, element, factor, ingredient, member

adjective: as in constituent
constituent, individual, particular, cross-sectional, divisional,
fragmentary, partial, local, localized, regional, sectional
</code></pre>
<p>How it is that <em>part</em> can appear in the short definition but not in this list of synonyms is beyond me. Maybe it’s good that I didn’t pursue this further.</p>
<div class="update">
<p><strong>Update 2 Apr 2025 2:25 PM</strong><br/>
<a href="https://hachyderm.io/@leoncowle/114269586303858844">Leon Cowle tells me</a> that <code>requests</code> has a <code>json</code> method that does the work of <code>loads</code>. That sounds familiar, but it’s been so long since I used <code>requests</code> that I didn’t even bother to look for it. When I want to limit the time I spend on a script, I typically stick with what’s already in my brain and don’t go looking for improvements and efficiencies. With luck, though, this will remind me of <code>json</code> the next time I use <code>requests</code>. Thanks, Leon!</p>
</div>
