
         
         <p>[ This is a development note. Things might change before the release
  of <code class="language-plaintext highlighter-rouge">modus-themes</code> version <code class="language-plaintext highlighter-rouge">5.0.0</code> and <code class="language-plaintext highlighter-rouge">ef-themes</code> version <code class="language-plaintext highlighter-rouge">2.0.0</code>. ]</p>

<p>In previous entries, I outlined how my <code class="language-plaintext highlighter-rouge">ef-themes</code> will be built on
top of my <code class="language-plaintext highlighter-rouge">modus-themes</code> and then how the <code class="language-plaintext highlighter-rouge">modus-themes</code> are partly
redesigned to enable such an arrangement:</p>

<ul>
  <li><a href="https://protesilaos.com/codelog/2025-09-27-emacs-next-ef-themes-built-on-modus/">Emacs: the next ‘ef-themes’ will build on top of the ‘modus-themes’</a> (offers just the big picture view)</li>
  <li><a href="https://protesilaos.com/codelog/2025-09-30-emacs-building-on-top-modus-themes/">Emacs: building on top of the Modus themes</a> (describes some technicalities)</li>
</ul>

<p>I have now finalised the details and merged the changes in the
respective <code class="language-plaintext highlighter-rouge">main</code> branch of each Git repository. If you are building
the packages from their latest commit, you might need to delete and
then re-install the package. Otherwise, I expect things to work as
expected. The <code class="language-plaintext highlighter-rouge">modus-themes</code>, in particular, should have no obvious
change to its users.</p>

<p>The <code class="language-plaintext highlighter-rouge">ef-themes</code> have undergone substantial changes. All of their user
options are deprecated and will no longer have any effect. User
options from the Modus themes now take their place. Furthermore, all
the Ef commands to load a theme are discontinued. The plan is to
re-use the infrastructure of the Modus themes throughout. Concretely,
users must change their configuration to at least this minimal setup:</p>

<div class="language-elisp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="nb">use-package</span> <span class="nv">ef-themes</span>
  <span class="ss">:init</span>
  <span class="c1">;; This is essential to let the Ef themes take over the Modus themes commands.</span>
  <span class="p">(</span><span class="nv">ef-themes-take-over-modus-themes-mode</span> <span class="mi">1</span><span class="p">))</span>
</code></pre></div></div>

<p>Or this sort, if they want some key bindings and customisations:</p>

<div class="language-elisp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="nb">use-package</span> <span class="nv">ef-themes</span>
  <span class="ss">:init</span>
  <span class="p">(</span><span class="nv">ef-themes-take-over-modus-themes-mode</span> <span class="mi">1</span><span class="p">)</span>
  <span class="ss">:bind</span>
  <span class="p">((</span><span class="s">"&lt;f5&gt;"</span> <span class="o">.</span> <span class="nv">modus-themes-rotate</span><span class="p">)</span>
   <span class="p">(</span><span class="s">"C-&lt;f5&gt;"</span> <span class="o">.</span> <span class="nv">modus-themes-select</span><span class="p">)</span>
   <span class="p">(</span><span class="s">"M-&lt;f5&gt;"</span> <span class="o">.</span> <span class="nv">modus-themes-load-random</span><span class="p">))</span>
  <span class="ss">:config</span>
  <span class="c1">;; All customisations here.</span>
  <span class="p">(</span><span class="k">setq</span> <span class="nv">modus-themes-mixed-fonts</span> <span class="no">t</span><span class="p">))</span>
</code></pre></div></div>

<h2>Load a theme</h2>

<p>The commands <code class="language-plaintext highlighter-rouge">modus-themes-rotate</code>, <code class="language-plaintext highlighter-rouge">modus-themes-select</code>,
<code class="language-plaintext highlighter-rouge">modus-themes-toggle</code>, and <code class="language-plaintext highlighter-rouge">modus-themes-load-random</code> will also load a
theme interactively.</p>

<p>Loading a specific theme from Lisp works as expected:</p>

<div class="language-elisp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="nv">load-theme</span> <span class="ss">'ef-cyprus</span> <span class="ss">:no-confirm</span><span class="p">)</span>
</code></pre></div></div>

<p>To do the same while also triggering the
<code class="language-plaintext highlighter-rouge">modus-themes-after-load-theme-hook</code> as well as the
<code class="language-plaintext highlighter-rouge">modus-themes-disable-other-themes</code>:</p>

<div class="language-elisp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="nv">modus-themes-load-theme</span> <span class="ss">'ef-summer</span><span class="p">)</span>
</code></pre></div></div>

<p>To load a theme at random, do this:</p>

<div class="language-elisp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="nv">modus-themes-load-random</span><span class="p">)</span>
<span class="p">(</span><span class="nv">modus-themes-load-random</span> <span class="ss">'dark</span><span class="p">)</span> <span class="c1">; dark only (alternative `modus-themes-load-dark')</span>
<span class="p">(</span><span class="nv">modus-themes-load-random</span> <span class="ss">'light</span><span class="p">)</span> <span class="c1">; light only (alternative `modus-themes-load-light')</span>
</code></pre></div></div>

<h2>Use both Ef and Modus themes</h2>

<p>To not take over the Modus themes completely and to instead allow the
Modus commands to act on both Modus and Ef themes, enable this minor
mode instead:</p>

<div class="language-elisp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="nv">modus-themes-include-derivatives-mode</span> <span class="mi">1</span><span class="p">)</span>
</code></pre></div></div>

<p>And <strong>make sure you disable</strong> <code class="language-plaintext highlighter-rouge">ef-themes-take-over-modus-themes-mode</code>
in this case.</p>

<h2>More customisation for the Ef themes</h2>

<p>All the user options of the Modus themes are now available. For
example, there was no option in the past to disable bold and italic
styles from the Ef themes. They are now disabled by default, unless
the user sets <code class="language-plaintext highlighter-rouge">modus-themes-bold-constructs</code> and <code class="language-plaintext highlighter-rouge">modus-themes-italic-constructs</code>
to non-nil values.</p>

<p>Additionally, the Ef themes now enjoy wider face/package support.</p>

<h2>Everything else should be as expected</h2>

<p>Advanced users who were relying on the <code class="language-plaintext highlighter-rouge">ef-themes-with-colors</code> or any
other Ef functionality will have to do the same with the Modus
framework. Everything is possible, plus I am happy to help with the
transition if you have any questions.</p>

<p>The Modus themes benefit from this redesign because their code is made
to be more generic and to not hardcode certain assumptions. It also
makes sense for them to be useful as a dependency for other themes, as
they are part of core Emacs, which is convenient.</p>

<p>Remember that everything is still in development. I will expand the
manuals and make sure everything is in order for the next major
version of each of these two projects.</p>

<p>If everything goes well, expect my <code class="language-plaintext highlighter-rouge">standard-themes</code> to be redone on
top of the <code class="language-plaintext highlighter-rouge">modus-themes</code>. But not for the <code class="language-plaintext highlighter-rouge">doric-themes</code>: those are
quite different in style and overall design.</p>
        
      