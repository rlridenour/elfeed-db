

<p>I&rsquo;ve been working a bit more on <a href="https://github.com/ttscoff/mdtosendy">mdtosendy</a>, my Ruby script for converting Markdown to email-ready HTML, and recently added a multi-template system that makes it much more flexible for managing different email designs.</p>

<p>To read more about the inspiration and initial development of mdtosendy,
see the <a href="https://brettterpstra.com/2025/12/26/create-email-campaigns-from-markdown/">blog post I wrote a couple of days
ago</a>.</p>

<h2 id="the-problem">The Problem</h2>

<p>Originally, <code class="language-plaintext highlighter-rouge">mdtosendy</code> used a single set of template files in <code class="language-plaintext highlighter-rouge">~/.config/mdtosendy/</code>. If you wanted different styling or configuration options for different types of emails, you&rsquo;d have to manually swap files or maintain multiple config directories. Not ideal.</p>

<h2 id="the-solution-template-directories">The Solution: Template Directories</h2>

<p>Now you can create multiple templates, each in its own directory under <code class="language-plaintext highlighter-rouge">~/.config/mdtosendy/templates/</code>. Each template can have its own HTML template, CSS file, and configuration.</p>

<h3 id="creating-a-template">Creating a Template</h3>

<p>Creating a new template is simple:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight fixed"><code>mdtosendy.rb <span class="nt">--create-template</span> mytemplate</code></pre></div></div>

<p>This creates <code class="language-plaintext highlighter-rouge">~/.config/mdtosendy/templates/mytemplate/</code> with:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">email-template.html</code> - copied from the default template</li>
  <li><code class="language-plaintext highlighter-rouge">styles.css</code> - copied from the default styles</li>
  <li><code class="language-plaintext highlighter-rouge">config.yml</code> - blank, so it uses the base config</li>
</ul>

<p>Then use it with:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight fixed"><code>mdtosendy.rb <span class="nt">--template</span> mytemplate email.md</code></pre></div></div>

<h3 id="child-templates">Child Templates</h3>

<p>Even better, you can create child templates that inherit from a parent. This is perfect when you have a base design but want variations:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight fixed"><code>mdtosendy.rb <span class="nt">--create-template</span> darktheme <span class="nt">--parent</span> mytemplate</code></pre></div></div>

<p>This creates a child template that:</p>
<ul>
  <li>Inherits all config from the parent</li>
  <li>Inherits HTML and CSS files if they don&rsquo;t exist in the child</li>
  <li>Lets you override just what you need</li>
</ul>

<p>The child&rsquo;s <code class="language-plaintext highlighter-rouge">config.yml</code> looks like:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight fixed"><code><span class="na">parent</span><span class="pi">:</span> <span class="s">mytemplate</span>

<span class="c1"># Parent template config (commented out):</span>
<span class="c1"># ... all the parent's config as comments for reference</span></code></pre></div></div>

<p>You can override specific settings in the child&rsquo;s config, and if you don&rsquo;t provide HTML or CSS files, it automatically uses the parent&rsquo;s.</p>

<h2 id="configuration-hierarchy">Configuration Hierarchy</h2>

<p>The configuration system works in layers:</p>

<ol>
  <li><strong>Base config</strong> (<code class="language-plaintext highlighter-rouge">~/.config/mdtosendy/config.yml</code>) - Your Sendy API settings, default list IDs, etc.</li>
  <li><strong>Template config</strong> (<code class="language-plaintext highlighter-rouge">~/.config/mdtosendy/templates/NAME/config.yml</code>) - Template-specific overrides</li>
  <li><strong>Child template config</strong> - Overrides parent template config</li>
</ol>

<p>Each layer can override the previous, so you can have base settings for Sendy, template-specific list IDs, and child-specific styling tweaks.</p>

<h2 id="development-mode">Development Mode</h2>

<p>I also added a <code class="language-plaintext highlighter-rouge">--dev</code> flag that generates an <code class="language-plaintext highlighter-rouge">email-dev.html</code> file for easier template development:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight fixed"><code>mdtosendy.rb <span class="nt">--dev</span> <span class="nt">--template</span> mytemplate</code></pre></div></div>

<p>This creates <code class="language-plaintext highlighter-rouge">~/.config/mdtosendy/email-dev.html</code> with:</p>

<ul>
  <li>Linked CSS (not inlined) so you can edit styles and refresh</li>
  <li>Sample content showing all the elements</li>
  <li>A template info table showing which template and CSS file you&rsquo;re using</li>
  <li>Proper wrapper and content-wrapper classes so the styling matches the final email</li>
</ul>

<p>It&rsquo;s much easier to iterate on designs when you can edit CSS and see changes immediately in the browser.</p>

<h2 id="button-variants">Button Variants</h2>

<p>While building this, I also added support for button variants. You can now use:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">[Primary](url){:.button}</code> - The default button</li>
  <li><code class="language-plaintext highlighter-rouge">[Secondary](url){:.button .secondary}</code> - Alternative styling</li>
  <li><code class="language-plaintext highlighter-rouge">[Tertiary](url){:.button .tertiary}</code> - Another alternative</li>
</ul>

<p>Or use the aliases:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">.btn</code> for <code class="language-plaintext highlighter-rouge">.button</code></li>
  <li><code class="language-plaintext highlighter-rouge">.btn.alt</code> for <code class="language-plaintext highlighter-rouge">.button.secondary</code></li>
  <li><code class="language-plaintext highlighter-rouge">.btn.alt2</code> for <code class="language-plaintext highlighter-rouge">.button.tertiary</code></li>
</ul>

<p>The script automatically detects which variant to use and applies the correct CSS styles when converting to email HTML.</p>

<h2 id="backwards-compatibility">Backwards Compatibility</h2>

<p>If you&rsquo;re upgrading from an older version, the script automatically migrates your existing template files to <code class="language-plaintext highlighter-rouge">templates/default/</code> on the first run, so nothing breaks.</p>

<p>The multi-template system makes <code class="language-plaintext highlighter-rouge">mdtosendy</code> much more flexible for managing different email designs, whether you need completely different templates or just variations on a theme. Check out <a href="https://github.com/ttscoff/mdtosendy">the GitHub repo</a> for the latest script and details.</p>

<p>Like or share this post <a title="This post on Mastodon" target="_blank" href="https://hachyderm.io/users/ttscoff/statuses/115810328279317120">on Mastodon</a>, <a title="Share on Bluesky" target="_blank" href="https://bsky.app/intent/compose?text=Markdown+to+HTML+Emails+with+multiple+templates%0A%0Ahttps%3A%2F%2Fbrettterpstra.com%2F2025%2F12%2F30%2Fmarkdown-to-html-emails-with-multiple-templates%2F">Bluesky</a>, or <a class="twitter" target="_blank" rel="nofollow" href="https://twitter.com/intent/tweet?original_referer=https%3A%2F%2Fbrettterpstra.com%2F2025%2F12%2F30%2Fmarkdown-to-html-emails-with-multiple-templates%2F&text=Markdown+to+HTML+Emails+with+multiple+templates&url=https%3A%2F%2Fbrettterpstra.com%2F2025%2F12%2F30%2Fmarkdown-to-html-emails-with-multiple-templates%2F&via=ttscoff" title="Tweet this post">Twitter</a>.</p>
<hr style="margin:40px 0">

<p>BrettTerpstra.com is supported by readers like you. <a href="https://brettterpstra.com/support/">Click here if you'd
        like to help out.</a></p>
<p>Find Brett on <a rel="me" href="https://hachyderm.io/@ttscoff">Mastodon</a>, <a
        href="https://bsky.app/profile/ttscoff.bsky.social">Bluesky</a>, <a
        href="https://github.com/ttscoff">GitHub</a>, and <a href="https://brettterpstra.com/elsewhere">everywhere
        else</a>.</p><img src="https://brett.trpstra.net/link/535/17244103.gif" height="1" width="1"/>