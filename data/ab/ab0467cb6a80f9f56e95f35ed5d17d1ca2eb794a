<p>Added a few improvements to <a href="https://github.com/xenodium/dwim-shell-command">dwim-shell-command</a>.</p>
<h2>Dired region</h2>
<p>In DWIM style, if you happen to have a <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Dired.html">dired</a> region selected, use region files instead. There's no need to explicitly mark them.</p>
<p><img src="https://xenodium.github.io/images/dwim-shell-command-improvements/backup_x2.webp" alt=""></p>
<h2>Clipboard (kill-ring) replacement</h2>
<p>Use <code>&lt;&lt;cb&gt;&gt;</code> to substitute with clipboard content. This is handy for cloning git repos, using a URL copied from your browser.</p>
<pre><code class="language-{.bash">git clone &lt;&lt;cb&gt;&gt;
</code></pre>
<p><img src="https://xenodium.github.io/images/dwim-shell-command-improvements/clone.webp" alt=""></p>
<p>This illustrates <code>&lt;&lt;cb&gt;&gt;</code> usage, but you may want to use <code>dwim-shell-commands-git-clone-clipboard-url</code> from <a href="https://github.com/xenodium/dwim-shell-command/blob/main/dwim-shell-commands.el">dwim-shell-commands.el</a> instead. It does the same thing internally, but makes the command more accessible.</p>
<pre><code class="language-{.commonlisp">(defun dwim-shell-commands-git-clone-clipboard-url ()
  &quot;Clone git URL in clipboard to `default-directory'.&quot;
  (interactive)
  (dwim-shell-command-on-marked-files
   (format &quot;Clone %s&quot; (file-name-base (current-kill 0)))
   &quot;git clone &lt;&lt;cb&gt;&gt;&quot;
   :utils &quot;git&quot;))
</code></pre>
<h2>Counter replacement</h2>
<p>Use <code>&lt;&lt;n&gt;&gt;</code> to substitute with a counter. You can also use <code>&lt;&lt;3n&gt;&gt;</code> to start the counter at 3.</p>
<p>Handy if you'd like to consistently rename or copy files.</p>
<pre><code class="language-{.bash">mv '&lt;&lt;f&gt;&gt;' 'image(&lt;&lt;n&gt;&gt;).png'
</code></pre>
<p><img src="https://xenodium.github.io/images/dwim-shell-command-improvements/numberedsorted_x2.2.webp" alt=""></p>
<p>Can also use an alphabetic counter with <code>&lt;&lt;an&gt;&gt;</code>. Like the numeric version, can use any letter to start the counter with.</p>
<pre><code class="language-{.bash">mv '&lt;&lt;f&gt;&gt;' 'image(&lt;&lt;an&gt;&gt;).png'
</code></pre>
<p><img src="https://xenodium.github.io/images/dwim-shell-command-improvements/alphacount_x2.2.webp" alt=""></p>
<h2>Prefix counter</h2>
<p>Use a <a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Prefix-Command-Arguments.html">prefix command argument</a> on <code>dwim-shell-commands</code> to repeat the command a number of times. Combined with a counter, you can make multiple copies of a single file.</p>
<p><img src="https://xenodium.github.io/images/dwim-shell-command-improvements/repeat.webp" alt=""></p>
<h2>Optional error prompt</h2>
<p>Set <code>dwim-shell-command-prompt-on-error</code> to nil to skip error prompts. Focus process buffers automatically instead.</p>
<p><img src="https://xenodium.github.io/images/dwim-shell-command-improvements/couldnt.png" alt=""></p>
<h2>Configurable prompt</h2>
<p>By default, <code>dwim-shell-command</code> shows all supported placeholders. You can change that prompt to something shorter using <code>dwim-shell-command-prompt</code>.</p>
<p><img src="https://xenodium.github.io/images/dwim-shell-command-improvements/prompt.jpg" alt=""></p>
<h2>⚠️ Use with care ⚠️</h2>
<p>The changes are pretty fresh. Please use with caution (specially the counter support).</p>
