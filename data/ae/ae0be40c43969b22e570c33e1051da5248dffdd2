
	
<p>
Project Euler 7 delves into the wonderful world of prime numbers. These numbers are interesting because they don&#39;t follow a predictable pattern. There is no algorithm to calculate primes, which is what makes them valuable in cryptography. </p>
<p>
As the numbers get larger, the gaps between consecutive primes also increase. There are, however, some interesting patterns. There seem to be infinitely many <a href="https://oeis.org/A077800">twin primes</a>, which are prime numbers that with a difference of two, such as (3, 5), (5, 7) and (11, 13). Another pattern in prime numbers are <a href="https://oeis.org/A023201">sexy primes</a>, which differ by six: e.g. (5,11), (7, 13) and (11, 17). They are called sexy not because these primes are particularly attractive but because of the Latin word for six.</p>
<div id="outline-container-headline-1" class="outline-2">
<h2 id="headline-1">
Project Euler 7 Definition
</h2>
<div id="outline-text-headline-1" class="outline-text-2">
<p>By listing the first six prime numbers: 2, 3, 5, 7, 11, and 13, we can see that the 6th prime is 13. What is the <a href="https://projecteuler.net/problem=7">1,0001st prime number</a>?</p>
</div>
</div>
<div id="outline-container-headline-2" class="outline-2">
<h2 id="headline-2">
Solution
</h2>
<div id="outline-text-headline-2" class="outline-text-2">
<p>Finding the n<sup>th</sup> prime number can only be solved using brute force because primes do not follow a predictable pattern. We don&#39;t have to check whether a number is divisible by any number between 1 and itself. We only have to check whether a number is divisible by all primes between 2 and its square root. The <code class="verbatim">is.prime()</code> function determines whether a number is a prime number by checking that it is not divisible by any prime number up to the square root of the number. The sieve of Eratosthenes used in <a href="https://lucidmanager.org/data-science/project-euler-3/">Euler Problem 3</a> generates the prime numbers. The next step cycles through all odd numbers and increments a counter when we find a prime, stopping at 10001.</p>
<p>
<a href = "https://github.com/pprevos/ProjectEuler/" target="_blank"
   title="Download ProjectEuler from GitHub"
   alt="Download ProjectEuler from GitHub">
  <button class="button is-medium is-primary">
    <span class="icon is-large">
      <i class="fab fa-github"></i>
    </span>
    <span style="font-family: monospace">ProjectEuler</span>
  </button>
</a>

</p>
<div class="src src-r">
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>  <span style="color:#888">## Project Euler 7: 10,0001st Prime Number</span>
</span></span><span style="display:flex;"><span>  <span style="color:#06b;font-weight:bold">source</span>(<span style="background-color:#fff0f0">&#34;problem003.R&#34;</span>, echo <span style="color:#333">=</span> <span style="color:#080;font-weight:bold">FALSE</span>)
</span></span><span style="display:flex;"><span>  is.prime <span style="color:#333">&lt;-</span> <span style="color:#080;font-weight:bold">function</span>(n) {
</span></span><span style="display:flex;"><span>      <span style="color:#080;font-weight:bold">if</span> (n <span style="color:#333">&lt;=</span> <span style="color:#60e;font-weight:bold">1</span>) <span style="color:#080;font-weight:bold">return</span>(<span style="color:#080;font-weight:bold">FALSE</span>)
</span></span><span style="display:flex;"><span>      <span style="color:#080;font-weight:bold">if</span> (n <span style="color:#333">==</span> <span style="color:#60e;font-weight:bold">2</span>) <span style="color:#080;font-weight:bold">return</span>(<span style="color:#080;font-weight:bold">TRUE</span>)
</span></span><span style="display:flex;"><span>      primes <span style="color:#333">&lt;-</span> <span style="color:#06b;font-weight:bold">esieve</span>(<span style="color:#06b;font-weight:bold">ceiling</span>(<span style="color:#06b;font-weight:bold">sqrt</span>(n)))
</span></span><span style="display:flex;"><span>      <span style="color:#080;font-weight:bold">return</span>(<span style="color:#06b;font-weight:bold">prod</span>(n <span style="color:#333">%%</span> primes <span style="color:#333">!=</span> <span style="color:#60e;font-weight:bold">0</span>) <span style="color:#333">==</span> <span style="color:#60e;font-weight:bold">1</span>)
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  answer <span style="color:#333">&lt;-</span> <span style="color:#60e;font-weight:bold">1</span>
</span></span><span style="display:flex;"><span>  n <span style="color:#333">&lt;-</span> <span style="color:#60e;font-weight:bold">1</span> <span style="color:#888"># Start counter</span>
</span></span><span style="display:flex;"><span>  <span style="color:#080;font-weight:bold">while</span> (n <span style="color:#333">&lt;</span> <span style="color:#60e;font-weight:bold">10001</span>) { <span style="color:#888"># Find 10001 prime numbers</span>
</span></span><span style="display:flex;"><span>      answer <span style="color:#333">&lt;-</span> answer <span style="color:#333">+</span> <span style="color:#60e;font-weight:bold">2</span> <span style="color:#888"># Next number</span>
</span></span><span style="display:flex;"><span>      <span style="color:#080;font-weight:bold">if</span>(<span style="color:#06b;font-weight:bold">is.prime</span>(answer)) { 
</span></span><span style="display:flex;"><span>          n <span style="color:#333">&lt;-</span> n <span style="color:#333">+</span> <span style="color:#60e;font-weight:bold">1</span> <span style="color:#888"># Increment counter</span>
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#06b;font-weight:bold">print</span>(answer)</span></span></code></pre></div>
</div>
</div>
</div>
<div id="outline-container-headline-3" class="outline-2">
<h2 id="headline-3">
Sexy Primes
</h2>
<div id="outline-text-headline-3" class="outline-text-2">
<p>The largest gap between two primes for the first 10,001 is 72. Sexy primes with a gap of 6 are the most common, as shown in the figure below.</p>
<figure>
<img src="https://lucidmanager.org/images/project-euler/problem-007.png" alt="Frequency or prime gaps for the first 10,001 prime numbers." title="Frequency or prime gaps for the first 10,001 prime numbers."/>
<figcaption>
Frequency or prime gaps for the first 10,001 prime numbers.
</figcaption>
</figure>
<div class="src src-r">
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>  <span style="color:#888">## Sexy Primes</span>
</span></span><span style="display:flex;"><span>  <span style="color:#06b;font-weight:bold">library</span>(ggplot2)
</span></span><span style="display:flex;"><span>  <span style="color:#06b;font-weight:bold">library</span>(dplyr)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  primes <span style="color:#333">&lt;-</span> <span style="color:#06b;font-weight:bold">esieve</span>(answer)
</span></span><span style="display:flex;"><span>  p <span style="color:#333">&lt;-</span> <span style="color:#06b;font-weight:bold">length</span>(primes)
</span></span><span style="display:flex;"><span>  gaps <span style="color:#333">&lt;-</span> <span style="color:#06b;font-weight:bold">tibble</span>(Gap <span style="color:#333">=</span> primes[2<span style="color:#333">:</span>p] <span style="color:#333">-</span> primes[1<span style="color:#333">:</span>(p <span style="color:#333">-</span> <span style="color:#60e;font-weight:bold">1</span>)],
</span></span><span style="display:flex;"><span>                     Sexy <span style="color:#333">=</span> Gap <span style="color:#333">%%</span> <span style="color:#60e;font-weight:bold">6</span> <span style="color:#333">==</span> <span style="color:#60e;font-weight:bold">0</span>) <span style="color:#333">%&gt;%</span>
</span></span><span style="display:flex;"><span>      <span style="color:#06b;font-weight:bold">count</span>(Gap, Sexy)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#06b;font-weight:bold">ggplot</span>(gaps, <span style="color:#06b;font-weight:bold">aes</span>(<span style="color:#06b;font-weight:bold">factor</span>(Gap), n, fill <span style="color:#333">=</span> Sexy)) <span style="color:#333">+</span>
</span></span><span style="display:flex;"><span>      <span style="color:#06b;font-weight:bold">geom_col</span>() <span style="color:#333">+</span>
</span></span><span style="display:flex;"><span>      <span style="color:#06b;font-weight:bold">scale_fill_manual</span>(values <span style="color:#333">=</span> <span style="color:#06b;font-weight:bold">c</span>( <span style="background-color:#fff0f0">&#34;#7391AB&#34;</span>, <span style="background-color:#fff0f0">&#34;#A62102&#34;</span>), name <span style="color:#333">=</span> <span style="background-color:#fff0f0">&#34;Sexy Prime Gap&#34;</span>) <span style="color:#333">+</span>
</span></span><span style="display:flex;"><span>      <span style="color:#06b;font-weight:bold">theme_minimal</span>(base_size <span style="color:#333">=</span> <span style="color:#60e;font-weight:bold">10</span>) <span style="color:#333">+</span> 
</span></span><span style="display:flex;"><span>      <span style="color:#06b;font-weight:bold">labs</span>(title <span style="color:#333">=</span> <span style="background-color:#fff0f0">&#34;Frequency of prime gaps for the first 10,000 primes&#34;</span>,
</span></span><span style="display:flex;"><span>          x <span style="color:#333">=</span> <span style="background-color:#fff0f0">&#34;Prime Gap&#34;</span>,
</span></span><span style="display:flex;"><span>          y <span style="color:#333">=</span> <span style="background-color:#fff0f0">&#34;Frequency&#34;</span>)
</span></span><span style="display:flex;"><span>          <span style="color:#06b;font-weight:bold">guide_legend</span>(title <span style="color:#333">=</span> <span style="background-color:#fff0f0">&#34;Sexy Primes&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#06b;font-weight:bold">ggsave</span>(<span style="background-color:#fff0f0">&#34;images/problem-007.png&#34;</span>, width <span style="color:#333">=</span> <span style="color:#60e;font-weight:bold">6</span>, height <span style="color:#333">=</span> <span style="color:#60e;font-weight:bold">4</span>)</span></span></code></pre></div>
</div>
<figure>
<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share; fullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/WJ12DYBuazY?autoplay=0&amp;controls=1&amp;end=0&amp;loop=0&amp;mute=0&amp;start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"></iframe>
    </div>

<figcaption>
Sexy Primes - Numberphile.
</figcaption>
</figure>
<p>
<a href = "https://www.r-bloggers.com/" target="_blank" title="Proudly associated with R-Bloggers">
  <button class="button is-link is-medium">
    <span class="icon is-large">
      <i class="fab fa-r-project"></i>
    </span>
    <span>As seen on R Bloggers</span>
  </button>
</a>
</p>
</div>
</div>

      