<p><img src="https://cdn3.brettterpstra.com/uploads/2026/01/howzit-conditionals-rb.7519.jpg" width="800" height="226" style="margin:0 auto;clear:both;" class="header" /></p>
<p>Happy New Year! I spent some time this morning developing some features for Howzit that I think will be really useful (at least for me).</p>

<p><a href="https://brettterpstra.com//projects/howzit">Howzit</a> is my tool for documenting my project structure/build/deploy/CI methods and instructions, with the ability to execute code from the Markdown documentation. I use it in every project I create, and it makes it really easy to come back to a project where I&rsquo;ve forgotten exactly how it works. For example, every project has a &ldquo;Deploy&rdquo; topic where I detail the steps for deploying/publishing. In any project, I can type <code class="language-plaintext highlighter-rouge">howzit deploy</code> and get the instructions, and <code class="language-plaintext highlighter-rouge">howzit -r deploy</code> will just execute my automated deploy scripts.</p>

<p>I added a couple of advanced features this morning.</p>

<h3 id="script-to-howzit-communication">Script-to-Howzit Communication</h3>

<p>Scripts can now communicate back to Howzit while they&rsquo;re running. This lets scripts send log messages and set variables that can be used in subsequent tasks or conditional blocks.</p>

<p>The communication happens through a temporary file. Howzit sets the <code class="language-plaintext highlighter-rouge">HOWZIT_COMM_FILE</code> environment variable to point to this file, and your scripts can write to it using a simple format:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight fixed"><code>LOG:info:This is an info message
LOG:warn:This is a warning
LOG:error:Something went wrong
VAR:MY_VAR=some_value</code></pre></div></div>

<p>For example, in a bash script:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight fixed"><code><span class="c">#!/bin/bash</span>
<span class="k">if</span> <span class="o">[</span> <span class="nt">-n</span> <span class="s2">"</span><span class="nv">$HOWZIT_COMM_FILE</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
  </span><span class="nb">echo</span> <span class="s2">"LOG:info:Starting deployment process"</span> <span class="o">&gt;&gt;</span> <span class="s2">"</span><span class="nv">$HOWZIT_COMM_FILE</span><span class="s2">"</span>
  <span class="nb">echo</span> <span class="s2">"VAR:DEPLOY_STATUS=in_progress"</span> <span class="o">&gt;&gt;</span> <span class="s2">"</span><span class="nv">$HOWZIT_COMM_FILE</span><span class="s2">"</span>
<span class="k">fi</span>

<span class="c"># ... do your deployment ...</span>

<span class="k">if</span> <span class="o">[</span> <span class="nt">-n</span> <span class="s2">"</span><span class="nv">$HOWZIT_COMM_FILE</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
  </span><span class="nb">echo</span> <span class="s2">"LOG:info:Deployment complete"</span> <span class="o">&gt;&gt;</span> <span class="s2">"</span><span class="nv">$HOWZIT_COMM_FILE</span><span class="s2">"</span>
  <span class="nb">echo</span> <span class="s2">"VAR:DEPLOY_STATUS=complete"</span> <span class="o">&gt;&gt;</span> <span class="s2">"</span><span class="nv">$HOWZIT_COMM_FILE</span><span class="s2">"</span>
<span class="k">fi</span></code></pre></div></div>

<p>Variables set by scripts are merged into Howzit&rsquo;s named arguments, so they&rsquo;re available for variable substitution (<code class="language-plaintext highlighter-rouge">${VAR}</code>) in subsequent tasks and can be used in conditional blocks. Log messages are displayed through Howzit&rsquo;s console logger at the appropriate log level.</p>

<p>This is particularly useful for scripts that need to communicate their status or set flags that affect later tasks. See the <a href="https://github.com/ttscoff/howzit/wiki/Script-to-Howzit-Communication">Script-to-Howzit Communication wiki page</a> for complete details and examples.</p>

<h3 id="conditional-blocks">Conditional Blocks</h3>

<p>Howzit now supports conditional blocks, so you can include or exclude content and tasks based on conditions. Use <code class="language-plaintext highlighter-rouge">@if</code> and <code class="language-plaintext highlighter-rouge">@unless</code> directives to control what appears in your build notes.</p>

<h4 id="basic-conditional-blocks">Basic Conditional Blocks</h4>

<p>The syntax is straightforward:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight fixed"><code>@if environment == "production"
@run(./deploy-prod.sh) Deploy to Production
@end

@unless $SKIP_TESTS == "1"
@run(./test.sh) Run Tests
@end</code></pre></div></div>

<p>You can also use <code class="language-plaintext highlighter-rouge">@elsif</code> and <code class="language-plaintext highlighter-rouge">@else</code> for multiple branches:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight fixed"><code>@if env == "production"
Production setup
@elsif env == "staging"
Staging setup
@else
Development setup
@end</code></pre></div></div>

<h4 id="string-comparison-operators">String Comparison Operators</h4>

<p>Conditions support various string comparison operators. The newest addition is the fuzzy match operator <code class="language-plaintext highlighter-rouge">**=</code>, which matches if the search string&rsquo;s characters appear in order within the target string. For example, <code class="language-plaintext highlighter-rouge">"fluffy" **= "ffy"</code> matches because the characters f, f, and y appear in order.</p>

<p>Other operators include <code class="language-plaintext highlighter-rouge">==</code> for exact equality, <code class="language-plaintext highlighter-rouge">*=</code> for contains, <code class="language-plaintext highlighter-rouge">^=</code> for starts with, <code class="language-plaintext highlighter-rouge">$=</code> for ends with, and <code class="language-plaintext highlighter-rouge">=~</code> for regex matching. See the <a href="https://github.com/ttscoff/howzit/wiki/Conditional-Blocks">Conditional Blocks wiki page</a> for details on all comparison operators.</p>

<h4 id="file-contents-conditions">File Contents Conditions</h4>

<p>You can now check file contents directly in conditions:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight fixed"><code>@if file contents VERSION.txt ^= 0.
Version starts with 0.
@end

@if file contents CHANGELOG.md *= "Breaking"
Changelog contains breaking changes
@end</code></pre></div></div>

<p>The file path can be a literal path or a variable from metadata, named arguments, or environment variables. This makes it easy to check version files, configuration files, or any other file content as part of your conditional logic.</p>

<h4 id="special-conditions">Special Conditions</h4>

<p>Howzit also supports special conditions like <code class="language-plaintext highlighter-rouge">git dirty</code>, <code class="language-plaintext highlighter-rouge">git clean</code>, <code class="language-plaintext highlighter-rouge">file exists</code>, <code class="language-plaintext highlighter-rouge">dir exists</code>, and <code class="language-plaintext highlighter-rouge">topic exists</code>. You can even check the current working directory with <code class="language-plaintext highlighter-rouge">cwd</code> using string comparison operators.</p>

<p>Check out the <a href="https://brettterpstra.com//projects/howzit">Howzit project page</a> for general details. For complete documentation on all condition types, operators, and examples, check out the <a href="https://github.com/ttscoff/howzit/wiki/Conditional-Blocks">Conditional Blocks wiki page</a>.</p>

<p>Please enjoy, and may Howzit make your 2026 project development smooth!</p>

<p>Like or share this post <a title="This post on Mastodon" target="_blank" href="https://hachyderm.io/users/ttscoff/statuses/115820691643634397">on Mastodon</a>, <a title="Share on Bluesky" target="_blank" href="https://bsky.app/intent/compose?text=Howzit+with+conditional+blocks%0A%0Ahttps%3A%2F%2Fbrettterpstra.com%2F2026%2F01%2F01%2Fhowzit-with-conditional-blocks%2F">Bluesky</a>, or <a class="twitter" target="_blank" rel="nofollow" href="https://twitter.com/intent/tweet?original_referer=https%3A%2F%2Fbrettterpstra.com%2F2026%2F01%2F01%2Fhowzit-with-conditional-blocks%2F&text=Howzit+with+conditional+blocks&url=https%3A%2F%2Fbrettterpstra.com%2F2026%2F01%2F01%2Fhowzit-with-conditional-blocks%2F&via=ttscoff" title="Tweet this post">Twitter</a>.</p>
<hr style="margin:40px 0">

<p>BrettTerpstra.com is supported by readers like you. <a href="https://brettterpstra.com/support/">Click here if you'd
        like to help out.</a></p>
<p>Find Brett on <a rel="me" href="https://hachyderm.io/@ttscoff">Mastodon</a>, <a
        href="https://bsky.app/profile/ttscoff.bsky.social">Bluesky</a>, <a
        href="https://github.com/ttscoff">GitHub</a>, and <a href="https://brettterpstra.com/elsewhere">everywhere
        else</a>.</p><img src="https://brett.trpstra.net/link/535/17245090.gif" height="1" width="1"/>