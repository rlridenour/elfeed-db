<p>Navigating through lengthy org files can sometimes feel cumbersome. To address this I have tweaked <code>org-goto</code> to be a little more usable through the minibuffer completion system to jump to any org heading.</p>
<p>I have been aware of the <code>org-goto</code> command for a while now, which technically, allows for the efficient navigation through an org file.  Every now and then I give it a go, but it just feels clunky and some of the keybindings don&rsquo;t quite feel intuitively Emacs for some reason.</p>
<p>Now my org files are getting more elaborate, I would like a better way to navigate and especially through the hierarchy of headings.</p>
<p>What about <code>org-imenu-depth</code> I hear you say!  Well as far as I can tell, this allows stepping through to a defined subheading level but while going through multiple menu/hierarchical selection steps.  For efficiency, I would like a way to flatten the subheadings for a one-shot completion selection method.  This is where <code>org-goto</code> can actually be adapted to satisfy this need, and I think leverages the org refile menu system.</p>
<p>To achieve this, some variables will require changing, firstly:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(setq org-goto-interface <span style="color:#e6db74">&#39;outline-path-completionp</span>)
</span></span></code></pre></div><p>The <code>org-goto-interface</code> variable defines the interface you use to navigate when calling <code>org-goto</code>. By default, org goto uses a mixed interface with direct completion and an alternative outline-based navigation using buffers. I prefer the <strong>outline-path-completionp</strong> setting, which provides a breadcrumb-like structure for easier navigation through the minibuffer completion system.</p>
<p>By default, Org modeâ€™s outline-path interface works in steps, which means you select one heading level at a time. I find this behaviour a bit clunky, especially for larger files. Fortunately, you can disable this step-by-step behaviour by setting <code>org-outline-path-complete-in-steps</code> to <code>nil</code> which flattens the presented org goto heading list when activated so you can see the full list of headings/subheadings in a single step and therefore be able to navigate directly to your desired location.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(setq org-outline-path-complete-in-steps <span style="color:#66d9ef">nil</span>)
</span></span></code></pre></div><hr>
<p>Lets demonstrate how this now works with an example.</p>
<p>Given the following org:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-org" data-lang="org"><span style="display:flex;"><span>*<span style="font-weight:bold"> Heading 1</span>
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>*<span style="font-weight:bold"> Heading 2</span>
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span><span style="color:#75715e">**</span> Subheading 2.1
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>*<span style="font-weight:bold"> Subheading 3</span>
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span><span style="color:#75715e">**</span> Subheading 3.1
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span><span style="color:#75715e">***</span> Subheading 3.1.1
</span></span></code></pre></div><p>imenu would just allow navigation to leaf nodes and not the higher subdirectories.</p>
<p>(Note : I use <code>fido-mode=/=icomplete</code>):</p>
<p>Here is the minibuffer menu presented when <code>imenu</code> is activated by default:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-org" data-lang="org"><span style="display:flex;"><span>(Heading.1 | Heading.2 | <span style="font-weight:bold">*Rescan*</span> | Subheading.3)
</span></span></code></pre></div><p>For example, I can navigate to Heading 1 but what about Heading 2 or Heading 3?, when selecting these headings that have subheadings it will take me into further leaf node menus for selection.</p>
<p>This is where the setup above for <code>org-goto</code> comes in handy as it now presents the following:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-org" data-lang="org"><span style="display:flex;"><span>{Heading 2/ | Heading 2<span style="font-style:italic">/Subheading 2.1/</span> | Heading 1<span style="font-style:italic">/ | Subheading 3/</span> | Subheading 3<span style="font-style:italic">/Subheading 3.1/</span> | Subheading 3/Subheading 3.1<span style="font-style:italic">/Subheading 3.1.1/</span>}
</span></span></code></pre></div><p>Where of course the minibuffer completion system can complete to not just the leaf nodes but also the higher level subheadings, allowing navigation to any org heading!</p>
<figure><img src="https://emacs.dyerdwelling.family/ox-hugo/20241228131958-emacs--Streamlining-Navigation-in-Org-Mode.jpg" width="100%">
</figure>