<p>Last week I attended the <a href="http://www.sbcl.org/sbcl20/">SBCL 20th anniversary
workshop</a>, held in Vienna, Austria. Here
are some rough impressions - I wish I had detailed enough notes to
recreate the experience for those who did not attend, but alas, this
is what you get! It&rsquo;s incomplete and I&rsquo;m sorry if I&rsquo;ve left out
someone unfairly - you have to go yourself next time so you don&rsquo;t miss
a thing.</p>

<h2>Structure of the gathering</h2>

<p>I didn&rsquo;t go to SBCL10, so I didn&rsquo;t know what to expect. There were few
speakers announced, and I worried (to myself) that this was a sign of
insufficient participation, but I couldn&rsquo;t have been more wrong.</p>

<p>Philipp Marek played host at his employer,
<a href="https://www.brz.gv.at/en">BRZ</a>. We had a large room laid out with
several tables, ample power, notepads, markers, and treats, fresh food
and drink, and a stage area with chairs set out for an audience.</p>

<p>The conference lead off with a BRZ representative who explained BRZ&rsquo;s
purpose with an English-language video and encouraged qualified people
to consider joining the company.</p>

<p>Christophe Rhodes acted as master of ceremonies. He put the conference
in historical context and explained the format. While there were only
a small number of planned talks, the remainder of the two-day
conference was intended for brainstorming, reminiscing, hacking, and
impromptu talks by anyone with an interesting idea, demo, or
controversial proclamation. He challenged all of us to pick something
to work on and present it by the end of the conference.</p>

<p>With everyone in the same room, it was nice to see people help each
other in unexpected ways. People describing a problem would get
interrupted by people who could help. And not &ldquo;Have you tried
installing My Favorite Linux?&rdquo;-type unhelpful speculation - it was
always valuable in one form or another. The breadth and depth of SBCL
and Common Lisp knowledge meant that, for example, someone could
explain why a certain decision was made in CMUCL 30 years ago, why
SBCL went in a different direction 20 years ago, and how things could
be improved today.</p>

<p>I chose to revisit a problem I first wrote about <a href="https://lispblog.xach.com/post/104872127228/a-verbosity-conundrum">five years
ago</a>. It
boils down to this: can a third party (Quicklisp, in this case)
control the dynamic environment of each load-system operation when
recursively loading a system? The SBCL connection is a little loose,
but it relates to how SBCL&rsquo;s compiile-time analysis warnings should be
shown prominently for local development, even when loading systems
with <code>ql:quickload</code>.</p>

<p>A lot of people pitched in with ideas and suggestions. Mark Evanson in
particular acted as a sounding board in a way that helped me get to
the essence of the problem. Unfortunately, I wasn&rsquo;t able to find a
solution before the end of the conference.</p>

<p><img src="https://64.media.tumblr.com/c2640353523cca50450ac58125ff3671/adeea331015c731a-2f/s540x810/1edeefe8fa4df4d6db16a729b47e7675cbe92d06.jpg" alt=""/></p>

<h2>Robert Smith and Lisp at Rigetti</h2>

<p>Robert gave an introduction to the math behind quantum computing, and
then described the success Rigetti has had with SBCL and Common Lisp
for building its <a href="https://github.com/rigetti/qvm/">quantum computing
simulator</a> and
<a href="https://github.com/rigetti/">compiler</a>. CL allows exploring and
adopting new ideas at a very quick pace. I liked that it wasn&rsquo;t
high-level &ldquo;Lisp is great!&rdquo; preaching to the choir, but gave some
specific practical examples of how CL features made life easier.</p>

<h2>Charlie Zhang and RISC-V</h2>

<p>Charlie is a newcomer to SBCL development as of 2019. In the span of a
few months added a new compiler backend for fun. He talked about the
challenges of understanding and extending SBCL, and some of his future
plans.</p>

<p>He generated backend the assembly with the Lisp assembler - it gave
full advantages of Lisp for code manipulation at the assembly
level. First and only backend to do so!</p>

<p>Funniest fact I overheard at dinner after the workshop: &ldquo;I don&rsquo;t even
use Common Lisp for anything, I just hack on the compiler!&rdquo;</p>

<p><img src="https://64.media.tumblr.com/f5c44986df592cd94d8d18448bb3e2c5/adeea331015c731a-d7/s540x810/ca9ceecb4ed330335baa2fbd81201fead3d13ea4.jpg" alt=""/></p>

<h2>Doug Katzman and SBCL as a Unix program</h2>

<p>Doug Katzman talked about his recent work at Google aimed at making
SBCL play well with Unix tools. Specifically debugging and profiling
tools that expect a binary to act in a certain way and to provide
debugging and stack info in a specific format. This makes it easier to
provide insight into how SBCL is spending its time when there are
many, many instances running across many, many computers. And with so
many instances running, the benefits of improving performance add up
in significant ways.</p>

<p>This use case is far removed from my typical live, ongoing,
interactive development session with SBCL. It was interesting to learn
about the constraints and requirements of Lisp servers in that kind of
environment.</p>

<p><img src="https://64.media.tumblr.com/21693299a649bbd884b4a8297d2b3ad3/adeea331015c731a-8c/s540x810/f0120ba192277970e9c1d9efa177a0e0c1bf8ca0.jpg" alt=""/></p>

<h2>Other talks</h2>

<p><img src="https://64.media.tumblr.com/16c6daae6a911c72efca12ac824887f3/adeea331015c731a-dd/s540x810/147393d8085972813eb1886dadc75e0f1b6ccae8.jpg" alt=""/></p>

<p>There were a dozen or more short presentations and talks about various
topics. <a href="http://kvardek-du.kerno.org">Lu√≠s</a> talked about porting an
application to SBCL from another Lisp and some of the good and bad
parts along the way. Charlie talked about <a href="https://www.cs.rit.edu/~mtf/research/contification/">contification
optimization</a> for
SBCL. There were quick talks about tuning the GC, <a href="https://github.com/marcoheisig/sb-simd">SIMD extensions</a>,
missing features of SBCL,
<a href="https://github.com/stylewarning/coalton">Coalton</a>, CL support in
<a href="http://swig.org">SWIG</a>, and several more.</p>

<h2>Bits and pieces</h2>

<ul>
<li>There are more commits to SBCL now than ever before, despite there
being fewer people contributing overall</li>
<li>It would nice to have support for good CL interaction in popular new
editors, but some of the existing components
(e.g. <a href="https://langserver.org">LSP</a>) are insufficient to support
SLIME-like levels of interaction</li>
<li><a href="https://www.siscog.pt/">Siscog</a> has more than 60 people who work on
Lisp programs - biggest collection in the world?</li>
</ul>

<p><img src="https://64.media.tumblr.com/d9ab8fd9eba6c9724e0895c6b1ea52e3/adeea331015c731a-db/s540x810/63b4886416989f7fdec0a07209c32bffcad4f802.jpg" alt=""/></p>

<h2>Closing wishlist items</h2>

<p>Christophe solicited wishlist items to close out the conference. Here
are a few that I jotted down:</p>

<ul>
<li>Debug-oriented interpeter, e.g. with macroexpand-always behavior
(the current interpreters do not especially improve the debug
experience)</li>
<li>Profile-based compilation feedback (sort of like tracing jit but not
exactly?)</li>
<li>Class sealing</li>
<li>Full configurable numeric tower</li>
<li>Arbitrary-precision floats</li>
<li>Concurrent GC - GC pauses cited by more than one person as a pain
point</li>
</ul>

<h2>Overall</h2>

<p>I had a great time at SBCL20 and it renewed my energy for working on
Common Lisp projects. It&rsquo;s great to see in person the people you are
helping when you create or contribute to a community project.</p>

<p>Thanks to everyone who attended and spoke, to Philipp Marek for
hosting, and to Christophe Rhodes for acting as MC and much more.</p>

<p>It&rsquo;s too long to wait for SBCL30. How about an SBCL25, or even sooner?</p>

<p>See you there!</p>

<p><img src="https://64.media.tumblr.com/447dbe33043542232e914436cc15c5c1/adeea331015c731a-17/s540x810/176d3c9d0f997310840115ee773c75d4b55703e7.jpg" alt=""/></p>