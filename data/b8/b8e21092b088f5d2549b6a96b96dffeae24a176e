<p>While I do most editing in Emacs, I use Xcode every now and then. I like Xcode's pair matching (of brackets) combined with its auto-indent.</p>
<p><img src="https://xenodium.github.io/images/emacs-smartparens-auto-indent/xcode_indent.gif" alt=""></p>
<p>While the wonderful <a href="https://github.com/Fuco1/smartparens">smartparens</a> gives Emacs pair-matching powers, it doesn't automatically indent between pairs (out of the box anyway).</p>
<p><img src="https://xenodium.github.io/images/emacs-smartparens-auto-indent/indent_bracket_before.gif" alt=""></p>
<p>Luckily, smartparens does provide <em>sp-local-pair,</em> which enables us to achieve a similar goal.</p>
<p>With a short snippet, we can autoindent between {}, [], and () when pressing return in-between.</p>
<pre><code class="language-{.commonlisp">(defun indent-between-pair (&amp;rest _ignored)
  (newline)
  (indent-according-to-mode)
  (forward-line -1)
  (indent-according-to-mode))

(sp-local-pair 'prog-mode &quot;{&quot; nil :post-handlers '((indent-between-pair &quot;RET&quot;)))
(sp-local-pair 'prog-mode &quot;[&quot; nil :post-handlers '((indent-between-pair &quot;RET&quot;)))
(sp-local-pair 'prog-mode &quot;(&quot; nil :post-handlers '((indent-between-pair &quot;RET&quot;)))
</code></pre>
<p><img src="https://xenodium.github.io/images/emacs-smartparens-auto-indent/indent_bracket_after.gif" alt=""></p>
<p>comments on <a href="https://twitter.com/xenodium/status/1241104117264781312">twitter</a></p>
