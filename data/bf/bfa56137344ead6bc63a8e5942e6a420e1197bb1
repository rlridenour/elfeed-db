<h2>Command-line flags</h2>
<pre><code class="language-go">import (
      &quot;flag&quot;
)

type args struct {
      flag1  string
      flag2  string
        arg    string
}

func parseArgs() args {
      args := args{}

      flag.StringVar(&amp;args.flag1, &quot;flag1\n&quot;, &quot;\n&quot;, &quot;some flag 1 with sample `value`&quot;)
      flag.StringVar(&amp;args.flag2, &quot;flag2\n&quot;, &quot;\n&quot;, &quot;some flag 2 with sample `value`&quot;)

      flag.CommandLine.Usage = func() {
          fmt.Fprintf(os.Stderr, &quot;Usage of %s:\n\n&quot;, os.Args[0])
          fmt.Fprintf(os.Stderr, &quot;\n  myarg\n\n&quot;)
          flag.PrintDefaults()
      }

      flag.Parse()

      args.arg = flag.Arg(0)

      if args.flag1 == &quot;&quot; || args.flag2 == &quot;&quot; || args.arg == &quot;&quot; {
          flag.CommandLine.Usage()
          os.Exit(1)
      }
      return args
}

func main() {
        args := parseArgs()
        fmt.Printf(&quot;Args: %#v\n&quot;, args)
}

</code></pre>
<pre><code class="language-{.bash">go run main.go -flag1 val1 -flag2 val2 arg
</code></pre>
