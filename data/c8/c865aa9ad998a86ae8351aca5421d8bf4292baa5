<p>I don&rsquo;t have much reason to use <code>git bisect</code> usually, but today I noticed that
a bug in an open source project had been fixed and I wanted to figure out when.</p>
<p>The main gotcha was that <code>git bisect</code> usually assumes that you&rsquo;re trying to
figure out when a bug was <strong>introduced</strong> (not fixed), so I had to reverse everything.</p>
<p><strong>step 1</strong>: Write a script <code>test.sh</code> that fails if the bug is fixed (so I had to reverse the exit codes):</p>
<pre><code>pip3 install .
if unbuffer sqlite-utils insert test.db test --csv test.csv | grep -o '100.......' | grep 25h
then
    # this means the bug is fixed, so fail (reverse the output)
    exit 1
else
    exit 0
fi
</code></pre>
<p><strong>step 2: run git bisect</strong></p>
<pre><code>git bisect start
# we have to mark the current state as &quot;bad&quot; even though it's technically the
# old state that was &quot;bad&quot;
git bisect bad main
git bisect good 0d45ee11
git bisect run test.sh
</code></pre>
<p>It worked perfectly and after 10 seconds gave me the exact commit that had fixed the bug.</p>
