<p>[Equations in this post may not look right (or appear at all) in your RSS reader. Go to <a href="https://leancrew.com/all-this/2025/04/prime-trivia/">the original article</a> to see them rendered properly.]</p>
  <hr />
  <p>I was at a trivia contest last night, and one of the questions was: What is the largest three-digit prime number? One of my teammates and I both guessed 997 and went about trying to prove or disprove it before the next question came up.</p>
<p>We agreed that 997 wasn’t a multiple of 7. My thinking was that since</p>
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML">
<mn>997</mn><mo>-</mo><mn>700</mn><mo>=</mo><mn>297</mn>
</math>
<p>and</p>
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML">
<mn>297</mn><mo>-</mo><mn>280</mn><mo>=</mo><mn>17</mn>
</math>
<p>and 17 isn’t a multiple of 7, 997 isn’t a multiple of 7. Similarly, since</p>
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML">
<mn>997</mn><mo>-</mo><mn>990</mn><mo>=</mo><mn>7</mn>
</math>
<p>997 isn’t a multiple of 11, either. I was trying to work out my reasoning for 13, starting with</p>
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML">
<mn>997</mn><mo>-</mo><mn>390</mn><mo>×</mo><mn>2</mn><mo>=</mo><mn>217</mn>
</math>
<p>when we decided to just go with 997 as our answer because time was running out. Later I realized that I should have used a different multiple of 13 and done the subtraction in the other direction:</p>
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML">
<mn>520</mn><mo>×</mo><mn>2</mn><mo>-</mo><mn>997</mn><mo>=</mo><mn>43</mn>
</math>
<p>It’s more obvious—to me, anyway—that 43 isn’t a multiple of 13 than that 217 isn’t.</p>
<p>Despite our failure to check if it was a multiple of 13 (or any higher prime), we got the answer right.</p>
<p>If you’re feeling an itch to tell me some rules about checking divisibility, don’t bother. As Matt Parker said in <a href="https://www.youtube.com/watch?v=6pLz8wEQYkA">this video</a>, there are an endless number of them, and I just don’t see myself committing any of them—other than the rule for 3, which I’ve known since I was a kid—to memory. Integer arithmetic doesn’t show up much in structural or mechanical engineering and has never seemed natural<sup id="fnref:natural"><a href="#fn:natural" rel="footnote">1</a></sup> to me.</p>
<p>This morning, I decided to look into how Mathematica handles primes. One function, <a href="http://reference.wolfram.com/language/ref/Prime.html"><code>Prime[n]</code></a>, returns the <em>n<sup>th</sup></em> prime number, and another, <a href="http://reference.wolfram.com/language/ref/PrimePi.html"><code>PrimePi[x]</code></a> gives the number of primes less than or equal to <em>x</em>. It gets its name from the <a href="https://mathworld.wolfram.com/PrimeCountingFunction.html">prime counting function</a>, <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>π</mi><mn>(</mn><mi>x</mi><mn>)</mn></math></p>
<p>I put these functions together like this,</p>
<pre><code>Prime[PrimePi[999]]
</code></pre>
<p>to get 997, which is a reasonably convenient way to get the largest prime less than or equal to a number. But what if I wanted to get the five largest three-digit primes?</p>
<p>I could work my way down the ladder.</p>
<pre><code>Prime[PrimePi[996]]
</code></pre>
<p>returns 991, and</p>
<pre><code>Prime[PrimePi[990]]
</code></pre>
<p>returns 983. But this is tedious, and there should be a way to get them all at once. One way is to use the <a href="http://reference.wolfram.com/language/ref/Table.html"><code>Table[]</code></a> function to get a list of all the three-digit primes,</p>
<pre><code>Table[Prime[n], {n, PrimePi[999]}]
</code></pre>
<p>and then pull out just the last five:</p>
<pre><code>Table[Prime[n], {n, PrimePi[999]}][[-5;;]]
</code></pre>
<p>This returns a list comprising 971, 977, 983, 991, and 997. I find Mathematica’s <a href="http://reference.wolfram.com/language/ref/Part.html">list indexing notation</a> hard to remember, mainly because everything is doubled. The brackets have to be doubled because Mathematica uses single brackets to enclose function arguments. And the double semicolons are a single term; the expression</p>
<pre><code>[[-5;;]]
</code></pre>
<p>means “start 5 items from the end and go to the end.” It’s like</p>
<pre><code>[-5:] 
</code></pre>
<p>in Python, only harder to read.</p>
<p>Although it’s not obvious from the documentation, <code>Prime[]</code> can take a list of integers as its argument and will return the corresponding list of primes. So</p>
<pre><code>Prime[{1, 2, 3, 4, 5, 6}]
</code></pre>
<p>returns the list comprising 2, 3, 5, 7, 11, and 13. We can use this and the <a href="http://reference.wolfram.com/language/ref/Range.html"><code>Range[n]</code></a> function to simplify our expression for the five largest three-digit primes:</p>
<pre><code>Prime[Range[PrimePi[999]]][[-5;;]]
</code></pre>
<p>OK, it’s not <em>that</em> much simpler. I often think Mathematica and Perl are too heavily influenced by <a href="https://www.oreilly.com/library/view/practical-mod_perl/0596002270/ch13.html">TMTOWTDI</a>.</p>
<div class="footnotes">
<hr/>
<ol>
<li id="fn:natural">
<p>Yes, that’s an intentional pun. <a href="#fnref:natural" rev="footnote">↩</a></p>
</li>
</ol>
</div>
  
