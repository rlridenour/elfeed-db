<p>My sacred emacs is taking 13 seconds to start up!</p>
<figure class="emacs-img"><img src="https://emacs.dyerdwelling.family/ox-hugo/emacs--profiling-and-accidental-learning__emacs_linux.jpg">
</figure>

<p>This is not good, I have read somewhere about a built in profiler, and indeed when I <strong>ivy</strong> complete for a function <strong>profiler</strong> I find a plethora of options.  <strong>profiler-start</strong> looks good, and with a little intersearching it all seems simple enough, except it looks as though it probably won&rsquo;t solve my start up problems but will profile any commands I execute in emacs, so would solve for example an issue I had in the past with <strong>deft</strong> starting up.</p>
<p>I found a good option in <strong>esup</strong>, added the following to my .emacs :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-elisp" data-lang="elisp"><span style="display:flex;"><span>(use-package esup
</span></span><span style="display:flex;"><span>  :ensure <span style="color:#66d9ef">t</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">;; To use MELPA Stable use &#34;:pin melpa-stable&#34;,</span>
</span></span><span style="display:flex;"><span>  :pin melpa)
</span></span></code></pre></div><p>initially it didn&rsquo;t work and gave me the following:</p>
<pre tabindex="0"><code class="language-nil" data-lang="nil">error in process sentinel: Wrong type argument: (or eieio-object class), nil, obj
</code></pre><p>but with a little research I managed to fix it with adding the following to my .emacs :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-elisp" data-lang="elisp"><span style="display:flex;"><span><span style="color:#75715e">;; Work around a bug where esup tries to step into the byte-compiled</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; version of `cl-lib&#39;, and fails horribly.</span>
</span></span><span style="display:flex;"><span>(setq esup-depth <span style="color:#ae81ff">0</span>)
</span></span></code></pre></div><p>and on running <strong>esup</strong> I get a nice report generated with the top offenders in my <em>.emacs</em> <strong>org-download</strong> was at the top:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-elisp" data-lang="elisp"><span style="display:flex;"><span><span style="color:#f92672">.</span>emacs:36  0.264sec   22%
</span></span><span style="display:flex;"><span>(use-package org-download)
</span></span></code></pre></div><p>I like the way it runs up a separate child emacs session to test out the timing on the init file and then generated a report.</p>
<p>But overall the total time was <em>1.166sec</em> there must be something else going on here.  At which point I twigged and remembered that as I have <strong>(desktop-save-mode 1)</strong> set it means that all my buffers are reloaded on a new emacs startup, once I cleaned all these out, which I do from time to time it only took a couple of second to run up!</p>
<p>I think my lesson from this exercise is the amazing possibilities of learning through investigation and trying to fix issues and emacs is so configurable and so much fun to play around with I find myself learning more and more!</p>