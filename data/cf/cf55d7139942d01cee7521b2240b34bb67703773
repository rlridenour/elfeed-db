<p>I use Beorg for capturing and managing tasks on iOS. I&#8217;m using Shortcuts to bring calendar entries in as meetings where I can capture notes. Here&#8217;s how:</p>
<h2>A Quick Note About My Orgmode Setup</h2>
<p>Each of the apps that write to my org files usually don&#8217;t get allowed to write to my main org files me.org (personal) and work.org (professional). Each app gets its own file named refile-<em>AppName</em>.org &#8211; even Org-capture itself. Thus I have refile-beorg.org, refile-drafts.org, refile.org (for org-capture), etc.<br />
I do this because different sync mechanisms behave better than others and sometimes I work off-line. Once captured, I will then refile them when I am in Emacs on my Mac.<br />
If Beorg gets out of sync, then the files are appended with a number to keep data from being overwritten. I think with the way iOS works there is no way around this.</p>
<h2>Setup Calendar</h2>
<p>You need some calendar entries for this to be useful. The Shortcut needs to use the native iOS calendar service. Maybe this Shortcut can be modified to work with other calendars.</p>
<h2>Setup Beorg</h2>
<p>First, install <a href="https://itunes.apple.com/us/app/id1238649962?at=1000IJNU" target="_blank" rel="noopener">Beorg</a>. While you can use Dropbox or WebDAV for your sync service I am using iCloud.<br />
Make sure your org-states are defined in the app settings including MEETING as a Done state. Do not enable any calendars in the settings.<br />
<img fetchpriority="high" decoding="async" class="size-full wp-image-2282" src="https://www.prjorgensen.com/wp-content/uploads/2018/11/img_0062.jpg" width="1536" height="2048" /></p>
<h2>Setup Shortcuts</h2>
<p>Install <a href="https://itunes.apple.com/us/app/id915249334?at=1000IJNU" target="_blank" rel="noopener">Shortcuts</a> if you don&#8217;t already have it. If it is a new install, go ahead and launch it to see the introductory stuff.<br />
<a href="https://www.icloud.com/shortcuts/3a919360e76f4e95968a739c6cd4b6cb" target="_blank" rel="noopener">My shortcut is here</a>. Click on the link while browsing this page from your iOS device. Select install.<br />
You now have the bare minimum for this to work, so run a test. The Shortcut allows you to select multiple calendar entries. Pick just one, select beorg in the share sheet, and make sure you change the state to MEETING. Beorg should open and your meeting should be in the calendar.</p>
<h2>Setup macOS</h2>
<p>Make sure iCloud is set up. Once it is, create a symlink in your home directory (after making sure there is nothing already using ~/org).<br />
Create a symlink to your beorg document store:</p>
<pre>ln -s ${HOME}/Library/Mobile Documents/iCloud~com~appsonthemove~beorg/Documents/org ${HOME}/org</pre>
<p>After that, copy all of your Orgmode files from the old locale into ${HOME}/org. This needs to be your master Orgmode location.<br />
P.s. &#8211; if you want a command line shortcut to iCloud Documents, do this:</p>
<pre>ln -s ${HOME}/Library/Mobile Documents/com~apple~CloudDocs ${HOME}/iCloud</pre>
<h2>Setup Emacs and Orgmode</h2>
<p>One main thing is to make sure all of your Orgmode file entries point to the ${HOME}/org directory we created as a symlink above. Another thing is to define MEETING as a done state. This way it will show up in your agenda as a meeting and not in your task list.</p>
<h2>How I Use It</h2>
<p>First thing in the morning I run this to capture all of today&#8217;s meetings. When the share sheet opens, select beorg. As above, make sure each entry is set for the MEETING state.<br />
When it is ten minutes to meeting time, I get an alert on my watch from beorg. In the meeting I have all the relevant information (or what&#8217;s available in the calendar entry) ready for me to take notes on any of my Apple devices (except the watch).<br />
Important note &#8211; if capturing meeting notes in Beorg, make sure you open the entry from Files (along the bottom menu bar) and not from the Agenda<br />
At some point before or after the meeting I refile the entries to the appropriate Orgmode target. Unless I&#8217;m using a non-Apple device, I don&#8217;t care where the entry is when I&#8217;m in the meeting.<br />
Every week I archive the meetings after refiling any remaining open tasks in the Next Actions. Sadly, Beorg cannot see archive files.</p>
<h2>Wish List</h2>
<p>Some of what I would do differently is out of my hands:</p>
<ul>
<li><span style="text-decoration: line-through;">Beorg doesn&#8217;t yet support tags, for example.</span> This is fixed as of 14 Nov 18.</li>
<li>The PROPERTIES don&#8217;t fold.</li>
<li>If taking meeting notes in Beorg, you have to save regularly and reopen the entry to prevent data loss.</li>
<li>It&#8217;d be cool on iOS if I could pass the entry to Drafts for the text editing and then pass it back to beorg for writing.</li>
<li>I&#8217;d also love to be able to attach files from the calendar invite to the entry.</li>
<li>Beorg needs to save any open entries before the app sleeps in the background.</li>
</ul>
<p>I don’t know if the x-callback-url scheme can handle entries as long as some of the calendar events I capture, so I think the share sheet approach is best for now.<br />
UPDATE: The x-callback-URL scheme only supports 2048 total characters, so many meeting invitations will not fit.<br />
Ultimately, it would be great if Beorg did something like this Shortcut for calendar entries when you tap them (when the calendar access is enabled in Beorg’s settings). Unfortunately it takes you to the calendar entry in iOS Calendar.<br />
I would love something for searching Orgmode archive files. Maybe Devonthink-To-Go?</p>
<h2>Notes</h2>
<p>I used to use Dropbox for this. They’ve made some poor decisions about their API and failed to upgrade the free storage amount. Also, many corporate environments block Dropbox. However, a modified version of the above pointing to a folder in Dropbox will work.</p>
<h2>Conclusion</h2>
<p>This is working for me, though it is far from frictionless. Got ideas on how to improve on my workflow? Send them to me via the indie web.<br />
Update: there is another version without the iOS Share Sheet available <a href="https://www.prjorgensen.com/2018/11/23/updated-orgmode-compatible-ios-shortcuts-meeting-capture-workflow-with-beorg/" target="_blank" rel="noopener" class="broken_link">here</a>.</p>
