<p>I'm a fan of macOS's auto-hide menu bar setting. Unless I'm reaching out to a menu item, I don't typically need to have a visible menu bar, so I set auto-hide to &quot;Always&quot;.</p>
<p><img src="https://xenodium.github.io/images/toggle-macos-menu-bar-from-you-know-where/control-center.png" alt=""></p>
<p>On rare occasions, I turn this setting off (say <a href="https://lmno.lol/alvaro/chatgpt-shell-goes-offline">for a screen grab</a>). While reaching out to macOS Control Center is OK, I wanted to quickly toggle it from the comfort of Emacs via <code>M-x</code> fuzzy search.</p>
<p>We can leverage AppleScript to toggle the setting on and off. In the past, I would write shell scripts for this kinda thing and invoke from the command line. These days, I dump them into a <a href="https://github.com/xenodium/dwim-shell-command">dwim-shell-command</a> and quickly forget about its implementation. From then on, I just M-x and fuzzy search for some magical incantation (I'm looking at you ffmpeg). I got <a href="https://github.com/xenodium/dwim-shell-command?tab=readme-ov-file#my-toolbox">a bunch of these things</a>…</p>
<pre><code class="language-{.commonlisp">(defun dwim-shell-commands-macos-toggle-menu-bar-autohide ()
  &quot;Toggle macOS menu bar auto-hide.&quot;
  (interactive)
  (dwim-shell-command-on-marked-files
   &quot;Toggle menu bar auto-hide.&quot;
   &quot;current_status=$(osascript -e 'tell application \&quot;System Events\&quot; to get autohide menu bar of dock preferences')

if [ \&quot;$current_status\&quot; = \&quot;true\&quot; ]; then
    osascript -e 'tell application \&quot;System Events\&quot; to set autohide menu bar of dock preferences to false'
    echo \&quot;Auto-hide disabled.\&quot;
else
    osascript -e 'tell application \&quot;System Events\&quot; to set autohide menu bar of dock preferences to true'
    echo \&quot;Auto-hide enabled.\&quot;
fi&quot;
   :utils &quot;osascript&quot;
   :silent-success t))
</code></pre>
<p>…and that's all there is to it.</p>
<p><img src="https://xenodium.github.io/images/toggle-macos-menu-bar-from-you-know-where/autohide.webp" alt=""></p>
