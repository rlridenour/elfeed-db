
         
         <p>Fontaine allows the user to define detailed font configurations and set
them on demand.  For example, one can have a <code class="language-plaintext highlighter-rouge">regular-editing</code> preset
and another for <code class="language-plaintext highlighter-rouge">presentation-mode</code> (these are arbitrary, user-defined
symbols): the former uses small fonts which are optimised for writing,
while the latter applies typefaces that are pleasant to read at
comfortable point sizes.</p>

<ul>
  <li>Package name (GNU ELPA): <code class="language-plaintext highlighter-rouge">fontaine</code></li>
  <li>Official manual: <a href="https://protesilaos.com/emacs/fontaine">https://protesilaos.com/emacs/fontaine</a></li>
  <li>Change log: <a href="https://protesilaos.com/emacs/fontaine-changelog">https://protesilaos.com/emacs/fontaine-changelog</a></li>
  <li>Git repositories:
    <ul>
      <li>GitHub: <a href="https://github.com/protesilaos/fontaine">https://github.com/protesilaos/fontaine</a></li>
      <li>GitLab: <a href="https://gitlab.com/protesilaos/fontaine">https://gitlab.com/protesilaos/fontaine</a></li>
    </ul>
  </li>
  <li>Backronym: Fonts, Ornaments, and Neat Typography Are Irrelevant in Non-graphical Emacs.</li>
</ul>

<p>Below are the release notes.</p>

<hr />

<h2>Version 3.0.0 on 2025-02-20</h2>

<p>This version changes the underlying implementation of Fontaine’s font
configuration presets. In principle, this should not have any effect
on how users experience the package, though there are some important
details that are different.</p>

<h3>Fontaine is now a “theme”</h3>

<p>Fontaine has always modified typography-related faces, such as
<code class="language-plaintext highlighter-rouge">default</code>, <code class="language-plaintext highlighter-rouge">fixed-pitch</code>, and <code class="language-plaintext highlighter-rouge">variable-pitch</code>, to apply the font
family, height, and weight specified by the user. In the past, this
was done in a way that could get overridden under certain conditions,
such as by loading a theme after setting a Fontaine preset configuration.</p>

<p>By making Fontaine a theme, we guarantee that its settings are not
undone. In practice, this means that users do not have to re-apply the
current preset after loading a theme. The function <code class="language-plaintext highlighter-rouge">fontaine-apply-current-preset</code>
is thus obsolete.</p>

<p>In Emacs, a “theme” is a bundle of configurations. Those typically
cover colours (such as with my <code class="language-plaintext highlighter-rouge">modus-themes</code>), but a theme can focus
on other settings as well. For example, the popular <code class="language-plaintext highlighter-rouge">use-package</code> is
internally done as a theme (check the value of <code class="language-plaintext highlighter-rouge">custom-known-themes</code>).</p>

<p>Fontaine is a theme in the same way <code class="language-plaintext highlighter-rouge">use-package</code> is, meaning that it
will (i) persist its effects, (ii) not show up in the
<code class="language-plaintext highlighter-rouge">custom-enabled-themes</code> and so not be affected by something like
<code class="language-plaintext highlighter-rouge">(mapc #'disable-theme custom-enabled-themes)</code>,
and (iii) not be an option among those presented by <code class="language-plaintext highlighter-rouge">load-theme</code>.</p>

<p>There are no known bugs, though please contact me if you encounter a
scenario where Fontaine does not do the right thing. Thanks, in this
regard, to Haruko and Emily Hyland for reporting a couple of bugs:</p>

<ul>
  <li><a href="https://github.com/protesilaos/fontaine/issues/14">https://github.com/protesilaos/fontaine/issues/14</a>.</li>
  <li><a href="https://github.com/protesilaos/fontaine/issues/15">https://github.com/protesilaos/fontaine/issues/15</a>.</li>
</ul>

<h3>Fontaine no longer has frame-specific effects</h3>

<p>In the past, users could apply a Fontaine preset to the current frame
without affecting other frames. While this could be useful in certain
situations, it was ultimately making the code more complex for
marginal gains. As part of the transition to a theme, which is anyway
global, I am removing everything related to frame-specific functionality.</p>

<h3>Quality-of-life refinements</h3>

<ul>
  <li>
    <p>The <code class="language-plaintext highlighter-rouge">fontaine-generic-face-families</code> are used when necessary to
guard against <code class="language-plaintext highlighter-rouge">nil</code> values. Those font families are symbolic
references to whatever the operating system is configured to use
(e.g. on Linux this is handled by fontconfig).</p>
  </li>
  <li>
    <p>If Fontaine is instructed to load an invalid preset, it displays a
warning and does nothing else. Before, it would produce an error,
which could prevent Emacs from starting up normally if this were to
happen at startup. A warning is enough to inform the user of what is
happening.</p>
  </li>
  <li>
    <p>Same principle as above when Emacs is not ran in a graphical
interface. In text terminals, Fontaine cannot work because it is not
possible to have different font families, styles, and heights, than
those of the terminal (hence the backronym of FONTAINE “Fonts,
Ornaments, and Neat Typography Are Irrelevant in Non-graphical
Emacs”). Thanks to Jorge Gomez for the patch in pull request 13:
<a href="https://github.com/protesilaos/fontaine/pull/13">https://github.com/protesilaos/fontaine/pull/13</a>. Further tweaks by
me.</p>
  </li>
  <li>
    <p>The <code class="language-plaintext highlighter-rouge">fontaine-toggle-preset</code> command will produce an error if it
cannot find the preset it is supposed to switch to. The toggle is
between the last two loaded presets, as done by the command
<code class="language-plaintext highlighter-rouge">fontaine-set-preset</code> (the <code class="language-plaintext highlighter-rouge">fontaine-mode</code> takes care to persist the
relevant history).</p>
  </li>
</ul>
        
      