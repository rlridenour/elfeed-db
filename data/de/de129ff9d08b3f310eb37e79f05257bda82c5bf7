
	
<p>
All writers stand on the shoulders of giants. To recognise that fact, academic writing uses a comprehensive system of citations and bibliographies to acknowledge the authors whose ideas you have based your work. Unfortunately, there is no standardised method in Hugo to manage citations and bibliographies. This article shows how to manage a Hugo bibliography using a <a href="https://citeproc-js.readthedocs.io/">CSL-JSON</a> file and shortcodes.</p>
<p>
The code for these shortcodes forms part of the <em>Third Hemisphere</em> Hugo theme, which is used for this website. You can download the code from GitHub:</p>
<p>
<a href = "https://github.com/pprevos/hugo-thirdhemisphere/" target="_blank"
   title="Download hugo-thirdhemisphere from GitHub"
   alt="Download hugo-thirdhemisphere from GitHub">
  <button class="button is-medium is-primary">
    <span class="icon is-large">
      <i class="fab fa-github"></i>
    </span>
    <span style="font-family: monospace">hugo-thirdhemisphere</span>
  </button>
</a>

</p>
<div id="outline-container-headline-1" class="outline-2">
<h2 id="headline-1">
CSL JSON Bibliography files
</h2>
<div id="outline-text-headline-1" class="outline-text-2">
<p>Hugo can generate HTML content from JSON files, so all we need is a bibliography in this format. The <a href="https://citationstyles.org/">Citation Style Language</a> (CSL) is a modern bibliography format that is perfect for developing Hugo shortcodes.</p>
<p>
You can create CSL JSON with your favourite bibliography manager, such as <a href="https://www.zotero.org/">Zotero</a> or <a href="https://www.mendeley.com/">Mendeley</a>. In Zotero you can use the <a href="https://retorque.re/zotero-better-bibtex/">Better BibTeX package</a> to synchronise your Zotero database to a JSON file. You can also export BibTeX files to JSON with <a href="https://pandoc.org/">Pandoc</a>:</p>
<p>
<code>pandoc filename.bib -t csljson -o filename.json</code></p>
<p>
The bibliography lives in the data folder of your website. for example <code class="verbatim">data/example.json</code>. These shortcodes don&#39;t work for data files stored in the theme&#39;s data folder.</p>
</div>
</div>
<div id="outline-container-headline-2" class="outline-2">
<h2 id="headline-2">
The Hugo Bibliography Shortcodes
</h2>
<div id="outline-text-headline-2" class="outline-text-2">
<p>The <em>Third hemisphere</em> Hugo theme contains three shortcodes to display information from the bibliography file:</p>
<ul>
<li>Citation (<code class="verbatim">cite</code>)</li>
<li>Bibliography (<code class="verbatim">bibliography</code>)</li>
<li>Bibliography length (<code class="verbatim">bib-length</code>)</li>
</ul>
<p>You need to set a default JSON bibliography file by defining the <code class="verbatim">bib</code> page variable in the front matter of the each page that uses this data to the relevant JSON filename, without extension, which Emacs org mode is <code class="verbatim">#+bib: example</code> and in YAML:</p>
<pre class="example">
---
params:
  bib: example
---
</pre>
<p>
The Citation Style Language specifies over thirty <a href="https://docs.citationstyles.org/en/stable/specification.html#appendix-iii-types">reference types</a>. These Hugo shortcodes only parse the most common types:</p>
<ul>
<li>Books</li>
<li>Book chapters</li>
<li>Conference papers</li>
<li>Journal articles</li>
<li>Reports</li>
<li>Theses</li>
</ul>
<div id="outline-container-headline-3" class="outline-3">
<h3 id="headline-3">
Citations
</h3>
<div id="outline-text-headline-3" class="outline-text-3">
<p>The citations shortcode can create three types of citations. Two types of author-year citations and a full bibliographical citation. The <code class="verbatim">cite</code> shortcode takes two variables, the citation type (<code class="verbatim">p</code>, <code class="verbatim">t</code> or <code class="verbatim">f</code>) and the citation key. These shortcodes can only cite a single entry.</p>
<div id="outline-container-headline-4" class="outline-4">
<h4 id="headline-4">
Textual citations
</h4>
<div id="outline-text-headline-4" class="outline-text-4">
<p>Textual citations follow the author-year system. When there are more than one author or editor, the names are combined with &#34;and&#34;. If there are more than two authors or editors, the first two are named, followed by &#34;et al.&#34;. When no author or editor is defined, it displays &#34;Anonymous&#34;. In the next part, the code displays the year of the publication between parentheses. </p>
<p>
The letter <code class="verbatim">p</code> or <code class="verbatim">t</code> are used to indicate parenthetical or textual citations, for example:</p>
<p>
<code class="verbatim">The taste of tap water influences perceptions of quality {{&lt; cite p teillet-2010 *&gt;}} and {{&lt; cite t burns-2011 &gt;}} suggested that …</code> results in:</p>
<p>
&#34;The taste of tap water influences perceptions of quality (Teillet et al.
2010) and Burns et al.
(2011) suggested that …&#34;</p>
<p>
Using a file or cite key that does not exist causes an error: <span class="has-background-danger has-text-white">Entry not found</span>.</p>
&nbsp;
</div>
</div>
<div id="outline-container-headline-5" class="outline-4">
<h4 id="headline-5">
Full citations
</h4>
<div id="outline-text-headline-5" class="outline-text-4">
<p>The <code class="verbatim">{{&lt; cite f zoeteman-1980 &gt;}}</code> gives the full citation in APA style, for example: &#34;Zoeteman
(1980).
    <em>Sensory Assessment of Water Quality</em>.
    Pergamon Press.&#34;</p>
<p>
The first part is the same as a textual citation. The remainder of the citation depends on the type as shown in the table below:</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Citation field names</th>
</tr>
</thead>
<tbody>
<tr>
<td>Article</td>
<td><code class="verbatim">title</code>. <code class="verbatim">container-title</code>, <code class="verbatim">volume</code> (<code class="verbatim">issue</code>), <code class="verbatim">page</code>.</td>
</tr>
<tr>
<td>Book</td>
<td><code class="verbatim">title</code>. <code class="verbatim">publisher</code>.</td>
</tr>
<tr>
<td>Chapter</td>
<td><code class="verbatim">title</code>. In: <code class="verbatim">editor</code> (Ed.), <code class="verbatim">container-title</code>. <code class="verbatim">publisher</code>.</td>
</tr>
<tr>
<td>Conference</td>
<td><code class="verbatim">title</code>, <code class="verbatim">event-name</code> (<code class="verbatim">event-location</code>).</td>
</tr>
<tr>
<td>Report</td>
<td><code class="verbatim">title</code>, (<code class="verbatim">number</code>). <code class="verbatim">publisher</code>.</td>
</tr>
</tbody>
</table>
<p>
If the DOI field is available, it will be added to the end of the citation as a hyperlink. The URL field is used when the DOI is not defined.</p>
&nbsp;
</div>
</div>
</div>
</div>
<div id="outline-container-headline-6" class="outline-3">
<h3 id="headline-6">
List of references
</h3>
<div id="outline-text-headline-6" class="outline-text-3">
<p>The <code class="verbatim">{{&lt; bibliography &gt;}}</code> shortcode lists the literature stored in the referenced JSON file. The entries are displayed in the order in which they appear in the JSON file.</p>
<p>
The example bibliography contains 5 entries, one of each of the supported reference types.</p>
<p>
<div class ="box">
  <p>
    Burns, Ann V. et al. (2011).
    Victorian Water Customer: Water Services Needs &amp; Values Summary Report.
    Victorian Water Customer: Water Services Needs &amp; Values Summary Report, (Report 1).Accenture.</p>
  <p>
    Mays, Larry W. and Angelakis, Andreas Nikolaos (2012).
    Ancient gods and godesses of water.
    In: 
    Angelakis et al.
    (Eds.),
    <i>Evolution of Water Supply Throughout the Millennia</i> (IWA, London).</p>
  <p>
    Teillet, Eric et al. (2010).
    Sensory methodologies and the taste of water.
    <i>Food Quality and Preference</i>, 21(8), 967–976.doi: <a href="https://doi.org/10.1016/j.foodqual.2010.04.012" title="Sensory methodologies and the taste of water" target="_blank">10.1016/j.foodqual.2010.04.012</a>.</p>
  <p>
    Webber, Michael A. et al. (2014).
    When does the taste of water become offensive?
    In: <em>OzWater</em>, Brisbane.</p>
  <p>
    Zoeteman, B. C. J. (1980).
    <em>Sensory Assessment of Water Quality</em>.
    Pergamon Press.</p>
  </div></p>
<p>
You can filter the bibliography by adding a keyword, for example: <code class="verbatim">{{&lt; bibliography tast &gt;}}</code>. Any entry where the keyword appears in the keyword field is displayed (normalised to lowercase). The query matches on the start of the keyword, so this example shows any entry where the keyword field includes <code class="verbatim">taste</code> or <code class="verbatim">tasting</code>. </p>
<p>
Lastly, the <code class="verbatim">{{&lt; bib-length &gt;}}</code> shortcode counts the number of entries in the bibliography file and displays it as a number.</p>
</div>
</div>
</div>
</div>
<div id="outline-container-headline-7" class="outline-2">
<h2 id="headline-7">
Hugo Bibliography Shortcodes
</h2>
<div id="outline-text-headline-7" class="outline-text-2">
<p>These shortcodes are not yet fully optimised, but good enough to share with the world. I use them on my website about <a href="https://horizonofreason.com/magic/magic-bibliography/">scientific research into theatrical magic</a>. These are some of the improvements I like to make:</p>
<ul>
<li>Cite multiple entries in one shortcode call</li>
<li>Add prefix and suffix numbers to citations</li>
<li>Reference multiple bibliography files</li>
<li>Add more literature types</li>
</ul>
<p>The source code for these shortcodes is available on GitHub.</p>
<p>
<a href = "https://github.com/pprevos/hugo-thirdhemisphere/" target="_blank"
   title="Download hugo-thirdhemisphere from GitHub"
   alt="Download hugo-thirdhemisphere from GitHub">
  <button class="button is-medium is-primary">
    <span class="icon is-large">
      <i class="fab fa-github"></i>
    </span>
    <span style="font-family: monospace">hugo-thirdhemisphere</span>
  </button>
</a>

</p>
</div>
</div>

      