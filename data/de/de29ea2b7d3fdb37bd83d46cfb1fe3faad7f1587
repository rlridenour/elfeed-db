<p>Emacs users may be known for bringing in all sorts of diverse workflows into their beloved text editor. From the outside, I get how odd this may seem. We often treat our text editor as a platform of sorts to do our email, web browsing, calendars, project management, chat… the list goes on.</p>
<p>Take email, as an example. Back in 2018 I thought &quot;<a href="https://lmno.lol/alvaro/trying-out-mu4e-and-offlineimap">managing email from Emacs… surely that's crazy-talk</a>&quot;, yet I gave it a try just in case. 7 years later and I never looked back. I still use the excellent <a href="https://djcbsoftware.nl/code/mu/mu4e.html">mu4e</a> client.</p>
<p>As you become more accustomed to Emacs, you may find yourself wishing you could navigate other tasks just as efficiently. But this doesn't happen right away. The editor starts moulding to your needs, initially as you copy others's code/configurations, but this can only take you so far. Emacs truly does mould to your own needs, once you start learning a little <a href="https://www.gnu.org/software/emacs/manual/elisp.html">elisp</a>.</p>
<p>When comparing <code>elisp</code> to modern languages, one may be tempted to dismiss it as a niche language from another era. While both of those things may be true, its moulding and glueing capabilities remain just as relevant and powerful today, even in the <a href="https://en.wikipedia.org/wiki/Large_language_model">LLM</a> era.</p>
<p>Take a random workflow like extracting vocabulary from a Japanese class paper handout. While it may seem far-fetched for Emacs to handle this, it's actually fairly straightforward with a little elisp glue. Often, this consists of finding some crucial utilities and glueing them up.</p>
<p><img src="https://xenodium.github.io/images/a-platform-that-moulds-to-your-needs/lookup.gif" alt=""></p>
<h2>Take a screenshot</h2>
<p>I'm mostly on macOS, so I can use the built-in <a href="https://support.apple.com/en-us/102646">screencapture</a> utility to capture the screen and save to a file.</p>
<pre><code class="language-{.commonlisp">(call-process &quot;/usr/sbin/screencapture&quot; nil nil nil &quot;-i&quot; &quot;path/to/screenshot.png&quot;)
</code></pre>
<h2>Get an LLM to OCR things for ya</h2>
<p>These days, there are no shortages of neither large language models nor Emacs clients. I built one: <a href="https://github.com/xenodium/chatgpt-shell">chatgpt-shell</a>, so I feed the screenshot to <code>chatgpt-shell-lookup</code>, giving it a prompt like:</p>
<pre><code class="language-org">1. Fill out an org mode table using this format as an example:

|----------+----------+-------+--------+---------+------|
| Hiragana | Katakana | Kanji | Romaji | English | Tags |
|----------+----------+-------+--------+---------+------|
|          |          |       |        |         |      |
|----------+----------+-------+--------+---------+------|

2. Fill out Hiragana or Katakana when appropriate. Never both.
3. Fill out Kanji when appropriate.
4. Show long romaji vowels (i.e. ō).
5. DO NOT use Markdown source blocks.
6. DO NOT add any text or explanations outside the org table.
</code></pre>
<p>Be sure to always check LLM output ;)</p>
<h2>Let org do its thing</h2>
<p>Since I requested <a href="https://orgmode.org/">org</a> markup from the LLM, I can use <code>org-mode</code> to navigate cells and tweak data as needed. The output I get looks a little something like this:</p>
<pre><code class="language-org">| Hiragana               | Katakana   | Kanji                | Romaji               | English               | #Tags              |
|------------------------+------------+----------------------+----------------------+-----------------------+--------------------|
| べんきょう を します   |            | 勉強 を します       | benkyō o shimasu     | study                 | #study             |
...
| かいもの を します     |            | 買い物 を します     | kaimono o shimasu    | shop                  | #shopping          |
...
</code></pre>
<h2>Sarasa Gothic (detour)</h2>
<p>More of a side-note than anything… As a beginner Japanese learner, I quickly discovered I needed a font supporting my new rendering needs. I found <a href="https://picaq.github.io/sarasa/">Sarasa Gothic Mono</a>, a lovely font (thanks to this <a href="https://www.reddit.com/r/emacs/comments/1hgi7cj/recommendation_for_a_font_for_japanesechinese/">Reddit post</a>).</p>
<h2>More elisp glue</h2>
<p>Now that I got my Japanese vocabulary in org format, I can continue leveraging elisp to glue other things from my target workflow, like iterating over the table and generating a <a href="https://en.wikipedia.org/wiki/Tab-separated_values">tsv</a> with my new vocabulary:</p>
<pre><code class="language-{.commonlisp">(while (org-at-table-p)
  (let* ((front ...)
         (hiragana (org-table-get-field 1))
         (katakana (org-table-get-field 2))
         (kanji (org-table-get-field 3))
         (romaji (org-table-get-field 4))
         (meaning (org-table-get-field 5))
         (tags (org-table-get-field 6)))
    (with-current-buffer output-buffer
      (insert (format &quot;%s\t%s\t%s\t%s\t%s\t%s\t%s\n&quot;
                      front
                      hiragana
                      katakana
                      kanji
                      romaji
                      meaning
                      (replace-regexp-in-string &quot;#&quot; &quot;&quot; tags)))))
  (forward-line 1))
</code></pre>
<pre><code class="language-example">べんきょう を します   べんきょう を します     勉強 を します    benkyō o shimasu    study   study
...
かいもの を します    かいもの を します      買い物 を します   kaimono o shimasu   shop    shopping
...
</code></pre>
<h2>Anki</h2>
<p>So where is all this elisp glueing going? Now that I have my new vocabulary in a .tsv table, I can feed it to <a href="https://apps.ankiweb.net/">Anki</a>, the popular spaced repetition app. While there are a handful of existing <a href="https://lmno.lol/alvaro/anki-bookmarks">Anki Emacs packages</a>, converting with an elisp loop was simple enough and gave me lots of freedom on how to structure my cards.</p>
<h2>iPhone</h2>
<p>Once I got the new vocabulary imported into Anki, I can subsequently sync it over to the iPhone. In some way, you can say that a bit of elisp glue here and there facilitated the entire workflow.</p>
<p>By the way, now you know why there's a random <a href="https://github.com/xenodium/chatgpt-shell/blob/9c896feda89a2a879de807a5bd652beec7d6a3f6/chatgpt-shell.el#L1896">chatgpt-shell-japanese-lookup</a> function included in <a href="https://github.com/xenodium/chatgpt-shell">chatgpt-shell</a>.</p>
<p><img src="https://xenodium.github.io/images/a-platform-that-moulds-to-your-needs/anki.jpeg" alt=""></p>
<h2>Learn elisp</h2>
<p>While Emacs and elisp may not be the most fashionable pair, they sure fill a huge void for me. They provide a platform that can easily mould to my specific needs.</p>
<p>If you're an Emacser and have been shying away from learning elisp, do yourself a favour and get your toes dipped. You'll be glad to.</p>
<p>Soon enough, you'll enable workflows that mould exactly to the way you like things to work. In other words, they simply <a href="https://lmno.lol/alvaro/emacs-dwim-do-what-i-mean">do what ✨you✨ mean</a> ;)</p>
