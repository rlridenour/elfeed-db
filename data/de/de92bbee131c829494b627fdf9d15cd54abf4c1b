<p>You might have noticed that things look a little different around here. That&rsquo;s because, over the Easter break, I decided to get rid of <a href="https://tailwindcss.com/">TailwindCSS</a> and go it alone with &lsquo;pure&rsquo;, standard CSS. &ldquo;Why?&rdquo;, you might ask. I asked myself the same thing a few times when I realised that I had taken on quite a project. Read on for more details of the &lsquo;why&rsquo; and the &lsquo;how&rsquo;.</p>
<h3 id="the-why">The &lsquo;why&rsquo;</h3>
<p>It all started a month or so ago when I updated node, which powers the toolchain to process the Tailwind classes into regular CSS that browsers can read. The <code>hugo</code> command to build the site stopped working. It took quite a while to figure out what the problem was, but it turned out that I needed to fix the way that Hugo was doing post-processing of the CSS. So, all was fine in the end, but it made me re-consider my choices. One of the reasons that I love using Hugo to power this site is that it is a single binary that you install. Once or twice I have needed to update templates because of breaking changes with new versions of Hugo, but generally it is simple and very reliable: you write posts and check that everything looks good locally using <code>hugo server</code>, then if you use Netlify to host your blog as I do, you push the changes to your git host and Netlify uses the <code>hugo</code> command to build the site and transfer the files. It&rsquo;s quick, easy and pretty reliable. Introducing another tool to the chain gives you another thing to maintain.</p>
<p>After I decided to strip out Tailwind and go back to plain CSS, I noticed &mdash; probably because Tailwind and CSS was on my mind &mdash; that there has been a backlash against TailwindCSS rolling around the &rsquo;net recently. <a href="https://www.leereamsnyder.com/write-css-not-too-much-mostly-scoped">Lee Reamsnyder</a> has a great, balanced account of the pro- and anti-Tailwind discussions, which is definitely worth a read if you are interested. Now, I am not a professional front-end developer, and I don&rsquo;t have to co-ordinate with other developers to maintain a site. I built this site, and I do a bit of HTML/CSS stuff as part of a work project, but it is very small scale. I think Tailwind is an amazing idea, and when I came across it a few years ago, I welcomed it with open arms. It simply made it easy to style the site the way you wanted to, without wrestling with CSS&rsquo;s cascade or scope. It Just Worked. I&rsquo;m still of the same opinion now, but what I hadn&rsquo;t appreciated was that CSS has advanced immeasurably since I last learned about it. Many of the things that needed other tools like SASS or SCSS in the past (like variables, nested CSS, grids and flexbox) are now a stable part of CSS core. Maybe it was time for me to update my CSS knowledge and try to build from scratch?</p>
<h3 id="the-how-re-learning-css">The &lsquo;how&rsquo;: re-learning CSS</h3>
<p>Given how much has changed, I felt that I needed a thorough walk through of the principles and the recommended workflow. I bought the book <a href="https://www.manning.com/books/css-in-depth-second-edition">CSS in Depth</a> by Keith J. Grant, which is very recent (in fact, still being written), and had just the level of depth combined with a great overview for me to learn the new features of CSS. It helped me enormously, and I followed the broad structure that Keith recommends. I supplemented the book with a lot of useful resources (particularly Stephanie Eckles&rsquo; <a href="https://moderncss.dev/">Modern CSS Solutions</a>, and many of the sources cited in <a href="https://www.leereamsnyder.com/write-css-not-too-much-mostly-scoped">Lee&rsquo;s article</a>), plus a lot of peeping in dev mode at the code of websites I admire.</p>
<p>What I aimed for this time was to write as little code as possible to get the effect I wanted. In the past, I have used all kinds of frameworks for page layout, but I realised that it is now quite easy to build responsive layouts with very few lines of code. I wanted it to be as accessible as I could make it, and to use as little JavaScript as I could (preferably none, beyond external scripts needed for comments etc.). CSS now has <a href="https://12daysofweb.dev/2021/container-queries/">container queries</a>, which enable you to style a page or a component based on the size of its container, rather than the whole page. This provides a lot more flexibility, and I used it to switch the navigation depending on whether there is enough room in the container to hold the links horizontally. If you are reading this on a desktop browser, you can reduce the width of the browser window, and the navigation links will eventually pop behind a &lsquo;hamburger&rsquo; menu icon, which you can hover over (or tap on mobile) to show a vertical dropdown menu. Other elements on the page fluidly change size or change from rows to columns (such as the list of links above the footer) as the viewport resizes.</p>
<h3 id="typography">Typography</h3>
<p>The typography is also fluid, thanks to container queries. I used <a href="https://utopia.fyi/">Utopia.fyi</a> to generate a good scale for the various text elements, and settled on using the lower reaches of it, since I don&rsquo;t need any giant &lsquo;hero&rsquo; text in this design. Again, the whole thing should scale fluidly as you resize. One great accessibility effect of this is that users who need a larger scale of text can zoom in with the browser up to 400% and the layout and text size adapts smoothly without breaking anything critical. It&rsquo;s pretty cool &mdash; the navigation flips to the dropdown menu too.</p>
<p>I needed to refactor a couple of things once I had got to grips with the basics, but the new features make it so much easier than before to make a robust and accessible layout, once you understand how they work. As a result, I think the new design works a lot better than the previous one at various sizes, and I didn&rsquo;t have to use a single <code>@media</code> breakpoint for the layout.</p>
<p>In my meandering around nicely designed sites, I loved the typeface on <a href="https://denisdefreyne.com/">Denis Defreyne&rsquo;s</a> site, and discovered (more peeping at source code&hellip;) that it was &lsquo;Valkyrie A&rsquo; by <a href="https://mbtype.com/">MBType</a>. I have been looking for a new pair of fonts for Pandoc-generated documents, and decided that Valkyrie would be a beautiful body font for documents, and I could use the webfont for this site too. I spent more time than is reasonable dithering over a sans serif typeface from the same designer to pair with it, because I liked them all, but eventually chose &lsquo;Hermes Maia&rsquo; for the headings, meta data and so on. I am not an expert on typography, but for me these two are beautiful and professional, but also warm and human. I am also now using Berkeley Mono (see my <a href="https://www.rousette.org.uk/archives/current-command-line-setup/">write up of this typeface</a>) for the code blocks, since I already use it for all my terminals and editors, and so I also own the web font. I think it goes quite well, as the squarish &lsquo;o&rsquo; of Berkeley Mono picks up the same tendency in Hermes Maia.</p>
<p>Serving local fonts cuts down on web requests but does increase the size of the page&rsquo;s resources. However, the size of my pages is generally small so I don&rsquo;t think it is too much of a problem. I have set fallback fonts, so if you are on a slow connection, it will show you those instead. I have to admit that changing the font made the design come alive for me. I love looking at it. Years ago I had a serif font for the body and a sans serif for headings, but for some reason I reversed that in the last redesign. When I switched it back, using the new typefaces, I suddenly felt, ah yes &mdash; <em>that&rsquo;s</em> right. I may not always know what I need when designing, but I do know when I see it.</p>
<p>Did I just spend two paragraphs justifying my use of typefaces? I think I did&hellip;</p>
<h3 id="accessibility">Accessibility</h3>
<p>I still have a lot to learn about accessibility standards &mdash; if anyone can point me to an accessible (sorry) summary with additional resources to dive into, I would be very grateful. The layout should work well for users who need to resize text, as explained above, and I have made sure (I hope) that the navigation works with a screen reader or navigating with a keyboard. The dropdown menu does not use JavaScript, but you should be able to tab across to open the menu and then the items in it and enter to follow the link. At the moment you need to tap elsewhere on the screen if you want to &rsquo;escape&rsquo; it, which isn&rsquo;t ideal, so I am looking into that. I might need to add a smidge of scripting there. I have also tried to ensure that the contrast is acceptable, but dark mode still needs some work.</p>
<h3 id="work-in-progress">Work in progress</h3>
<p>This is all a work in progress of course. There are still rough edges, but I think that I have got it to a point where it is usable enough that it can go public. Do let me know if you find anything broken, but here&rsquo;s what I will be working on over the next few months:</p>
<ul>
<li>Making sure that accessibility meets at least the <a href="https://www.w3.org/WAI/WCAG2AA-Conformance">WCAG AA standards</a>.</li>
<li>Working on the light and dark themes. By a happy coincidence, I see that Apple Annie published an <a href="https://weblog.anniegreens.lol/2024/04/what-ive-learned-about-css-color-scheme-and-system-color">excellent guide</a> on doing just that today. Currently the theme should switch automatically depending on your operating system theme preference. The light theme has warmish tones and the dark theme is cool-toned, but both need some tweaks for contrast and a more harmonious appearance.</li>
<li>I want to overhaul the way I present images, but I need to look into alternative ways to do that without incurring a huge cost.</li>
<li>I also need to work on how best to present the webmentions and think about whether to continue with &lsquo;standard&rsquo; comments or not. I go back and forth on that.</li>
</ul>
<p>Anyway, I think that&rsquo;s about it! It has been a fair amount of work, but I am quite proud of the result, and what I have learned will be valuable for work projects too, so it feels like time well spent. I have also had a few things to be anxious about recently (happily, most are now resolved), so I found &mdash; as I often do &mdash; that coding was quite soothing. Apart from that one Safari bug that apparently inserted extra white space after text formatted using <code>font-variant-caps: all-small-caps;</code>, which took ages to track down, as it worked fine on Chrome and Firefox. That was <em>not</em> soothing!</p>