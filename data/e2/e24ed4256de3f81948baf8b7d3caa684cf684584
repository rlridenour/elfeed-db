<figure><img src="https://macowners.club/images/hammerspoon.png" width="150px">
</figure>

<h2 id="what">What?</h2>
<p><a href="http://www.hammerspoon.org/">Hammerspoon</a> about Hammerspoon:</p>
<blockquote>
<p>This is a tool for powerful automation of OS X. At its core, Hammerspoon is just a bridge between the operating system and a Lua scripting engine. What gives Hammerspoon its power is a set of extensions that expose specific pieces of system functionality, to the user.</p>
</blockquote>
<h2 id="why">Why?</h2>
<p>Well that part was easy, but why do I need <code>Hammerspoon</code>? There is Applescript, Automator and even the whole power of a proper shell, the BSD General Commands and the sort built-in, right.</p>
<p>Pretty simple really: With <code>Hammerspoon</code>, I can combine all of the above and more within just the one tool. Plus if all fails, I can run arbitrary external scripts, as mention in my <a href="https://macowners.club/posts/favorite-apps-tools-1/">Favorite Apps &amp; Tools introduction post</a>.</p>
<p>There is an added benefit of a reasonable – much more reasonable, than the built-in <code>System Preferences</code> – system for binding keyboard shortcuts for your automation.</p>
<p>Another Bonus is that you can have all, <strong>all of you automation in one plain text file</strong>. Now that is what I call portable.</p>
<h2 id="how">How?</h2>
<p>Following are some examples, that I am implementing on my Mac.</p>
<h3 id="launch-application">Launch Application</h3>
<p>Of course I have an Application launcher, <a href="https://www.alfredapp.com/">Alfred</a> – a separate post to follow. However some applications have a VIP status and need an exclusive manner to get started.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-lua" data-lang="lua"><span class="line"><span class="cl"><span class="kr">function</span> <span class="nf">launch_emacs</span> <span class="p">()</span>
</span></span><span class="line"><span class="cl">   <span class="n">hs.application</span><span class="p">.</span><span class="n">launchOrFocus</span><span class="p">(</span><span class="s2">&#34;Emacs&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="kr">end</span>
</span></span><span class="line"><span class="cl"><span class="n">hs.hotkey</span><span class="p">.</span><span class="n">bind</span><span class="p">({</span><span class="s2">&#34;cmd&#34;</span><span class="p">,</span> <span class="s2">&#34;alt&#34;</span><span class="p">,</span> <span class="s2">&#34;ctrl&#34;</span><span class="p">},</span> <span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">launch_emacs</span><span class="p">)</span>
</span></span></code></pre></div><h3 id="windows-management">Windows management</h3>
<p>There are some dedicated applications/tools to bring tilling to macOS, but I deem them superfluous. I can implement almost all the functions within <code>Hammerspoon</code>.</p>
<p>For the sake of keeping this reasonably short, I will not list all of them here. If you are curious go find the entire setup on my <a href="https://gitlab.com/aimebertrand/dotfiles/-/tree/main/hammerspoon">Gitlab</a>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-lua" data-lang="lua"><span class="line"><span class="cl"><span class="n">ctalcm</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&#34;cmd&#34;</span><span class="p">,</span> <span class="s2">&#34;alt&#34;</span><span class="p">,</span> <span class="s2">&#34;ctrl&#34;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">-- possible ass well: ctalcm = {&#34;⌃&#34;, &#34;⌥&#34;, &#34;⌘&#34;}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">-- send window to screen by number</span>
</span></span><span class="line"><span class="cl"><span class="kr">function</span> <span class="nf">moveWindowToDisplay</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="kr">return</span> <span class="kr">function</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">      <span class="kd">local</span> <span class="n">displays</span> <span class="o">=</span> <span class="n">hs.screen</span><span class="p">.</span><span class="n">allScreens</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">      <span class="kd">local</span> <span class="n">win</span> <span class="o">=</span> <span class="n">hs.window</span><span class="p">.</span><span class="n">focusedWindow</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">      <span class="n">win</span><span class="p">:</span><span class="n">moveToScreen</span><span class="p">(</span><span class="n">displays</span><span class="p">[</span><span class="n">d</span><span class="p">],</span> <span class="kc">false</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="kr">end</span>
</span></span><span class="line"><span class="cl"><span class="kr">end</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">hs.hotkey</span><span class="p">.</span><span class="n">bind</span><span class="p">(</span><span class="n">ctalcm</span><span class="p">,</span> <span class="s2">&#34;1&#34;</span><span class="p">,</span> <span class="n">moveWindowToDisplay</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="n">hs.hotkey</span><span class="p">.</span><span class="n">bind</span><span class="p">(</span><span class="n">ctalcm</span><span class="p">,</span> <span class="s2">&#34;2&#34;</span><span class="p">,</span> <span class="n">moveWindowToDisplay</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="n">hs.hotkey</span><span class="p">.</span><span class="n">bind</span><span class="p">(</span><span class="n">ctalcm</span><span class="p">,</span> <span class="s2">&#34;3&#34;</span><span class="p">,</span> <span class="n">moveWindowToDisplay</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
</span></span></code></pre></div><h3 id="emacs-capture-window-from-everywhere">Emacs capture window from everywhere</h3>
<p>With the following hotkey I can pull up an Emacs capture window from everywhere in macOS. Don&rsquo;t know Emacs? Check out <a href="https://macowners.club/posts/favorite-apps-tools-2/">my post about it</a>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-lua" data-lang="lua"><span class="line"><span class="cl"><span class="n">ctalcm</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&#34;cmd&#34;</span><span class="p">,</span> <span class="s2">&#34;alt&#34;</span><span class="p">,</span> <span class="s2">&#34;ctrl&#34;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">-- capture window from everywhere</span>
</span></span><span class="line"><span class="cl"><span class="n">hs.hotkey</span><span class="p">.</span><span class="n">bindSpec</span><span class="p">({</span><span class="n">ctalcm</span> <span class="p">,</span> <span class="s2">&#34;c&#34;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">   <span class="kr">function</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">      <span class="n">hs.execute</span><span class="p">(</span><span class="s2">&#34;/usr/local/bin/emacsclient -ne &#39;(make-capture-frame)&#39;&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="kr">end</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span></code></pre></div><h2 id="conclusion">Conclusion</h2>
<p>Despite the name, <code>Hammerspoon</code> is not the proverbial hammer. It is flexible enough to handle almost all the automation needs on my Mac.</p>
<p>Because of that I am in the process of moving all &ldquo;legacy&rdquo; configurations for automation into <code>Hammerspoon</code>.</p>
<p><strong>Not convinced yet. Head over to the <a href="http://www.hammerspoon.org/go">Getting started</a> page and see some great examples.</strong></p>
