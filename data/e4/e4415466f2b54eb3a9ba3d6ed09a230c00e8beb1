<p>I didn&rsquo;t sleep well last night (it was too hot and humid for what I&rsquo;m used to), so as a way to quiet my brain down, I turned to Emacs tweaking as always. This time, something that&rsquo;s been driving me nuts for a while: Emacs' way of managing windows.</p>
<p>By default, Emacs' usage of windows doesn&rsquo;t make sense to me. New windows open in seemingly random places, and modes that are supposed to help with the current buffer (like help for example) start out of focus, meaning you have to switch to them (<code>C-x b</code>) to scroll and read. When using several windows, this mess can quickly get out of hand.</p>
<p>To organize Emacs windows the way I want them to, I need to play around with <code>display-buffer-alist</code>. By default, its value is <code>nil</code>— meaning Emacs does what it does by default.</p>
<p><a href="https://www.masteringemacs.org/article/demystifying-emacs-window-manager">Micky has a good article</a> explaining how Emacs prioritizes its windows by default and how <code>display-buffer-alist</code> works, while <a href="https://www.youtube.com/watch?v=1-UIzYPn38s">Port has a helpful visual tutorial with examples</a>.</p>
<p>I like how Prot explains that an alist is a &ldquo;list of lists,&rdquo; so what we&rsquo;re working with here is giving Emacs lists as guides as to how to display its windows. The way it works for each list is basically:</p>
<ol>
<li>Define what is the &ldquo;trigger&rdquo; for a rule</li>
<li>Define what guides or functions to follow for that trigger</li>
<li>Define additional parameters (additional &ldquo;tweaks&rdquo;)</li>
</ol>
<p>Here&rsquo;s what I have so far:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-lisp" data-lang="lisp">    (<span style="color:#66d9ef">setq</span> display-buffer-alist
          <span style="color:#f92672">&#39;</span>(
            <span style="color:#75715e">;; trigger: when the major mode is dired-mode:</span>
            ((derived-mode <span style="color:#f92672">.</span> dired-mode)
            <span style="color:#75715e">;; guides: show me the above (dired) in a side window:</span>
            (display-buffer-in-side-window)
            <span style="color:#75715e">;; paramaters: what side? right. How wide? .80:</span>
            (side <span style="color:#f92672">.</span> right)
            (window-width <span style="color:#f92672">.</span> <span style="color:#ae81ff">80</span>)
          ))
    )
</code></pre></div><p>This works, but it has a couple of functional problems.</p>
<ol>
<li>
<p>In general, I prefer Dired to open to the right. I want to open another Dired window. In that case, I want it to open <em>under</em> the existing dired window. I usually open two Dired windows when I work with dwim for file functions, like renaming/moving files from one place to another. I doubt I’ll need to open three dired windows, but if I do, the idea should be the same: keep opening more Dired windows under the existing Dired windows.</p>
</li>
<li>
<p>The width is fixed, and I find .80 to be OK, but sometimes, this is too much, especially when the overall Emacs window (the frame) is already small. If I call Dired, I want Emacs to increase the size of the entire frame if it&rsquo;s under a certain size.</p>
</li>
<li>
<p>I want to make sure Dired doesn&rsquo;t delete or occupy other existing Dired windows, since that defeats the purpose of working with dwim. Each Dired window should have its own window, as I stated above: the first to the right, and the rest under the existing ones.</p>
</li>
</ol>
<p>I&rsquo;ve already been watching videos and reading for an hour and a half, and I&rsquo;m getting sleepy again, so I think I&rsquo;ll attempt to fill my sleep bank some more.</p>
