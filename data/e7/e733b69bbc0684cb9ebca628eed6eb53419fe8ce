<h2 id="the-why">The &ldquo;Why&rdquo;</h2>
<p>One still need to create a bootable USB drive from an ISO from time to time. Mostly to install an OS from the drive.</p>
<p>Now there are quite a few GUI Apps (e.g. <a href="https://www.balena.io/etcher/">Etcher</a>) to facilitate that. However I see no need to install an application, that I might only need every other moon.</p>
<p>The solution is to use macOS built-in tools. In this case a few command line utilities.</p>
<h2 id="the-who">The &ldquo;Who&rdquo;</h2>
<h3 id="find-the-usb-device">find the USB device</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">diskutil list
</span></span></code></pre></div><p>The output on my machine is (I removed some devices to shorten the code block):</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">/dev/disk0 (internal, physical):
</span></span><span class="line"><span class="cl">   #:                       TYPE NAME                    SIZE       IDENTIFIER
</span></span><span class="line"><span class="cl">   0:      GUID_partition_scheme                        *500.3 GB   disk0
</span></span><span class="line"><span class="cl">   1:             Apple_APFS_ISC Container disk1         524.3 MB   disk0s1
</span></span><span class="line"><span class="cl">   2:                 Apple_APFS Container disk3         494.4 GB   disk0s2
</span></span><span class="line"><span class="cl">   3:        Apple_APFS_Recovery Container disk2         5.4 GB     disk0s3
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">/dev/disk4 (external, physical):
</span></span><span class="line"><span class="cl">   #:                       TYPE NAME                    SIZE       IDENTIFIER
</span></span><span class="line"><span class="cl">   0:      GUID_partition_scheme                        *61.5 GB    disk4
</span></span><span class="line"><span class="cl">   1:                        EFI EFI                     209.7 MB   disk4s1
</span></span><span class="line"><span class="cl">   2:                  Apple_HFS 64gb                    61.2 GB    disk4s2
</span></span></code></pre></div><p>Here the thumb drive is <code>/dev/disk4</code>. This might of course differ for you.</p>
<h3 id="create-an-empty-partition-of-the-whole-disk">Create an empty Partition of the whole disk</h3>
<p>If not used with caution all of the following steps are quite dangerous and might lead to you loosing your files.</p>
<style>.orange {color: #bf616a;font-weight: bold;}</style>
<div class="orange">
<ul>
<li>The next steps will erase everything on the disk.</li>
<li>Make sure to use the right disk.</li>
</ul>
</div>
<h4 id="unmount-the-disk">Unmount the disk:</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">diskutil unmountDisk /dev/disk4
</span></span></code></pre></div><h4 id="wipe-the-disk">Wipe the disk:</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">sudo diskutil partitionDisk /dev/disk4 <span class="m">1</span> MBR <span class="s2">&#34;Free Space&#34;</span> <span class="s2">&#34;%noformat%&#34;</span> 100%
</span></span></code></pre></div><h3 id="burn-the-iso-onto-the-drive">Burn the ISO onto the drive</h3>
<p>The <a href="https://manpage.me/?q=dd"><code>dd</code></a> command being one of the most destructive commands on your Mac should be used carefully.</p>
<style>.orange {color: #bf616a;font-weight: bold;}</style>
<div class="orange">
<p>Double check the command and the right disk selection.</p>
</div>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">sudo dd <span class="nv">bs</span><span class="o">=</span>8m <span class="k">if</span><span class="o">=</span><span class="nv">$HOME</span>/Downloads/ubuntu-20.04-desktop-amd64.iso <span class="nv">of</span><span class="o">=</span>/dev/rdisk4
</span></span></code></pre></div><p>The <code>r</code> in <code>/dev/rdisk4</code> is not a typo. This is how it is supposed to be.</p>
<p>Also in this case <code>ubuntu-20.04-desktop-amd64.iso</code> is just an example. the <code>if</code> (input file) can of course be any other ISO from any other path.</p>
<p>Once you get sent back to the prompt the ISO is burnt onto the drive and in the case of an OS also bootable.</p>
<h4 id="bonus">Bonus:</h4>
<p>You can check the progress in another Terminal instance.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">sudo <span class="nb">kill</span> -INFO <span class="k">$(</span>pgrep ^dd$<span class="k">)</span>
</span></span></code></pre></div>