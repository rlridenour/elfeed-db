<p>Today I&rsquo;ll simply delve into two custom functions that I&rsquo;ve had in my init file for quite some time, <code>my/dired-create-directory</code> and <code>my/dired-create-empty-file</code></p>
<figure><img src="https://emacs.dyerdwelling.family/ox-hugo/20240922201246-emacs--Efficient-Directory-and-File-Management-with-Dired-in-Emacs.jpg" width="100%">
</figure>

<p>I use them frequently enough that I thought they were worth mentioning and they augment my <code>dired</code> workflow when mapped to <code>dired-mode-map</code> keybindings.</p>
<p>For many years I would create a new file or folder in one of two ways, through the command line, or a GUI file explorer (with either a click in or bound F2 to edit the name), Emacs comes with it&rsquo;s own directory manager so why not augment it with these features?</p>
<p>What about <code>find-file</code> I hear you say?, just press C-x C-f. This will prompt for a filename using the current directory of the current buffer and if you type a unique name it will create the file for you.  Unfortunately though this will not always work in a simple predictable manner when the minibuffer completion mechanism kicks in.</p>
<p><strong>my/dired-create-directory</strong></p>
<p>This custom function simplifies creating a new directory by prompting for a name in the minibuffer, bypassing the default completion mechanism to avoid unwanted name suggestions.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(defun my/dired-create-directory ()
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;Wrapper to dired-create-directory to avoid minibuffer completion.&#34;</span>
</span></span><span style="display:flex;"><span>  (interactive)
</span></span><span style="display:flex;"><span>  (let ((search-term
</span></span><span style="display:flex;"><span>          (<span style="color:#a6e22e">read-from-minibuffer</span> <span style="color:#e6db74">&#34;Dir : &#34;</span>)))
</span></span><span style="display:flex;"><span>    (dired-create-directory search-term)))
</span></span></code></pre></div><ul>
<li><strong>Purpose:</strong> This function is a wrapper around the <code>dired-create-directory</code> function, designed to avoid the potential confusion of minibuffer completion and directly ask for the directory name.</li>
<li><strong>Usage:</strong> When invoked, it prompts the user to input a directory name and creates it using the <code>dired-create-directory</code> function.</li>
</ul>
<p><strong>my/dired-create-empty-file</strong></p>
<p>Similarly, this custom function facilitates the creation of an empty file by asking for the filename in the minibuffer without the default completion.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(defun my/dired-create-empty-file ()
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;Wrapper to dired-create-empty-file to avoid minibuffer completion.&#34;</span>
</span></span><span style="display:flex;"><span>  (interactive)
</span></span><span style="display:flex;"><span>  (let ((search-term
</span></span><span style="display:flex;"><span>          (<span style="color:#a6e22e">read-from-minibuffer</span> <span style="color:#e6db74">&#34;File : &#34;</span>)))
</span></span><span style="display:flex;"><span>    (dired-create-empty-file search-term)))
</span></span></code></pre></div><ul>
<li><strong>Purpose:</strong> This function wraps around <code>dired-create-empty-file</code>, providing a straightforward prompt for creating a new file.</li>
<li><strong>Usage:</strong> When triggered, it asks the user to input a file name and then creates an empty file with that name.</li>
</ul>
<p>These functions are bound to <code>dired-mode-map</code> as follows:</p>
<ul>
<li><code>_</code>: Create an empty file using <code>my/dired-create-empty-file</code></li>
<li><code>+</code>: Create a new directory using <code>my/dired-create-directory</code></li>
</ul>
<p>This gives me a good ergonomic LShift+&lt;Right hand of number row&gt; combination and is therefore not too taxing on the hands and each key command are just next to each-other to emphasize their similar nature.</p>
<p>In addition the dired mode map keybinding for creating a new directory is bound to + so there is consistency there too.</p>
<p>I suspect there are probably many other ways to achieve this functionality in Emacs, in this case I am specifically relying on <code>dired</code> function calls here but there is also the <code>make-directory</code> function and the <code>shell-command</code> for example if you want to drop in to using the operating systems tool set.</p>