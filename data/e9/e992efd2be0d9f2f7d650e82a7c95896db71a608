
	
<p>
Project Euler 30 is another number-crunching problem that deals with numbers to the power of five. Two other Euler problems dealt with raising numbers to a power. The <a href="https://lucidmanager.org/data-science/project-euler-29/">previous problem</a> looked at permutations of powers, and <a href="https://lucidmanager.org/data-science/project-euler-16/">problem 16</a> asks for the sum of the digits of \(2^{1000}\).</p>
<div id="outline-container-headline-1" class="outline-2">
<h2 id="headline-1">
Project Euler 30 Definition
</h2>
<div id="outline-text-headline-1" class="outline-text-2">
<p>Surprisingly there are only three numbers that can be written as the sum of fourth powers of their digits:</p>
<p>
$$1634 = 1^4 + 6^4 + 3^4 + 4^4$$</p>
<p>
$$8208 = 8^4 + 2^4 + 0^4 + 8^4$$</p>
<p>
$$9474 = 9^4 + 4^4 + 7^4 + 4^4$$</p>
<p>
As \(1 = 1^4\) is not a sum, it is not included.</p>
<p>
The sum of these numbers is \(1634 + 8208 + 9474 = 19316\). Find the sum of all the numbers that can be written as the sum of the fifth powers of their digits.</p>
</div>
</div>
<div id="outline-container-headline-2" class="outline-2">
<h2 id="headline-2">
Proposed Solution
</h2>
<div id="outline-text-headline-2" class="outline-text-2">
<p>The problem asks for a brute-force solution, but we have a halting problem. How far do we need to go before we can be sure there are no sums of fifth power digits? Do we need to search until infinity, which means we can never solve the problem? We can limit the solution space because the solution will have lower and upper limits. An upper bound is a number with \(log 9^5\) digits.</p>
<p>
In base ten, the highest digit is 9 and \(9^5=59049\), which has five digits. This implies that the highest possible number, which equals the sum of the fifth power of its digits is 5 times \(9^5=295245\). The lowest possible number is 2 times \(2^5 = 64\). All numbers with this property thus must range between these two values.</p>
<p>
The code to solve this project first declares the exponent and determines the lower and upper boundaries of the solution space. Change the variable n to try other exponents. The loop cycles through the digits of each number and tests whether the sum of the fifth powers equals the number. </p>
<p>
The digit sum of a number \(x\) in base 10 is given by:</p>
<p>
$$\sum_{n=0}^{\lfloor \log_{10} x\rfloor} \frac{1}{10^n}(x \bmod 10^{n + 1} - x \bmod 10^n)$$</p>
<p>
<a href = "https://github.com/pprevos/ProjectEuler/" target="_blank"
   title="Download ProjectEuler from GitHub"
   alt="Download ProjectEuler from GitHub">
  <button class="button is-medium is-primary">
    <span class="icon is-large">
      <i class="fab fa-github"></i>
    </span>
    <span style="font-family: monospace">ProjectEuler</span>
  </button>
</a>

</p>
<div class="src src-r">
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>  <span style="color:#888">## Project Euler 30: Digit Fifth Powers</span>
</span></span><span style="display:flex;"><span>  m <span style="color:#333">&lt;-</span> <span style="color:#60e;font-weight:bold">5</span>
</span></span><span style="display:flex;"><span>  highest <span style="color:#333">&lt;-</span> <span style="color:#06b;font-weight:bold">round</span>(<span style="color:#06b;font-weight:bold">log10</span>(<span style="color:#60e;font-weight:bold">9</span>^m)) <span style="color:#333">*</span> <span style="color:#60e;font-weight:bold">9</span>^m
</span></span><span style="display:flex;"><span>  answer <span style="color:#333">&lt;-</span> <span style="color:#60e;font-weight:bold">0</span>
</span></span><span style="display:flex;"><span>  <span style="color:#080;font-weight:bold">for</span> (x <span style="color:#080;font-weight:bold">in</span> <span style="color:#60e;font-weight:bold">2</span><span style="color:#333">:</span>highest) {
</span></span><span style="display:flex;"><span>      n <span style="color:#333">&lt;-</span> <span style="color:#60e;font-weight:bold">0</span><span style="color:#333">:</span><span style="color:#06b;font-weight:bold">log10</span>(x)
</span></span><span style="display:flex;"><span>      power.sum <span style="color:#333">&lt;-</span> <span style="color:#06b;font-weight:bold">sum</span>(((<span style="color:#60e;font-weight:bold">1</span><span style="color:#333">/</span><span style="color:#60e;font-weight:bold">10</span>^n) <span style="color:#333">*</span> (x <span style="color:#333">%%</span> <span style="color:#60e;font-weight:bold">10</span><span style="color:#06b;font-weight:bold">^</span>(n <span style="color:#333">+</span> <span style="color:#60e;font-weight:bold">1</span>) <span style="color:#333">-</span> x <span style="color:#333">%%</span> <span style="color:#60e;font-weight:bold">10</span>^n))^m)
</span></span><span style="display:flex;"><span>      <span style="color:#080;font-weight:bold">if</span> (power.sum <span style="color:#333">==</span> x) {
</span></span><span style="display:flex;"><span>          <span style="color:#06b;font-weight:bold">print</span>(x)
</span></span><span style="display:flex;"><span>          answer <span style="color:#333">&lt;-</span> answer <span style="color:#333">+</span> x
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#06b;font-weight:bold">print</span>(answer)</span></span></code></pre></div>
</div>
</div>
</div>
<div id="outline-container-headline-3" class="outline-2">
<h2 id="headline-3">
Digit sums
</h2>
<div id="outline-text-headline-3" class="outline-text-2">
<p>The mathematics in this problem is about the digit sum, which is the sum of all digits in the relevant number base.</p>
<p>
Computer scientists use digit sums in cryptography and data validation. You can find the digital sum base-10 numbers in <a href="http://oeis.org/A007953">sequence A007953</a> of the Online Encyclopedia of Integer Sequences. Checksum algorithms use digit sums as a quality assurance method. For example, the final digit in the ten-digit International Standard Book Numbers is a check digit. You can compute the check digit by multiplying each digit by its position in the ISBN number (alternating by 3 and 1), and taking the sum of these products. The check digit is 0 when the modules 10 of this modulus is zero, otherwise it is 10 minus the remainder. In R code, determining the check digit for a 13-digit ISBN number works as follows:</p>
<div class="src src-r">
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>  <span style="color:#888">## Check ISB number</span>
</span></span><span style="display:flex;"><span>  check_isbn13 <span style="color:#333">&lt;-</span> <span style="color:#080;font-weight:bold">function</span>(isbn) {
</span></span><span style="display:flex;"><span>      isbn <span style="color:#333">&lt;-</span> <span style="color:#06b;font-weight:bold">gsub</span>(<span style="background-color:#fff0f0">&#34; |-&#34;</span>, <span style="background-color:#fff0f0">&#34;&#34;</span>, isbn)
</span></span><span style="display:flex;"><span>      check_sum <span style="color:#333">&lt;-</span> <span style="color:#60e;font-weight:bold">0</span>
</span></span><span style="display:flex;"><span>      <span style="color:#080;font-weight:bold">for</span> (i <span style="color:#080;font-weight:bold">in</span> <span style="color:#60e;font-weight:bold">1</span><span style="color:#333">:</span><span style="color:#60e;font-weight:bold">12</span>) {
</span></span><span style="display:flex;"><span>          m <span style="color:#333">&lt;-</span> <span style="color:#06b;font-weight:bold">ifelse</span>(i <span style="color:#333">%%</span> <span style="color:#60e;font-weight:bold">2</span> <span style="color:#333">==</span> <span style="color:#60e;font-weight:bold">0</span>, <span style="color:#60e;font-weight:bold">3</span>, <span style="color:#60e;font-weight:bold">1</span>)
</span></span><span style="display:flex;"><span>          check_sum <span style="color:#333">&lt;-</span> check_sum <span style="color:#333">+</span> m <span style="color:#333">*</span> <span style="color:#06b;font-weight:bold">as.numeric</span>(<span style="color:#06b;font-weight:bold">substr</span>(isbn, i, i))
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>      check_sum <span style="color:#333">&lt;-</span> <span style="color:#06b;font-weight:bold">ifelse</span>(check_sum <span style="color:#333">%%</span> <span style="color:#60e;font-weight:bold">10</span> <span style="color:#333">==</span> <span style="color:#60e;font-weight:bold">0</span>, <span style="color:#60e;font-weight:bold">0</span>, <span style="color:#60e;font-weight:bold">10</span> <span style="color:#333">-</span> check_sum <span style="color:#333">%%</span> <span style="color:#60e;font-weight:bold">10</span>)
</span></span><span style="display:flex;"><span>      check_sum <span style="color:#333">==</span> <span style="color:#06b;font-weight:bold">substr</span>(isbn, <span style="color:#60e;font-weight:bold">13</span>, <span style="color:#60e;font-weight:bold">13</span>)
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#06b;font-weight:bold">check_isbn13</span>(<span style="background-color:#fff0f0">&#34;978-0-9875669-4-2&#34;</span>)</span></span></code></pre></div>
</div>
<a href = "https://www.r-bloggers.com/" target="_blank" title="Proudly associated with R-Bloggers">
  <button class="button is-link is-medium">
    <span class="icon is-large">
      <i class="fab fa-r-project"></i>
    </span>
    <span>As seen on R Bloggers</span>
  </button>
</a>

</div>
</div>

      