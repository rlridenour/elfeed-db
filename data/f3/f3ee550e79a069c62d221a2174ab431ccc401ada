<p>As I find myself moving more shell commands into Emacs interactive commands to <a href="http://xenodium.com/emacs-create-a-swift-packageproject/">create a Swift package/project</a>, <a href="http://xenodium.com/enrich-your-dired-batching-toolbox/">enrich dired's featureset</a>, or <a href="http://xenodium.com/emacs-searchplay-music-macos/">search/play Music (macOS)</a>, I often need to take a single space-separated string, make an elisp list of strings, and feed it to functions like <em>process-lines</em>. No biggie, but I thought it'd be a fun little function to write: take the region and wrap all items in quotes. As a bonus, made it toggable.</p>
<p><img src="https://xenodium.github.io/images/emacs-quote-wrap-all-in-region/wrap-toggle-region.gif" alt=""></p>
<pre><code class="language-{.commonlisp">(defun ar/toggle-quote-wrap-all-in-region (beg end)
  &quot;Toggle wrapping all items in region with double quotes.&quot;
  (interactive (list (mark) (point)))
  (unless (region-active-p)
    (user-error &quot;no region to wrap&quot;))
  (let ((deactivate-mark nil)
        (replacement (string-join
                      (mapcar (lambda (item)
                                (if (string-match-p &quot;^\&quot;.*\&quot;$&quot; item)
                                    (string-trim item &quot;\&quot;&quot; &quot;\&quot;&quot;)
                                  (format &quot;\&quot;%s\&quot;&quot; item)))
                              (split-string (buffer-substring beg end)))
                      &quot; &quot;)))
    (delete-region beg end)
    (insert replacement)))
</code></pre>
