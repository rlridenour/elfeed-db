<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2024-03-14 Thu 16:43 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Emacs Configuration</title>
<meta name="author" content="james dyer" />
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
</head>
<body>
<div id="content" class="content">
<h1 class="title">Emacs Configuration</h1>
<p>
-<b>- mode: org; fill-column: 80; eval: (display-fill-column-indicator-mode 1); -</b>-
</p>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org47d21b7">1. early-init</a></li>
<li><a href="#orge6a4b71">2. package-archives</a></li>
<li><a href="#org079a1ee">3. requires</a></li>
<li><a href="#orgb2abc24">4. top-level-variables</a></li>
<li><a href="#orga09da2f">5. startup</a></li>
<li><a href="#org25a6747">6. package-local</a></li>
<li><a href="#orge068f83">7. fetchers</a></li>
<li><a href="#org0b68522">8. profiler</a></li>
<li><a href="#org93ee8ed">9. use-package</a></li>
<li><a href="#org1a36299">10. completion</a></li>
<li><a href="#org4031fdd">11. modeline-completion</a></li>
<li><a href="#org4a7d570">12. keys-navigation</a></li>
<li><a href="#org8e98c0e">13. keys-visual</a></li>
<li><a href="#org039f5a0">14. keys-other</a></li>
<li><a href="#org66ebed3">15. magit</a></li>
<li><a href="#orga3ac59c">16. emms</a></li>
<li><a href="#org80ff4b1">17. elfeed</a></li>
<li><a href="#org2066619">18. expansion</a></li>
<li><a href="#orgeed2ef2">19. keybinding</a></li>
<li><a href="#orgf80c0ce">20. consult</a></li>
<li><a href="#orgcde1995">21. modes</a></li>
<li><a href="#orgd726ee0">22. bell</a></li>
<li><a href="#orgfc32f71">23. setqs</a></li>
<li><a href="#orgfc2cdec">24. confirm</a></li>
<li><a href="#orgafd5c5f">25. backups</a></li>
<li><a href="#orgd3ddcb0">26. hooks</a></li>
<li><a href="#orge122bbb">27. custom-settings</a></li>
<li><a href="#orge8c510d">28. defun</a></li>
<li><a href="#org5ef50f9">29. window-positioning</a></li>
<li><a href="#org8d6f9dc">30. org-capture</a></li>
<li><a href="#org5b049db">31. org</a></li>
<li><a href="#orgcaf9b04">32. org-agenda</a></li>
<li><a href="#org6c4fcde">33. dwim</a></li>
<li><a href="#org3e0015f">34. scroll</a></li>
<li><a href="#org38b556a">35. font</a></li>
<li><a href="#orgfa03131">36. custom-set-faces</a></li>
<li><a href="#org954af97">37. dired</a></li>
<li><a href="#orgc182543">38. image-dired</a></li>
<li><a href="#org9f73915">39. visuals</a></li>
<li><a href="#org86c3245">40. imenu</a></li>
<li><a href="#org0020b37">41. recentf</a></li>
<li><a href="#org6ac5bc4">42. modeline</a></li>
<li><a href="#orge305e7c">43. find</a></li>
<li><a href="#orgd4144b8">44. grep</a></li>
<li><a href="#org3f420b2">45. spelling</a></li>
<li><a href="#org388c131">46. gdb</a></li>
<li><a href="#org20e705c">47. compilation</a></li>
<li><a href="#orgb11feb0">48. auto-mode-alist</a></li>
<li><a href="#org8d4d55e">49. programming</a></li>
<li><a href="#org171a5a1">50. diff</a></li>
<li><a href="#org530683f">51. ada</a></li>
<li><a href="#org293501f">52. treesitter</a></li>
<li><a href="#org36f6123">53. whitespace</a></li>
<li><a href="#org7e9b86b">54. project</a></li>
<li><a href="#org00ede29">55. indentation</a></li>
<li><a href="#orga7c42fe">56. etags</a></li>
<li><a href="#orgf745050">57. selected-window-accent-mode</a></li>
<li><a href="#orga3fecd7">58. push-block</a></li>
<li><a href="#orgc984c7b">59. kurecolor</a></li>
<li><a href="#org7ef0793">60. shell</a></li>
<li><a href="#orgbc45d3e">61. calendar</a></li>
<li><a href="#orgec04584">62. proced</a></li>
<li><a href="#org9a4362e">63. all-the-icons</a></li>
<li><a href="#org31d03db">64. repeat</a></li>
<li><a href="#orge870963">65. tab-bar</a></li>
<li><a href="#orgf7788f7">66. word-count</a></li>
<li><a href="#orgf0ad746">67. windows specific</a></li>
<li><a href="#org02cc409">68. linux specific</a></li>
<li><a href="#orge1944ca">69. development</a></li>
</ul>
</div>

<div id="outline-container-org47d21b7" class="outline-2">
<h2 id="org47d21b7"><span class="section-number-2">1.</span> early-init</h2>
<div class="outline-text-2" id="text-1">
<p>
This block sets up Emacs to avoid a flash of the default theme upon startup, helping prevent a sudden bright screen especially in dark environments.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; early-init
;;

(setq package-enable-at-startup t)

;; avaid default theme flash of light when starting up
(setq mode-line-format nil)
(set-face-attribute 'default nil :background "#222222" :foreground "#ffffff")
(set-face-attribute 'mode-line nil :background "#222222" :foreground "#ffffff" :box 'unspecified)

</pre>
</div>
</div>
</div>

<div id="outline-container-orge6a4b71" class="outline-2">
<h2 id="orge6a4b71"><span class="section-number-2">2.</span> package-archives</h2>
<div class="outline-text-2" id="text-2">
<p>
Configures the package management system by specifying preferred package archives including MELPA, ELPA, and Org. It ensures `use-package` is installed and enables stricter loading behaviour for newer files.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; package-archives
;;

(require 'package)

(setq package-archives '(("melpa" . "https://melpa.org/packages/")
                          ("elpa" . "https://elpa.gnu.org/packages/")
                          ("org" . "https://orgmode.org/elpa/")))

;; (setq package-archives '(("melpa" . "~/emacs-pkgs/melpa")
;;                           ("elpa" . "~/emacs-pkgs/elpa")
;;                           ("org" . "~/emacs-pkgs/org-mode/lisp")))

(unless (package-installed-p 'use-package)
  (package-install 'use-package))
(setq use-package-verbose t)
(setq use-package-always-ensure t)
(require 'use-package)
(setq load-prefer-newer t)

;; (when init-file-debug
(setq use-package-verbose t
  use-package-expand-minimally nil
  use-package-compute-statistics t
  debug-on-error nil)

</pre>
</div>
</div>
</div>

<div id="outline-container-org079a1ee" class="outline-2">
<h2 id="org079a1ee"><span class="section-number-2">3.</span> requires</h2>
<div class="outline-text-2" id="text-3">
<p>
Ensures essential packages like `org`, `dired-x`, and `org-agenda` are loaded at startup.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; requires
;;

(require 'org)
(require 'dired-x)
(require 'org-agenda)

</pre>
</div>
</div>
</div>

<div id="outline-container-orgb2abc24" class="outline-2">
<h2 id="orgb2abc24"><span class="section-number-2">4.</span> top-level-variables</h2>
<div class="outline-text-2" id="text-4">
<p>
Defines global variables, e.g., an accent color used across various custom themes or UI elements.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; top-level-variables
;;

(setq my/accent-color "#821a00")

</pre>
</div>
</div>
</div>

<div id="outline-container-orga09da2f" class="outline-2">
<h2 id="orga09da2f"><span class="section-number-2">5.</span> startup</h2>
<div class="outline-text-2" id="text-5">
<p>
Displays Emacs's startup time in the message buffer as soon as Emacs finishes initializing.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; startup
;;

(defun display-startup-time ()
  "Display startup time."
  (message "Emacs startup time: %s" (emacs-init-time)))

(add-hook 'emacs-startup-hook 'display-startup-time)

</pre>
</div>
</div>
</div>

<div id="outline-container-org25a6747" class="outline-2">
<h2 id="org25a6747"><span class="section-number-2">6.</span> package-local</h2>
<div class="outline-text-2" id="text-6">
<p>
Displays Emacs's startup time in the message buffer as soon as Emacs finishes initializing.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; package-local
;;

(when (file-exists-p "~/repos/fd-find")
  (use-package fd-find
    :load-path "~/repos/fd-find"))

</pre>
</div>
</div>
</div>

<div id="outline-container-orge068f83" class="outline-2">
<h2 id="orge068f83"><span class="section-number-2">7.</span> fetchers</h2>
<div class="outline-text-2" id="text-7">
<p>
Uses newer features in Emacs 29+ to directly install packages from version control sources like GitHub, showcasing integration with `org-ql`, `ada-mode`, and others.
</p>

<p>
Note that the ada-mode mentioned here is the original ada-mode that was included by default in Emacs before AdaCore began developing a related mode. I have forked this original version to preserve it.
</p>

<p>
kbd-mode has a very useful feature that reload the kbd configuration for testing.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; fetchers
;;

(when (version&lt;= "29.0" emacs-version)
  ;; will be able to remove the following package-vc-install as of emacs 30
  ;; as this will be built-in
  (unless (package-installed-p 'vc-use-package)
    (package-vc-install "https://github.com/slotThe/vc-use-package"))

  ;; now use-package has the :vc keyword!
  (use-package org-ql
    :defer t
    :vc (:fetcher github :repo "alphapapa/org-ql"))

  (use-package ada-mode
    :vc (:fetcher github :repo "captainflasmr/old-ada-mode"))

  (use-package kbd-mode
    :vc (:fetcher github :repo "kmonad/kbd-mode")
    :custom
    (kbd-mode-kill-kmonad "pkill -9 kmonad")
    (kbd-mode-start-kmonad "kmonad ~/.config/kmonad/keyboard.kbd")))

</pre>
</div>
</div>
</div>

<div id="outline-container-org0b68522" class="outline-2">
<h2 id="org0b68522"><span class="section-number-2">8.</span> profiler</h2>
<div class="outline-text-2" id="text-8">
<p>
Enables the `esup` package for profiling Emacs's startup time to help diagnose slow startup issues.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; profile
;;

(use-package esup
  :ensure t
  :config (setq esup-depth 0)
  ;; To use MELPA Stable use ":pin melpa-stable",
  :pin melpa)

</pre>
</div>
</div>
</div>

<div id="outline-container-org93ee8ed" class="outline-2">
<h2 id="org93ee8ed"><span class="section-number-2">9.</span> use-package</h2>
<div class="outline-text-2" id="text-9">
<p>
Demonstrates the use of `use-package` to neatly organize package configuration and lazy loading, improving startup times and making the configuration more readable.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; use-package
;;
(use-package free-keys)
(use-package lorem-ipsum)
(use-package ox-epub)
(use-package file-info)
(use-package ox-gfm)
(use-package async)
(use-package diminish)
(use-package diredfl
  :init (diredfl-global-mode 1)
  :diminish diredfl-mode)
(use-package i3wm-config-mode)
(use-package git-timemachine)
(use-package gnuplot)
(use-package ahk-mode)
(use-package embark-consult)
(use-package gruvbox-theme)
(use-package ef-themes)
(use-package doom-themes)

(use-package toc-org
  :commands
  toc-org-enable
  :init
  (add-hook 'org-mode-hook 'toc-org-enable))

(use-package org-bullets
  :config
  (add-hook 'org-mode-hook (lambda () (org-bullets-mode 1))))

(use-package rainbow-mode
  :diminish rainbow-mode colour-shift-mode
  :hook
  (prog-mode . rainbow-mode)
  (conf-space-mode . rainbow-mode)
  (org-mode . rainbow-mode))

(use-package visual-fill-column
  :config
  (setq-default visual-fill-column-center-text t))

(use-package ox-hugo
  :defer t
  :config
  (setq org-hugo-front-matter-format "yaml"))

(use-package embark)

(use-package deadgrep
  :config
  (setq-default deadgrep--search-case 'ignore)
  :custom
  (deadgrep-max-buffers 1)
  (deadgrep-extra-arguments '("--no-config")))
;; (deadgrep-extra-arguments '("--no-config" "--no-ignore" "--no-ignore-vcs")))

</pre>
</div>
</div>
</div>

<div id="outline-container-org1a36299" class="outline-2">
<h2 id="org1a36299"><span class="section-number-2">10.</span> completion</h2>
<div class="outline-text-2" id="text-10">
<p>
Configures `corfu` for autocompletion, setting up preferences like cycling through candidates and setting up hooks for enabling it in shell modes.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; completion
;;

(use-package corfu
  ;; Optional customizations
  :custom
  (corfu-cycle t)                ;; Enable cycling for `corfu-next/previous'
  (corfu-auto t)                 ;; Enable auto completion
  (corfu-separator ?\s)          ;; Orderless field separator
  (corfu-quit-at-boundary nil)   ;; Never quit at completion boundary
  (corfu-quit-no-match nil)      ;; Never quit, even if there is no match
  (corfu-preview-current nil)    ;; Disable current candidate preview
  (corfu-preselect 'prompt)      ;; Preselect the prompt
  (corfu-on-exact-match nil)     ;; Configure handling of exact matches
  (corfu-scroll-margin 5)        ;; Use scroll margin
  :hook ((shell-mode . corfu-mode)
          (eshell-mode . corfu-mode)))

(use-package emacs
  :init
  ;; TAB cycle if there are only few candidates
  (setq completion-cycle-threshold 3)

  ;; Emacs 28: Hide commands in M-x which do not apply to the current mode.
  ;; Corfu commands are hidden, since they are not supposed to be used via M-x.
  ;; (setq read-extended-command-predicate
  ;;       #'command-completion-default-include-p)

  ;; Enable indentation+completion using the TAB key.
  ;; `completion-at-point' is often bound to M-TAB.
  (setq tab-always-indent t))

(use-package tempel
  :diminish tempel-abbrev-mode global-tempel-abbrev-mode abbrev-mode
  :bind (("M-+" . tempel-complete) ;; Alternative tempel-expand
          ("M-*" . tempel-insert))

  :init
  (defun tempel-setup-capf ()
    (setq-local completion-at-point-functions
      (cons #'tempel-expand
        completion-at-point-functions)))

  (add-hook 'conf-mode-hook #'tempel-setup-capf)
  (add-hook 'prog-mode-hook #'tempel-setup-capf)
  (add-hook 'text-mode-hook #'tempel-setup-capf)
  (global-tempel-abbrev-mode))

</pre>
</div>
</div>
</div>

<div id="outline-container-org4031fdd" class="outline-2">
<h2 id="org4031fdd"><span class="section-number-2">11.</span> modeline-completion</h2>
<div class="outline-text-2" id="text-11">
<p>
Setup for both vanilla and advanced modeline completion styles, including configuration for `vertico` and enhancements with `marginalia`, `orderless`, and other completion assisting packages.
</p>
</div>

<div id="outline-container-org28b2b8a" class="outline-3">
<h3 id="org28b2b8a"><span class="section-number-3">11.1.</span> vanilla</h3>
<div class="outline-text-3" id="text-11-1">
<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; modeline-completion-vanilla
;;

(defun fido-style ()
  "fido-style completion."
  (interactive)
  (setq completion-auto-wrap t
    completion-auto-help nil
    completions-max-height 15
    completion-styles '(initials flex)
    icomplete-in-buffer t
    max-mini-window-height 10)
  (fido-mode 1)
  (fido-vertical-mode 1))
(fido-style)

</pre>
</div>
</div>
</div>

<div id="outline-container-orgcef8681" class="outline-3">
<h3 id="orgcef8681"><span class="section-number-3">11.2.</span> advanced</h3>
<div class="outline-text-3" id="text-11-2">
<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; modeline-completion-advanced
;;

(use-package vertico
  :init
  (vertico-mode 1)
  (vertico-multiform-mode 1)
  :config
  (setq vertico-multiform-commands
    '((consult-line buffer)
       (consult-line-thing-at-point buffer)
       (consult-recent-file buffer)
       (consult-mode-command buffer)
       (consult-complex-command buffer)
       (embark-bindings buffer)
       (consult-locate buffer)
       (consult-project-buffer buffer)
       (consult-ripgrep buffer)
       (consult-fd buffer)))
  :custom
  (vertico-cycle t)
  (read-file-name-completion-ignore-case t)
  (read-buffer-completion-ignore-case t)
  (completion-ignore-case t)
  (vertico-resize nil)
  (vertico-count 20)
  :bind (:map vertico-map
          ("C-n" . vertico-next)
          ("C-p" . vertico-previous)
          :repeat-map my/vertico-repeat-map
          ("n" . vertico-next)
          ("p" . vertico-previous)))

(use-package vertico-posframe
  :config
  (vertico-posframe-mode -1))

(use-package orderless
  :custom
  (completion-styles '(flex orderless)))

(use-package marginalia
  :after vertico
  :custom
  (marginalia-annotators
    '(marginalia-annotators-heavy marginalia-annotators-light nil))
  :init
  (marginalia-mode))

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org4a7d570" class="outline-2">
<h2 id="org4a7d570"><span class="section-number-2">12.</span> keys-navigation</h2>
<div class="outline-text-2" id="text-12">
<p>
Defines custom keybindings for navigating through files and Emacs features like tabs, dired, and scratch buffers.
</p>

<p>
To reduce wrist RSI I am using the left meta thumb key as much as possible.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; keys-navigation
;;

(defvar my-jump-keymap (make-sparse-keymap))
(global-set-key (kbd "M-o") my-jump-keymap)

(define-key my-jump-keymap (kbd "-") #'tab-close)
(define-key my-jump-keymap (kbd "=") (lambda () (interactive) (tab-bar-new-tab-to -1)(tab-bar-mode 'toggle)))
(define-key my-jump-keymap (kbd "e") (lambda () (interactive) (find-file (concat user-emacs-directory "init.el"))))
(define-key my-jump-keymap (kbd "f") #'my/find-file)
(define-key my-jump-keymap (kbd "h") (lambda () (interactive) (find-file "~")))
(define-key my-jump-keymap (kbd "k") (lambda () (interactive) (find-file (concat user-emacs-directory "emacs--init.org"))))
(define-key my-jump-keymap (kbd "o") #'my/switch-to-thing)
(define-key my-jump-keymap (kbd "p") #'proced)
(define-key my-jump-keymap (kbd "r") #'scratch-buffer)
(define-key my-jump-keymap (kbd "t") #'customize-themes)

</pre>
</div>
</div>
</div>

<div id="outline-container-org8e98c0e" class="outline-2">
<h2 id="org8e98c0e"><span class="section-number-2">13.</span> keys-visual</h2>
<div class="outline-text-2" id="text-13">
<p>
Sets up keybindings for quickly toggling visual features like font, theme, line numbers, and other window displays.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; keys-visual
;;

(defvar my-win-keymap (make-sparse-keymap))
(global-set-key (kbd "M-m") my-win-keymap)

(define-key my-win-keymap (kbd "a") #'selected-window-accent-mode)
(define-key my-win-keymap (kbd "b") #'(lambda () (interactive)(tab-bar-mode 'toggle)))
(define-key my-win-keymap (kbd "c") #'display-fill-column-indicator-mode)
(define-key my-win-keymap (kbd "d") #'window-divider-mode)
(define-key my-win-keymap (kbd "e") #'whitespace-mode)
(define-key my-win-keymap (kbd "f") #'font-lock-mode)
(define-key my-win-keymap (kbd "g") #'my/toggle-scroll-margin)
(define-key my-win-keymap (kbd "i") #'highlight-indent-guides-mode)
(define-key my-win-keymap (kbd "h") #'hl-line-mode)
(define-key my-win-keymap (kbd "m") #'my/toggle-mode-line)
(define-key my-win-keymap (kbd "n") #'display-line-numbers-mode)
(define-key my-win-keymap (kbd "o") #'visual-fill-column-mode)
(define-key my-win-keymap (kbd "p") #'variable-pitch-mode)
(define-key my-win-keymap (kbd "q") #'toggle-menu-bar-mode-from-frame)
(define-key my-win-keymap (kbd "r") #'org-modern-mode)
(define-key my-win-keymap (kbd "s") #'my/toggle-internal-border-width)
(define-key my-win-keymap (kbd "t") #'consult-theme)
(define-key my-win-keymap (kbd "u") #'toggle-truncate-lines)
(define-key my-win-keymap (kbd "v") #'visual-line-mode)
(define-key my-win-keymap (kbd "x") #'my/change-accent-color)
(define-key my-win-keymap (kbd "y") #'selected-window-accent--switch-selected-window-accent-style)

</pre>
</div>
</div>
</div>

<div id="outline-container-org039f5a0" class="outline-2">
<h2 id="org039f5a0"><span class="section-number-2">14.</span> keys-other</h2>
<div class="outline-text-2" id="text-14">
<p>
Configures a sparse keymap for miscellaneous actions like evaluating expressions and capturing content with Org mode.
</p>

<p>
This section is a bit experimental while I continue to work out a nice hand comfort layout.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; keys-other
;;

(defvar my-other-keymap (make-sparse-keymap))
(global-set-key (kbd "M-r") my-other-keymap)

(global-set-key (kbd "M-s d") #'eval-last-sexp)
(global-set-key (kbd "M-s f") #'eval-defun)
(global-set-key (kbd "M-s q") #'dired-toggle-read-only)

</pre>
</div>
</div>
</div>

<div id="outline-container-org66ebed3" class="outline-2">
<h2 id="org66ebed3"><span class="section-number-2">15.</span> magit</h2>
<div class="outline-text-2" id="text-15">
<p>
Configures `magit` for Git integration, adjusting interface preferences and repository directories for easy access to version control features.
</p>

<p>
Note that due to my window split bindings with numeric keys I have unbound those in magit, but I don't use those keys anyway.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; magit
;;

(when (executable-find "git")
  (use-package magit
    :config
    (unbind-key "M-0" magit-mode-map)
    (unbind-key "M-1" magit-mode-map)
    (unbind-key "M-2" magit-mode-map)
    (unbind-key "M-3" magit-mode-map)
    (unbind-key "M-4" magit-mode-map)
    (magit-add-section-hook
      'magit-status-sections-hook 'magit-insert-tracked-files nil 'append)
    :custom
    (magit-section-initial-visibility-alist (quote ((untracked . hide))))
    (magit-repolist-column-flag-alist
      '((magit-untracked-files . "N")
         (magit-unstaged-files . "U")
         (magit-staged-files . "S")))
    (magit-repolist-columns
      '(("Name" 25 magit-repolist-column-ident nil)
         ("" 3 magit-repolist-column-flag)
         ("Version" 25 magit-repolist-column-version
           ((:sort magit-repolist-version&lt;)))
         ("B&lt;U" 3 magit-repolist-column-unpulled-from-upstream
           ((:right-align t)
             (:sort &lt;)))
         ("B&gt;U" 3 magit-repolist-column-unpushed-to-upstream
           ((:right-align t)
             (:sort &lt;)))
         ("Path" 99 magit-repolist-column-path nil)))
    (magit-repository-directories
      '(("~/.config" . 0)
         ("~/repos" . 2)
         ("~/bin" . 1)
         ("~/DCIM/Art/Content" . 2)
         ("~/DCIM/themes" . 2)))))

(global-set-key (kbd "M-s m") 'magit-status)

</pre>
</div>
</div>
</div>

<div id="outline-container-orga3ac59c" class="outline-2">
<h2 id="orga3ac59c"><span class="section-number-2">16.</span> emms</h2>
<div class="outline-text-2" id="text-16">
<p>
Setup for the Emacs Multimedia System (EMMS) for managing and playing media files within Emacs.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; emms
;;

(use-package emms
  :init (emms-all)
  :hook
  (emms-browser-mode . turn-on-follow-mode)
  (emms-browser-mode . hl-line-mode)
  :bind
  ("S-&lt;return&gt;" . emms-next)
  ("C-M-&lt;return&gt;" . emms-random)
  :custom
  (emms-default-players)
  (emms-player-list '(emms-player-vlc))
  (emms-browser-covers 'emms-browser-cache-thumbnail-async)
  (emms-source-file-default-directory "~/MyMusicLibrary")
  (emms-volume-amixer-card 1)
  (emms-volume-change-function 'emms-volume-pulse-change))

(require 'emms-setup)

</pre>
</div>
</div>
</div>

<div id="outline-container-org80ff4b1" class="outline-2">
<h2 id="org80ff4b1"><span class="section-number-2">17.</span> elfeed</h2>
<div class="outline-text-2" id="text-17">
<p>
Configures `elfeed` for RSS/Atom feed reading, showcasing customization of feed sources and display settings.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; elfeed
;;

(use-package elfeed
  :bind
  ("C-x w" . elfeed)
  (:map elfeed-search-mode-map
    ("n" . (lambda () (interactive)
             (forward-line 1) (call-interactively 'elfeed-search-show-entry)))
    ("p" . (lambda () (interactive)
             (forward-line -1) (call-interactively 'elfeed-search-show-entry)))
    ("m" . (lambda () (interactive)
             (apply 'elfeed-search-toggle-all '(star)))))
  :custom
  (elfeed-search-remain-on-entry t)
  (elfeed-search-title-min-width 60)
  (elfeed-search-title-max-width 60)
  (elfeed-search-filter "@2-months-ago")
  (elfeed-feeds
    '("https://www.dyerdwelling.family/index.xml"
       "https://www.emacs.dyerdwelling.family/index.xml"
       "https://www.emacs.dyerdwelling.family/tags/emacs/index.xml"
       "http://emacsninja.com/feed.atom"
       "http://www.omgubuntu.co.uk/feed"
       "http://feeds.feedburner.com/XahsEmacsBlog"
       "https://emacsair.me/feed.xml"
       "https://www.ghacks.net/feed/"
       "https://linuxstoney.com/feed"
       "http://emacsredux.com/atom.xml"
       "https://www.creativebloq.com/feed"
       "https://feeds.howtogeek.com/HowToGeek"
       "http://planet.emacslife.com/atom.xml"
       "http://irreal.org/blog/?feed=rss2"
       "https://itsfoss.com/feed/"
       "https://9to5linux.com/feed/atom"
       "https://opensource.com/feed"
       "http://www.masteringemacs.org/feed/"
       "https://jao.io/blog/rss.xml")))

(defun my/show-elfeed (buffer)
  "Show Elfeed wrapper with BUFFER."
  (display-buffer buffer))

(setq elfeed-show-mode-hook
  (lambda ()
    (set-face-attribute 'variable-pitch (selected-frame)
      :font (font-spec :family "Source Code Pro" :size 16))
    (setq elfeed-show-entry-switch #'my/show-elfeed)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org2066619" class="outline-2">
<h2 id="org2066619"><span class="section-number-2">18.</span> expansion</h2>
<div class="outline-text-2" id="text-18">
<p>
Enables and configures word expansion functionalities likened to text snippet expansion and auto-completion within Emacs.
</p>

<p>
Although I am using hippie-expand I am using it pretty much in a simply dabbrev type of manner.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; expansion
;;

(setq-default abbrev-mode t)

(global-set-key (kbd "M-/") 'hippie-expand)

(setq hippie-expand-try-functions-list
  '(try-complete-file-name-partially try-complete-file-name
     try-expand-all-abbrevs try-expand-dabbrev
     try-expand-dabbrev-all-buffers try-expand-dabbrev-from-kill
     try-complete-lisp-symbol-partially try-complete-lisp-symbol))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgeed2ef2" class="outline-2">
<h2 id="orgeed2ef2"><span class="section-number-2">19.</span> keybinding</h2>
<div class="outline-text-2" id="text-19">
<p>
Demonstrates a broad set of global keybindings for common actions like saving buffers, controlling text scale, and navigating large documents.
</p>

<p>
Note that occasionally I use the use-package related bind-key for a set all modes keybinding
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; keybinding
;;

(global-set-key (kbd "C-x C-o") 'my/collapse-space)
(global-set-key (kbd "M-_") #'my/replace-spaces-with-dashes-or-vice-versa)
(global-set-key (kbd "M-s h") 'my/mark-block)
(global-set-key (kbd "M-@") 'my/mark-block)
(global-set-key (kbd "M-'") 'my/mark-word)
(global-set-key (kbd "M-s s") 'save-buffer)
(global-set-key (kbd "C-=") '(lambda ()(interactive)(text-scale-adjust 1)))
(global-set-key (kbd "C--") '(lambda ()(interactive)(text-scale-adjust -1)))
(global-set-key (kbd "M-s l") 'save-buffer)
(global-set-key (kbd "M-s s") 'save-buffer)
(global-set-key (kbd "M-s p") 'org-plot/gnuplot)
(global-set-key (kbd "M-s [") 'beginning-of-buffer)
(global-set-key (kbd "M-s ]") 'end-of-buffer)
(global-set-key (kbd "M-s v") 'org-babel-tangle)
(global-set-key (kbd "M-s e") 'my/push-block)
(global-set-key (kbd "M-s b") '(lambda ()(interactive)(org-table-recalculate 'all)))
(global-set-key (kbd "M-s g") 'my/text-browser-search)
(global-set-key (kbd "M-=") 'count-words)
(define-key minibuffer-local-map (kbd "C-c e") #'embark-collect)
(define-key minibuffer-local-map (kbd "M-o") #'abort-minibuffers)
(global-set-key (kbd "C-c a") 'org-agenda)
(global-set-key (kbd "M-h") #'my/prev-window)
(global-set-key (kbd "M-l") #'my/next-window)
(global-set-key (kbd "M-j") #'my/next-scroll)
(global-set-key (kbd "M-k") #'my/prev-scroll)
(bind-key* (kbd "M-n") #'next-line)
(bind-key* (kbd "M-p") #'previous-line)
(bind-key* (kbd "M-J") #'scroll-up-command)
(bind-key* (kbd "M-K") #'scroll-down-command)
(bind-key* (kbd "M-[") #'beginning-of-buffer)
(bind-key* (kbd "M-]") #'end-of-buffer)
(global-set-key (kbd "M-I") #'my/window-enlarge)
(global-set-key (kbd "M-U") #'my/window-shrink)
(global-set-key (kbd "C-c b") (lambda ()(interactive)(async-shell-command "do_backup home" "*backup*")))
(global-set-key (kbd "C-c c") 'org-capture)
(global-set-key (kbd "C-c f") 'my/fold)
(global-set-key (kbd "C-x C-b") 'ibuffer)
(global-set-key (kbd "C-x l") 'scroll-lock-mode)
(global-set-key (kbd "M-0") 'delete-window)
(global-set-key (kbd "M-1") 'delete-other-windows)
(global-set-key (kbd "M-2") 'split-window-vertically)
(global-set-key (kbd "M-3") 'split-window-horizontally)
(global-set-key (kbd "M-;") 'my/comment-or-uncomment)
(global-set-key (kbd "M-9") 'my/grep)
(global-set-key (kbd "C-c ,") 'embark-act)
(global-set-key (kbd "M-s ,") 'my/mark-line)
(global-unset-key (kbd "C-z"))
(global-unset-key (kbd "C-h h"))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgf80c0ce" class="outline-2">
<h2 id="orgf80c0ce"><span class="section-number-2">20.</span> consult</h2>
<div class="outline-text-2" id="text-20">
<p>
Integrates `consult` for enhanced search and navigation within Emacs, providing shortcuts and configuration for more efficient workflows.
</p>

<p>
I only really use the consult preview mechanism for themes and otherwise turn it off.
</p>

<div class="org-src-container">
<pre class="src src-elisp">
;; (global-set-key (kbd "C-x b") 'my/switch-to-thing)
(global-set-key (kbd "M-g o") 'consult-outline)
(global-set-key (kbd "M-g i") 'consult-imenu)

(consult-customize
  consult-theme :preview-key '(:debounce 0.2 any)
  consult-recent-file consult-buffer consult-outline consult-imenu consult-history :preview-key nil)

</pre>
</div>
</div>
</div>

<div id="outline-container-orgcde1995" class="outline-2">
<h2 id="orgcde1995"><span class="section-number-2">21.</span> modes</h2>
<div class="outline-text-2" id="text-21">
<p>
Turns on various modes like `global-font-lock-mode` for syntax highlighting and `show-paren-mode` for matching parenthesis visualization, and configures preferences for a wide array of basic behaviours and visual indicators.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; modes
;;

(global-font-lock-mode 1)
(savehist-mode 1)
(global-ede-mode t)
(global-prettify-symbols-mode t)
(auto-fill-mode -1)
(blink-cursor-mode -1)
(column-number-mode 1)
(global-auto-revert-mode 1)
(put 'narrow-to-page 'disabled nil)
(put 'narrow-to-region 'disabled nil)
(put 'downcase-region 'disabled -1)
(show-paren-mode 1)
(setq tooltip-mode nil)
(transient-mark-mode 1)
;; (pixel-scroll-precision-mode 1)

</pre>
</div>
</div>
</div>

<div id="outline-container-orgd726ee0" class="outline-2">
<h2 id="orgd726ee0"><span class="section-number-2">22.</span> bell</h2>
<div class="outline-text-2" id="text-22">
<p>
Suppresses the auditory bell function in Emacs and opts for a visible bell or completely ignores bell triggers, improving the user interface experience during invalid operations.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; bell
;;

(setq visible-bell t)
(setq ring-bell-function 'ignore)

</pre>
</div>
</div>
</div>

<div id="outline-container-orgfc32f71" class="outline-2">
<h2 id="orgfc32f71"><span class="section-number-2">23.</span> setqs</h2>
<div class="outline-text-2" id="text-23">
<p>
This broad category includes a wide range of `setq` configurations that modify the behaviour of Emacs's core features â€” from file handling to search behaviours, reinforcing the customizability of Emacs.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; setqs
;;

(setq fit-window-to-buffer-horizontally t)
(setq case-fold-search t)
(setq custom-safe-themes t)
(setq tramp-default-method "ssh")
(setq enable-local-variables :all)
(setq isearch-lazy-count t)
(setq shr-max-image-proportion 0.5)
(setq shr-max-width 80)
(setq shr-width 70)
(setq tooltip-hide-delay 0)
(when (fboundp 'imagemagick-register-types)
  (imagemagick-register-types))
(setq kill-buffer-query-functions nil)
(setq use-dialog-box nil)
(setq switch-to-buffer-obey-display-actions t)
(setq disabled-command-function nil)
(setq auto-revert-use-notify nil)
(setq auto-revert-verbose nil)
(setq create-lockfiles nil)
(setq use-short-answers t)
(setq delete-by-moving-to-trash t)
(setq european-calendar-style t)
(setq frame-inhibit-implied-resize t)
(setq global-auto-revert-non-file-buffers t)
(setq grep-command "grep -ni ")
(setq kill-whole-line t)
(setq large-file-warning-threshold nil)
(setq reb-re-syntax 'string)
(setq truncate-lines t)
(setq suggest-key-bindings nil)

</pre>
</div>
</div>
</div>

<div id="outline-container-orgfc2cdec" class="outline-2">
<h2 id="orgfc2cdec"><span class="section-number-2">24.</span> confirm</h2>
<div class="outline-text-2" id="text-24">
<p>
Configures aliases and settings for reducing the need for confirmations in repetitive tasks, streamlining user workflows.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; confirm
;;

(defalias 'yes-or-no-p 'y-or-n-p)
(setq confirm-kill-emacs 'y-or-n-p)
(setq confirm-kill-processes nil)
(setq confirm-nonexistent-file-or-buffer nil)
(set-buffer-modified-p nil)

</pre>
</div>
</div>
</div>

<div id="outline-container-orgafd5c5f" class="outline-2">
<h2 id="orgafd5c5f"><span class="section-number-2">25.</span> backups</h2>
<div class="outline-text-2" id="text-25">
<p>
Adjusts Emacs's file backup settings for a better experience, specifying backup file locations and policies to prevent data loss while keeping the working directory clean.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; backups
;;

(setq make-backup-files 1)
(setq backup-directory-alist '(("." . "~/backup"))
  backup-by-copying t    ; Don't delink hardlinks
  version-control t          ; Use version numbers on backups
  delete-old-versions t  ; Automatically delete excess backups
  kept-new-versions 10   ; how many of the newest versions to keep
  kept-old-versions 5)    ; and how many of the old

</pre>
</div>
</div>
</div>

<div id="outline-container-orgd3ddcb0" class="outline-2">
<h2 id="orgd3ddcb0"><span class="section-number-2">26.</span> hooks</h2>
<div class="outline-text-2" id="text-26">
<p>
Demonstrates the use of hooks for automatically executing code upon entering specific modes or conditions, like automatically enabling certain formats or functionalities.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; hooks
;;

<!-- (add-hook 'before-save-hook 'time-stamp) -->
(add-hook 'before-save-hook 'delete-trailing-whitespace)
(add-hook 'calendar-mode-hook 'diary-mark-entries)
(add-hook 'diary-list-entries-hook 'diary-include-other-diary-files)
(add-hook 'diary-mark-entries-hook 'diary-mark-included-diary-files)
(add-hook 'next-error-hook #'org-fold-show-all)

</pre>
</div>
</div>
</div>

<div id="outline-container-orge122bbb" class="outline-2">
<h2 id="orge122bbb"><span class="section-number-2">27.</span> custom-settings</h2>
<div class="outline-text-2" id="text-27">
<p>
Places for `custom-set-variables` and `custom-set-faces` used by Emacs's customization system to record user preferences set through the graphical customize interface.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; custom-settings
;;

(custom-set-variables
  ;; custom-set-variables was added by Custom.
  ;; If you edit it by hand, you could mess it up, so be careful.
  ;; Your init file should contain only one such instance.
  ;; If there is more than one, they won't work right.
  '(custom-enabled-themes '(doom-dracula))
  '(warning-suppress-log-types '((frameset)))
  '(warning-suppress-types '((frameset))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orge8c510d" class="outline-2">
<h2 id="orge8c510d"><span class="section-number-2">28.</span> defun</h2>
<div class="outline-text-2" id="text-28">
<p>
Defines a suite of custom functions to extend Emacs's functionality tailored to specific tasks or personal preferences, showcasing the extensibility of Emacs with Lisp programming.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; defun
;;

(defun my/resize-window (delta &amp;optional horizontal)
  "Resize window back and forth by DELTA and HORIZONTAL."
  (interactive)
  (cond
    ((&lt; (nth 0 (window-edges)) 2)
      (enlarge-window delta horizontal))
    (t (select-window (windmove-left (selected-window)))
      (enlarge-window delta horizontal)
      (select-window (windmove-right (selected-window))))))

(defun save-macro (name)
  "Save a macro by NAME."
  (interactive "SName of the macro: ")
  (kmacro-name-last-macro name)
  (find-file user-init-file)
  (goto-char (point-max))
  (newline)
  (insert-kbd-macro name)
  (newline))

(defun my/comment-or-uncomment ()
  "Comment or uncomment the current line or region."
  (interactive)
  (if (region-active-p)
    (comment-or-uncomment-region
      (region-beginning)(region-end))
    (comment-or-uncomment-region
      (line-beginning-position)(line-end-position))))

(defun my/fold ()
  "Fold text indented same of more than the cursor."
  (interactive)
  (if (eq selective-display (1+ (current-column)))
    (set-selective-display 0)
    (set-selective-display (1+ (current-column)))))

(defun my/grep (arg)
  "Wrapper to grep with ARG."
  (interactive "p")
  (let ((search-term
          (if (equal major-mode 'dired-mode)
            (read-from-minibuffer "Search : ")
            (read-from-minibuffer "Search : " (thing-at-point 'symbol)))))
    (if (= arg 1)
      (deadgrep search-term default-directory)
      (progn
        (setq current-prefix-arg nil)
        (deadgrep search-term "~")))))

(defun my/dired-duplicate-file (arg)
  "Duplicate a file from DIRED with an incremented number.
If ARG is provided, it sets the counter."
  (interactive "p")
  (let* ((file (dired-get-file-for-visit))
          (dir (file-name-directory file))
          (name (file-name-nondirectory file))
          (base-name (file-name-sans-extension name))
          (extension (file-name-extension name t))
          (counter (if arg (prefix-numeric-value arg) 1))
          (new-file))
    (while (and (setq new-file
                  (format "%s%s_%03d%s" dir base-name counter extension))
             (file-exists-p new-file))
      (setq counter (1+ counter)))
    (if (file-directory-p file)
      (copy-directory file new-file)
      (copy-file file new-file))
    (dired-revert)))

(defun convert-weight (weight)
  "Convert WEIGHT from string to pounds."
  (let* ((parts (split-string weight ":"))
          (stone (string-to-number (car parts)))
          (pounds (string-to-number (cadr parts))))
    (+ (* stone 14) pounds)))

(defun my/mark-word ()
  "Redefinition of 'mark-word'."
  (interactive)
  (when (not (region-active-p))
    (backward-to-word 1))
  (forward-to-word 1)
  (when (not (region-active-p))
    (push-mark))
  (forward-word)
  (setq mark-active t))

(defun my/mark-line ()
  "Mark whole line."
  (interactive)
  (beginning-of-line)
  (push-mark (point) nil t)
  (end-of-line))

(defun my/mark-block ()
  "Marking a block of text surrounded by a newline."
  (interactive)
  (when (not (region-active-p))
    (backward-char))
  (skip-chars-forward " \n\t")
  (re-search-backward "^[ \t]*\n" nil 1)
  (skip-chars-forward " \n\t")
  (when (not (region-active-p))
    (push-mark))
  (re-search-forward "^[ \t]*\n" nil 1)
  (skip-chars-backward " \n\t")
  (setq mark-active t))

(defun my/replace-spaces-with-dashes-or-vice-versa (start end &amp;optional reverse)
  "Replace all spaces with dashes or dashes with spaces in the selected region from START to END.
With a prefix argument (C-u), replaces dashes with spaces instead."
  (interactive "r\nP") ; "\nP" captures the prefix argument
  (let* ((selected-text (buffer-substring start end))
          (replacement-text (if reverse
                              (replace-regexp-in-string "-" " " selected-text)
                              (replace-regexp-in-string " " "-" selected-text))))
    (delete-region start end)
    (insert replacement-text)))

(require 'cl-lib)

(defun my/collapse-space ()
  "Collapses consecutive blank lines down to a single blank line."
  (interactive)
  (save-excursion
    (let ((found-blank-lines 0))
      (while (and (not (eobp)))
        (if (looking-at "^[ ]*\n")
          (progn
            (setq found-blank-lines (1+ found-blank-lines))
            (replace-match ""))
          (if (&gt; found-blank-lines 0)
            (progn
              (if (&gt; found-blank-lines 1)
                (insert "\n"))
              (cl-return))
            (forward-line)))))))

(defun my/text-browser-search ()
  "Use the selected text (or word under cursor)
as search term for Google search in web browser."
  (interactive)
  (let (search-term start end)
    ;; Check if text is selected, otherwise use the word at the cursor position
    (if (use-region-p)
      (setq start (region-beginning)
        end (region-end))
      (setq start (beginning-of-thing 'word)
        end (end-of-thing 'word)))
    ;; Extract the search term and urlencode it
    (setq search-term (buffer-substring-no-properties start end))
    (setq search-term (replace-regexp-in-string "[[:space:]\n]+" "+" search-term))
    ;; Open in an external browser
    (browse-url (concat "https://www.startpage.com/search?q=" search-term))))

(defun my/toggle-scroll-margin (&amp;optional value)
  "Toggle the scroll margin based on VALUE."
  (interactive "P")
  (let ((new-value (if value
                     value
                     (if (= (or scroll-margin 0) 0)
                       20
                       0))))
    (setq scroll-margin new-value)))

(defun my/clear-recentf-list ()
  "Clears the recentf list."
  (interactive)
  (setq recentf-list nil)
  (recentf-save-list)
  (message "Cleared recent files list"))

(defun my/next-scroll ()
  (interactive)
  (forward-line (/ (window-height) 8)))

(defun my/prev-scroll ()
  (interactive)
  (forward-line (- (/ (window-height) 8))))

(defun my/next-window ()
  (interactive)
  (select-window (next-window)))

(defun my/prev-window ()
  (interactive)
  (select-window (previous-window)))

(defun my/window-enlarge ()
  (interactive)
  (my/resize-window 4 t))

(defun my/window-shrink ()
  (interactive)
  (my/resize-window -4 t))

</pre>
</div>
</div>
</div>

<div id="outline-container-org5ef50f9" class="outline-2">
<h2 id="org5ef50f9"><span class="section-number-2">29.</span> window-positioning</h2>
<div class="outline-text-2" id="text-29">
<p>
Configures rules and behaviours for display-buffer functions to control how new buffers are shown, whether in existing windows or new splits, enhancing window management in Emacs.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; window-positioning
;;
;; (add-to-list 'display-buffer-alist
;;   '("\\*rsync" display-buffer-no-window
;;      (allow-no-window . t)))

(add-to-list 'display-buffer-alist
  '("\\*Async" display-buffer-no-window
     (allow-no-window . t)))

(add-to-list 'display-buffer-alist
  '("\\*kmonad" display-buffer-no-window
     (allow-no-window . t)))

(add-to-list 'display-buffer-alist
  '("\\*Proced" display-buffer-same-window))

(add-to-list 'display-buffer-alist
  '("\\*Messages" display-buffer-same-window))

(add-to-list 'display-buffer-alist
  '("magit:" display-buffer-same-window))

(add-to-list 'display-buffer-alist
  '("\\*deadgrep"
     (display-buffer-reuse-window display-buffer-in-direction)
     (direction . leftmost)
     (dedicated . t)
     (window-width . 0.33)
     (inhibit-same-window . t)))

(add-to-list 'display-buffer-alist
  '("\\*compilation"
     (display-buffer-reuse-window display-buffer-in-direction)
     (direction . leftmost)
     (dedicated . t)
     (window-width . 0.3)
     (inhibit-same-window . t)))

(add-to-list 'display-buffer-alist
  '("consult-ripgrep"
     (display-buffer-reuse-window display-buffer-in-direction)
     (direction . leftmost)
     (dedicated . t)
     (window-width . 0.33)
     (inhibit-same-window . t)))

(add-to-list 'display-buffer-alist
  '("\\*Help\\*"
     (display-buffer-reuse-window display-buffer-same-window)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org8d6f9dc" class="outline-2">
<h2 id="org8d6f9dc"><span class="section-number-2">30.</span> org-capture</h2>
<div class="outline-text-2" id="text-30">
<p>
Customizes Org Capture templates for quickly capturing notes, tasks, and other items with predefined templates, optimizing personal organization and productivity workflows.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; org-capture
;;

(setq bookmark-fringe-mark nil)

(defun my-capture-top-level ()
  "Function to capture a new entry at the top level of the given file."
  (goto-char (point-min))
  (or (outline-next-heading)
    (goto-char (point-max)))
  (unless (bolp) (insert "\n")))

(setq org-capture-templates
  '(
     ("c" "Calendar" plain
       (file+function
         "~/DCIM/content/aaa--calendar.org"
         my-capture-top-level)
       "* TODO %?\n SCHEDULED: %(cfw:org-capture-day)\n"
       :prepend t :jump-to-captured t)

     ("t" "Tagged" plain
       (file+function
         "~/DCIM/content/tags--all.org"
         my-capture-top-level)
       "* DONE %^{title} tagged :%\\1:
:PROPERTIES:
:EXPORT_FILE_NAME: index
:EXPORT_HUGO_SECTION: tagged/%\\1
:EXPORT_HUGO_LASTMOD: &lt;%&lt;%Y-%m-%d %H:%M&gt;&gt;
:EXPORT_HUGO_TYPE: gallery
:EXPORT_HUGO_CUSTOM_FRONT_MATTER+: :thumbnail /tagged/%\\1.jpg
:END:
%\\1 tagged
%?
" :prepend t :jump-to-captured t)

     ("p" "Post" plain
       (file+function
         "~/DCIM/content/posts--all.org"
         my-capture-top-level)
       "* TODO %^{title} :2024:
:PROPERTIES:
:EXPORT_FILE_NAME: %&lt;%Y%m%d%H%M%S&gt;-posts--%\\1
:EXPORT_HUGO_SECTION: posts
:EXPORT_HUGO_LASTMOD: &lt;%&lt;%Y-%m-%d %H:%M&gt;&gt;
:EXPORT_HUGO_CUSTOM_FRONT_MATTER+: :thumbnail /posts/%&lt;%Y%m%d%H%M%S&gt;-posts--%\\1.jpg
:END:
%?
" :prepend t :jump-to-captured t)

     ("e" "Emacs" plain
       (file+function
         "~/DCIM/content/emacs--all.org"
         my-capture-top-level)
       "* TODO %^{title} :emacs:2024:
:PROPERTIES:
:EXPORT_FILE_NAME: %&lt;%Y%m%d%H%M%S&gt;-emacs--%\\1
:EXPORT_HUGO_SECTION: emacs
:EXPORT_HUGO_LASTMOD: &lt;%&lt;%Y-%m-%d %H:%M&gt;&gt;
:EXPORT_HUGO_CUSTOM_FRONT_MATTER+: :thumbnail /emacs/%&lt;%Y%m%d%H%M%S&gt;-emacs--%\\1.jpg
:END:
%?
" :prepend t :jump-to-captured t)

     ("l" "Linux" plain
       (file+function
         "~/DCIM/content/linux--all.org"
         my-capture-top-level)
       "** TODO %^{title} :2024:
:PROPERTIES:
:EXPORT_FILE_NAME: %&lt;%Y%m%d%H%M%S&gt;-linux--%\\1
:EXPORT_HUGO_SECTION: linux
:EXPORT_HUGO_LASTMOD: &lt;%&lt;%Y-%m-%d %H:%M&gt;&gt;
:EXPORT_HUGO_CUSTOM_FRONT_MATTER+: :thumbnail /linux/%&lt;%Y%m%d%H%M%S&gt;-emacs--%\\1.jpg
:END:
%?
" :prepend t :jump-to-captured t)

     ("a" "Art")

     ("av" "Art Videos" plain
       (file+function
         "~/DCIM/content/art--all.org"
         my-capture-top-level)
       "* TODO %^{title} Video :videos:painter:krita:artrage:2024:
:PROPERTIES:
:EXPORT_FILE_NAME: %&lt;%Y%m%d%H%M%S&gt;--%\\1-%\\2
:EXPORT_HUGO_SECTION: art--videos
:EXPORT_HUGO_LASTMOD: &lt;%&lt;%Y-%m-%d %H:%M&gt;&gt;
:EXPORT_HUGO_CUSTOM_FRONT_MATTER+: :thumbnail /art--videos/%&lt;%Y%m%d%H%M%S&gt;--%\\1-%\\2.jpg
:VIDEO:
:END:
#+begin_export md
{{&lt; youtube %^{youtube} &gt;}}
#+end_export
%?
" :prepend t :jump-to-captured t)

     ("aa" "Art" plain
       (file+function
         "~/DCIM/content/art--all.org"
         my-capture-top-level)
       "** TODO %^{title} :painter:krita:artrage:2024:
:PROPERTIES:
:EXPORT_FILE_NAME: %\\1
:EXPORT_HUGO_SECTION: art--all
:EXPORT_HUGO_LASTMOD: &lt;%&lt;%Y-%m-%d %H:%M&gt;&gt;
:EXPORT_HUGO_CUSTOM_FRONT_MATTER+: :thumbnail /art--all/%\\1.jpg
:VIDEO:
:END:
#+attr_org: :width 300px
#+attr_html: :width 100%
#+begin_export md
#+end_export
%?
" :prepend t :jump-to-captured t)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org5b049db" class="outline-2">
<h2 id="org5b049db"><span class="section-number-2">31.</span> org</h2>
<div class="outline-text-2" id="text-31">
<p>
Extends and customizes Org mode for document structuring, note-taking, and project management, highlighting customization options for exporting, appearance, and functionality enhancements.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; org
;;

(use-package org
  :defer t
  :hook
  (org-mode . (lambda ()(org-indent-mode)(diminish 'org-indent-mode)))
  :config
  (define-key org-mode-map (kbd "M-h") nil)
  (setq org-src-tab-acts-natively t ;; commenting better in org src blocks
    org-indent-indentation-per-level 2
    org-blank-before-new-entry '((heading . nil) (plain-list-item . nil))
    org-edit-src-content-indentation 0
    org-src-preserve-indentation t
    org-directory "~/DCIM/content/"
    org-default-notes-file "~/DCIM/content/aad--todo.org"
    org-hide-leading-stars t
    org-reverse-note-order t
    org-log-done 'time
    org-tags-sort-function 'org-string-collate-greaterp
    org-export-with-sub-superscripts nil
    org-hugo-base-dir "~/DCIM"
    org-image-actual-width (list 50)
    org-startup-indented t
    org-todo-keywords
    '((sequence "TODO" "DOING" "RPT" "CANCELLING" "WAIT" "WATCH" "ORDR" "SENT" "|" "CANCELLED" "DONE"))
    org-todo-keyword-faces
    '(("TODO" . "#ee5566")
       ("DOING" . "#5577aa")
       ("RPT" . "#cccc00")
       ("CANCELLING" . "#ccccff")
       ("WAIT" . "#bb7744")
       ("WATCH" . "#bbad44")
       ("ORDR" . "#bb44ee")
       ("SENT" . "#bb44ee")
       ("CANCELLED" . "#426b3e")
       ("DONE" . "#77aa66"))
    org-cycle-separator-lines 0)
  :bind
  (:map org-mode-map
    ("M-n" . org-metadown)
    ("M-p" . org-metaup)
    ("M-N" . org-shiftdown)
    ("M-P" . org-shiftup)
    ("M-J" . org-shiftleft)
    ("M-K" . org-shiftright)
    ("M-[" . org-metaleft)
    ("M-]" . org-metaright)
    :repeat-map my/org-mode-repeat-map
    ("n" . org-metadown)
    ("p" . org-metaup)
    ("N" . org-shiftdown)
    ("P" . org-shiftup)
    ("J" . org-shiftleft)
    ("K" . org-shiftright)
    ("[" . org-metaleft)
    ("]" . org-metaright)))

(use-package org-tidy)

(use-package org-modern
  :init (global-org-modern-mode -1))

(defun my/org-ql-emacs ()
  "Test org-ql query."
  (interactive)
  (org-ql-search (org-agenda-files)
    '(and (done) (tags "2023") (tags "emacs"))
    :title "Emacs-related project tasks"
    :sort '(date priority todo)
    :super-groups '((:auto-parent t))))

</pre>
</div>

<p>
Disables the parenthesis matching to &lt; and &gt; only in org mode as it is causing matching problems when using org literate files.
</p>

<div class="org-src-container">
<pre class="src src-elisp">
(defun org-syntax-table-modify ()
  "Modify `org-mode-syntax-table' for the current org buffer."
  (modify-syntax-entry ?&lt; "." org-mode-syntax-table)
  (modify-syntax-entry ?&gt; "." org-mode-syntax-table))

(defun my/org-shrink-tables ()
  "Shrink all tables in the Org buffer."
  (interactive)
  (save-excursion
    (let ((block-start (point-min))   ;; Initialize to the start of the buffer
           (block-end (point-min)))
      (goto-char (point-min))
      ;; Loop over all tables in the buffer
      (while (search-forward "|-" nil t)
        (save-excursion
          ;; Check if we're currently in a source block
          (when (org-between-regexps-p "^[ \t]*#\\+begin_src" "^[ \t]*#\\+end_src")
            ;; If yes, move block-end to the end of the current source block
            (end-of-line)
            (search-forward-regexp "^[ \t]*#\\+end_src" nil t)
            (setq block-end (point))
            ;; Jump to the end of the current source block
            (goto-char block-end)))
        ;; Ensure we're not inside a recently skipped source block
        (unless (&lt;= (point) block-end)
          ;; Shrink table as we're outside a source block
          (org-table-shrink))))))

(add-hook 'org-mode-hook #'my/org-shrink-tables)
(add-hook 'org-mode-hook #'org-syntax-table-modify)
;; (remove-hook 'org-mode-hook #'org-syntax-table-modify)
;; (remove-hook 'org-mode-hook #'my/org-shrink-tables)

</pre>
</div>
</div>
</div>

<div id="outline-container-orgcaf9b04" class="outline-2">
<h2 id="orgcaf9b04"><span class="section-number-2">32.</span> org-agenda</h2>
<div class="outline-text-2" id="text-32">
<p>
Customizes the Org Agenda for a personalized task management and calendar view, adjusting settings for diary integration and custom agenda views to fit specific planning needs.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; org-agenda
;;

(use-package org
  :custom
  (org-agenda-include-diary nil)
  (org-agenda-files '("~/DCIM/content/aaa--calendar.org"
                       "~/DCIM/content/aab--kate.org"
                       "~/DCIM/content/aac--subs.org"))
  :config
  (with-eval-after-load 'org-agenda
    (unbind-key "M-m" org-agenda-mode-map)
    (setq org-agenda-custom-commands
      '(("m" "Month View" agenda ""
          ((org-agenda-start-day "today")
            (org-agenda-span 30)
            (org-agenda-time-grid nil)))
         ("0" "Year View (2020)" agenda ""
           ((org-agenda-start-day "2020-01-01")
             (org-agenda-span 'year)
             (org-agenda-time-grid nil)))
         ("1" "Year View (2021)" agenda ""
           ((org-agenda-start-day "2021-01-01")
             (org-agenda-span 'year)
             (org-agenda-time-grid nil)))
         ("2" "Year View (2022)" agenda ""
           ((org-agenda-start-day "2022-01-01")
             (org-agenda-span 'year)
             (org-agenda-time-grid nil)))
         ("3" "Year View (2023)" agenda ""
           ((org-agenda-start-day "2023-01-01")
             (org-agenda-span 'year)
             (org-agenda-time-grid nil)))
         ("4" "Year View (2024)" agenda ""
           ((org-agenda-start-day "2024-01-01")
             (org-agenda-span 'year)
             (org-agenda-time-grid nil)))))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org6c4fcde" class="outline-2">
<h2 id="org6c4fcde"><span class="section-number-2">33.</span> dwim</h2>
<div class="outline-text-2" id="text-33">
<p>
Demonstrates "Do What I Mean" functionalities custom to Emacs, streamlining operations like conversion, searching, and executing context-aware actions.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; dwim
;;

(when (file-exists-p "/home/jdyer/.config/emacs/category-list-uniq.txt")
  (progn
    (defvar my/dwim-convert-commands
      '("ConvertNoSpace" "AudioConvert" "AudioInfo" "AudioNormalise"
         "AudioTrimSilence" "PictureAutoColour" "PictureConvert"
         "PictureCrush" "PictureFrompdf" "PictureInfo" "PictureMontage"
         "PictureOrganise" "PictureCrop" "PictureRotateFlip"
         "PictureRotateLeft" "PictureRotateRight" "PictureScale"
         "PictureUpscale" "PictureGetText" "PictureOrientation"
         "PictureUpdateToCreateDate" "VideoConcat" "VideoConvert"
         "VideoCut" "VideoDouble" "VideoExtractAudio" "VideoExtractFrames"
         "VideoFilter" "VideoFromFrames" "VideoInfo" "VideoRemoveAudio"
         "VideoReplaceVideoAudio" "VideoRescale" "VideoReverse"
         "VideoRotate" "VideoRotateLeft" "VideoRotateRight" "VideoShrink"
         "VideoSlowDown" "VideoSpeedUp" "VideoZoom" "WhatsAppConvert"
         "PictureCorrect" "Picture2pdf" "PictureTag" "PictureTagRename"
         "OtherTagDate")
      "List of commands for dwim-convert.")

    (defun my/read-lines (file-path)
      "Return a list of lines of a file at FILE-PATH."
      (with-temp-buffer
        (insert-file-contents file-path)
        (split-string (buffer-string) "\n" t)))

    (defun my/dwim-convert-generic (command)
      "Execute a dwim-shell-command-on-marked-files with the given COMMAND."
      (let* ((unique-text-file "/home/jdyer/.config/emacs/category-list-uniq.txt")
              (user-selection nil)
              (files (dired-get-marked-files nil current-prefix-arg))
              (command-and-files (concat command " " (mapconcat 'identity files " "))))
        (when (string= command "PictureTag")
          (setq user-selection (completing-read "Choose an option: "
                                 (my/read-lines unique-text-file)
                                 nil t)))
        (async-shell-command (if user-selection
                               (concat command " " user-selection " " (mapconcat 'identity files " "))
                               (concat command " " (mapconcat 'identity files " ")))
          "*convert*")))

    (defun my/dwim-convert-with-selection ()
      "Prompt user to choose command and execute dwim-shell-command-on-marked-files."
      (interactive)
      (let ((chosen-command (completing-read "Choose command: "
                              my/dwim-convert-commands)))
        (my/dwim-convert-generic chosen-command)))

    (global-set-key (kbd "C-c v") 'my/dwim-convert-with-selection)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org3e0015f" class="outline-2">
<h2 id="org3e0015f"><span class="section-number-2">34.</span> scroll</h2>
<div class="outline-text-2" id="text-34">
<p>
Adjusts scrolling behaviours and settings for a smoother navigation experience within buffer contents.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; scroll
;;

(setq scroll-margin 20)
(setq scroll-preserve-screen-position t)

</pre>
</div>
</div>
</div>

<div id="outline-container-org38b556a" class="outline-2">
<h2 id="org38b556a"><span class="section-number-2">35.</span> font</h2>
<div class="outline-text-2" id="text-35">
<p>
Configures font settings for different text styles and sets up preferred fonts for a personalized and visually comfortable editing environment.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; font
;;

;; (setq font-general "Noto Sans Mono 14")
;; (setq font-general "MesloLGS Nerd Font Mono 11")
;; (setq font-general "Source Code Pro 12")
;; (setq font-general "Source Code Pro Light 14")
;; (setq font-general "Nimbus Mono PS 14")
;; (setq font-general "MesloLGS Nerd Font Mono 14")
;; (setq font-general "Droid Sans Mono 12")
;; (setq font-general "Hack Nerd Font Mono 13")

</pre>
</div>
</div>
</div>

<div id="outline-container-orgfa03131" class="outline-2">
<h2 id="orgfa03131"><span class="section-number-2">36.</span> custom-set-faces</h2>
<div class="outline-text-2" id="text-36">
<p>
Applies customizations to text appearance through face settings, allowing for detailed control over Emacs's visual presentation of text across different contexts.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; custom-set-faces
;;

(custom-set-faces
  ;; custom-set-faces was added by Custom.
  ;; If you edit it by hand, you could mess it up, so be careful.
  ;; Your init file should contain only one such instance.
  ;; If there is more than one, they won't work right.
  '(diredfl-date-time ((t (:foreground "#8d909b"))))
  '(diredfl-dir-heading ((t (:foreground "#aa5555" :weight bold))))
  '(diredfl-dir-priv ((t (:foreground "DarkRed"))))
  '(diredfl-exec-priv ((t (:foreground "#999999"))))
  '(diredfl-file-name ((t (:foreground "#818282"))))
  '(diredfl-no-priv ((t nil)))
  '(diredfl-number ((t (:foreground "#999999"))))
  '(diredfl-read-priv ((t nil)))
  '(diredfl-write-priv ((t nil)))
  '(ediff-current-diff-A ((t (:extend t :background "#b5daeb" :foreground "#000000"))))
  '(ediff-even-diff-A ((t (:background "#bafbba" :foreground "#000000" :extend t))))
  '(ediff-fine-diff-A ((t (:background "#f4bd92" :foreground "#000000" :extend t))))
  '(ediff-odd-diff-A ((t (:background "#b8fbb8" :foreground "#000000" :extend t))))
  '(ztreep-diff-model-diff-face ((t (:foreground "#7cb0f2"))))
  '(ztreep-diff-model-add-face ((t (:foreground "#e38d5a"))))
  '(elfeed-search-title-face ((t (:foreground "#4E4E4E" :height 1.1 :family "Source Code Pro"))))
  '(org-code ((t (:inherit (shadow fixed-pitch)))))
  '(org-modern-date-active ((t (:inherit fixed-pitch))))
  '(org-date ((t (:inherit fixed-pitch))))
  '(org-document-info ((t (:foreground "#8f4800"))))
  '(org-document-info-keyword ((t (:inherit (shadow fixed-pitch)))))
  '(org-indent ((t (:inherit (org-hide fixed-pitch)))))
  '(org-link ((t (:foreground "#5555ff" :underline t))))
  '(org-property-value ((t (:inherit fixed-pitch))) t)
  '(org-special-keyword ((t (:inherit (font-lock-comment-face fixed-pitch)))))
  '(org-tag ((t (:inherit (shadow fixed-pitch) :weight regular :height 0.8))))
  '(org-verbatim ((t (:inherit (shadow fixed-pitch)))))
  '(indent-guide-face ((t (:background "#282828" :foreground "#666666"))))
  '(outline-1 ((t (:weight regular))))
  '(outline-2 ((t (:weight regular))))
  '(widget-button ((t (:inherit fixed-pitch :weight regular))))
  '(window-divider ((t (:foreground "black"))))
  '(vertical-border ((t (:foreground "#000000")))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org954af97" class="outline-2">
<h2 id="org954af97"><span class="section-number-2">37.</span> dired</h2>
<div class="outline-text-2" id="text-37">
<p>
Enhances Dired, the directory editor, with additional functionalities like async deletion, improving file management workflows within Emacs.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; dired
;;

(use-package dired
  :ensure nil
  :diminish dired-async-mode
  :commands (dired dired-jump)
  :bind (("M-e" . dired-jump)
          (:map dired-mode-map
            ("_" . my/dired-create-empty-file)
            ("+" . my/dired-create-directory)
            ("C-c i" . my/image-dired-sort)
            ("C-c d" . my/dired-duplicate-file)))
  :custom
  ;; (dired-async--modeline-mode 1)
  (dired-guess-shell-alist-user
    '(("\\.\\(jpg\\|jpeg\\|png\\|gif\\|bmp\\)$" "gthumb")
       ("\\.\\(mp4\\|mkv\\|avi\\|mov\\|wmv\\|flv\\|mpg\\)$" "mpv")
       ("\\.\\(mp3\\|wav\\|ogg\\|\\)$" "mpv")
       ("\\.\\(kra\\)$" "org.kde.krita")
       ("\\.\\(odt\\|ods\\)$" "libreoffice")
       ("\\.\\(html\\|htm\\)$" "firefox")
       ("\\.\\(pdf\\|epub\\)$" "okular" "calibre")))
  (dired-dwim-target t)
  (dired-listing-switches "-alGgh")
  (dired-auto-revert-buffer t)
  (dired-clean-confirm-killing-deleted-buffers nil)
  (dired-confirm-shell-command nil)
  (dired-no-confirm t)
  (dired-recursive-deletes 'always)
  (dired-deletion-confirmer '(lambda (x) t))
  :config
  (dired-async-mode 1))

(defun my/dired-create-directory ()
  "Wrapper to dired-create-directory to avoid minibuffer completion."
  (interactive)
  (let ((search-term
          (read-from-minibuffer "Dir : ")))
    (dired-create-directory search-term)))

(defun my/dired-create-empty-file ()
  "Wrapper to dired-create-empty-file to avoid minibuffer completion."
  (interactive)
  (let ((search-term
          (read-from-minibuffer "File : ")))
    (dired-create-empty-file search-term)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgc182543" class="outline-2">
<h2 id="orgc182543"><span class="section-number-2">38.</span> image-dired</h2>
<div class="outline-text-2" id="text-38">
<p>
Customizes the behaviour and appearance of Image-Dired, the image management extension of Dired, streamlining the browsing and manipulation of image files.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; image-dired
;;

(require 'image-mode)
(require 'image-dired)

(add-to-list 'display-buffer-alist
  '("\\*image-dired\\*"
     display-buffer-in-direction
     (direction . left)
     (window . root)
     (window-width . 0.5)))

(add-to-list 'display-buffer-alist
  '("\\*image-dired-display-image\\*"
     display-buffer-in-direction
     (direction . right)
     (window . root)
     (window-width . 0.5)))

(defun my/image-dired-sort (arg)
  "Sort images in various ways given ARG."
  (interactive "P")
  ;; Use `let` to temporarily set `dired-actual-switches`
  (let ((dired-actual-switches
          (cond
            ((equal arg nil)            ; no C-u
              "-lGghat --ignore=*.xmp")
            ((equal arg '(4))           ; C-u
              "-lGgha --ignore=*.xmp")
            ((equal arg 1)              ; C-u 1
              "-lGgha --ignore=*.xmp"))))
    (let ((w (selected-window)))
      (delete-other-windows)
      (revert-buffer)
      (image-dired ".")
      (let ((idw (selected-window)))
        (select-window w)
        (dired-unmark-all-marks)
        (select-window idw)
        (image-dired-display-this)
        (image-dired-line-up-dynamic)))))

(setq image-use-external-converter t)
(setq image-dired-external-viewer "/usr/bin/gthumb")
(setq image-dired-show-all-from-dir-max-files 999)
(setq image-dired-thumbs-per-row 999)
(setq image-dired-thumb-relief 0)
(setq image-dired-thumb-margin 5)
(setq image-dired-thumb-size 120)

(defun my/image-save-as ()
  "Save the current image buffer as a new file."
  (interactive)
  (let* ((file (buffer-file-name))
          (dir (file-name-directory file))
          (name (file-name-nondirectory file))
          (base-name (file-name-sans-extension name))
          (extension (file-name-extension name t))
          (initial_mode major-mode)
          (counter 1)
          (new-file))
    (while (and (setq new-file
                  (format "%s%s_%03d%s" dir base-name counter extension))
             (file-exists-p new-file))
      (setq counter (1+ counter)))
    (write-region (point-min) (point-max) new-file nil 'no-message)
    (revert-buffer nil t nil)
    ;; (delete-file file t)
    (if (equal initial_mode 'image-dired-image-mode)
      (progn
        (image-dired ".")
        (image-dired-display-this))
      (find-file new-file t))))

(defun my/delete-current-image-and-move-to-next ()
  "Delete the current image file and move to the next image in the directory."
  (interactive)
  (let ((current-file (buffer-file-name)))
    (when current-file
      (image-next-file 1)
      (delete-file current-file)
      (message "Deleted %s" current-file))))

(defun my/delete-current-image-thumbnails ()
  "Delete the current image file and move to the next image in the directory."
  (interactive)
  (let ((file-name (image-dired-original-file-name)))
    (delete-file file-name)
    (image-dired-delete-char)
    (image-dired-display-this)))

(eval-after-load 'image-mode
  '(progn
     (define-key image-mode-map (kbd "C-d") 'my/delete-current-image-and-move-to-next)
     (define-key image-mode-map (kbd "C-x C-s") 'my/image-save-as)))

(eval-after-load 'image-dired
  '(progn
     (define-key image-dired-thumbnail-mode-map (kbd "C-d") 'my/delete-current-image-thumbnails)
     (define-key image-dired-thumbnail-mode-map (kbd "n")
       (lambda ()(interactive)(image-dired-forward-image)(image-dired-display-this)))
     (define-key image-dired-thumbnail-mode-map (kbd "p")
       (lambda ()(interactive)(image-dired-backward-image)(image-dired-display-this)))
     ))

</pre>
</div>
</div>
</div>

<div id="outline-container-org9f73915" class="outline-2">
<h2 id="org9f73915"><span class="section-number-2">39.</span> visuals</h2>
<div class="outline-text-2" id="text-39">
<p>
Configures various visual aspects of Emacs, including menu bar, toolbar, and scroll bar visibility, as well as window transparency and edge padding for a cleaner and more focused editing environment.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; visuals
;;

(menu-bar-mode -1)
(scroll-bar-mode -1)
(tool-bar-mode -1)

(setq inhibit-startup-screen t)

;; (add-hook 'text-mode-hook #'visual-line-mode)
;; (add-hook 'org-mode-hook '(lambda () (visual-line-mode)))
(defun my-org-visual-line-mode-exclude-init ()
  (unless (string= (buffer-file-name) (expand-file-name "~/.config/emacs/emacs--init.org"))
    (visual-line-mode)))
(add-hook 'org-mode-hook 'my-org-visual-line-mode-exclude-init)

(setq-default truncate-partial-width-windows 120)

(set-frame-parameter nil 'alpha-background 95)
(add-to-list 'default-frame-alist '(alpha-background . 95))

(set-fringe-mode '(0 . 0))
(set-display-table-slot standard-display-table 0 ?\ )

(setq window-divider-default-bottom-width 6)
(setq window-divider-default-right-width 6)
(setq window-divider-default-places t)
(window-divider-mode -1)

(setq-default left-margin-width 0 right-margin-width 0)

(defvar my/internal-border-width 5 "Default internal border width for toggling.")

(defun my/toggle-internal-border-width (&amp;optional value)
  "Toggle internal border width given VALUE."
  (interactive "P")
  (let ((new-value (if value
                     value
                     (if (= (or (frame-parameter nil 'internal-border-width) 0)
                           0)
                       my/internal-border-width
                       0))))
    (modify-all-frames-parameters `((internal-border-width . ,new-value)))))

(modify-all-frames-parameters `((internal-border-width . ,my/internal-border-width)))

(defun my/change-accent-color ()
  "Prompt for a new color and apply it as the accent color."
  (interactive)
  (let ((new-color (read-color "Choose new accent color: ")))
    (setq my/accent-color new-color)

    ;; Update selected-window-accent-mode custom variables
    (when (featurep 'selected-window-accent-mode)
      (setq selected-window-accent-custom-color my/accent-color)

      ;; Refresh the mode to apply the changes.
      (selected-window-accent-mode -1)
      (selected-window-accent-mode +1))

    ;; Display a message to confirm the change
    (message "Accent color changed to %s" my/accent-color)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org86c3245" class="outline-2">
<h2 id="org86c3245"><span class="section-number-2">40.</span> imenu</h2>
<div class="outline-text-2" id="text-40">
<p>
Customizes the Imenu index-building functionality for improved navigation within structured documents or source code, demonstrating regex-based configurations for specific file types.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; imenu
;;

(defun my-imenu-create-index ()
  "Create an index using definitions starting with ';; -&gt;'."
  (let ((index-alist '())
         (regex "^;;[[:space:]]-&gt;\\(.+\\)$"))
    (save-excursion
      (goto-char (point-min))
      (while (re-search-forward regex nil t)
        (let ((name (s-trim (match-string 1)))
               (pos (match-beginning 0)))
          (push (cons name (set-marker (make-marker) pos)) index-alist))))
    (setq imenu--index-alist (sort
                               index-alist
                               (lambda (a b)
                                 (string&lt; (car a) (car b)))))))

;; (setq imenu-create-index-function #'my-imenu-create-index)

(add-hook 'emacs-lisp-mode-hook
  (lambda ()
    (setq truncate-lines t)
    (setq imenu-sort-function 'imenu--sort-by-name)
    (setq imenu-generic-expression
      '((nil "^;;[[:space:]]+-&gt; \\(.*\\)$" 1)))
    (imenu-add-menubar-index)))

(add-hook 'conf-space-mode-hook
  (lambda ()
    (setq imenu-sort-function 'imenu--sort-by-name)
    (setq imenu-generic-expression
      '((nil "^#[[:space:]]+-&gt; \\(.*\\)$" 1)))
    (imenu-add-menubar-index)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org0020b37" class="outline-2">
<h2 id="org0020b37"><span class="section-number-2">41.</span> recentf</h2>
<div class="outline-text-2" id="text-41">
<p>
Optimizes the handling of recently opened files list, tweaking preferences for the number of items shown and integration points for quick access to recent files.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; recentf
;;

(recentf-mode 1)

(setq recentf-max-menu-items 200)
(setq recentf-max-saved-items 200)

</pre>
</div>
</div>
</div>

<div id="outline-container-org6ac5bc4" class="outline-2">
<h2 id="org6ac5bc4"><span class="section-number-2">42.</span> modeline</h2>
<div class="outline-text-2" id="text-42">
<p>
Customizes the modeline for displaying active modes, buffer names, or other context-sensitive information, improving the feedback and control available at a glance.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; modeline
;;

(setq-default mode-line-modified
  '(:eval (if (and (buffer-file-name) (buffer-modified-p))
            (propertize "** MODIFIED " 'face
              '(:background "#ff0000" :foreground "#ffffff" :inherit bold)) "")))

(set-face-attribute 'mode-line-active nil :height 120 :underline nil :overline nil :box nil
  :background "#a7a7a7" :foreground "#000000")
(set-face-attribute 'mode-line-inactive nil :height 120 :underline nil :overline nil
  :background "#151515" :foreground "#cacaca")

(defun my-tab-bar-number ()
  "Return the current tab's index (number) as a string."
  (let ((current-tab (assq 'current-tab (funcall tab-bar-tabs-function)))
         (tabs (funcall tab-bar-tabs-function))
         (index 1))
    (while (and tabs (not (eq (car tabs) current-tab)))
      (setq tabs (cdr tabs))
      (setq index (1+ index)))
    (format " %d " index)))

(defun my-all-tabs-string ()
  "Return a string representing all tabs with the current tab highlighted."
  (let* ((current-tab (assq 'current-tab (funcall tab-bar-tabs-function)))
          (tabs (funcall tab-bar-tabs-function))
          (index 1)
          (tabs-string ""))
    (while tabs
      ;; For the current tab, apply special properties. Otherwise, format normally.
      (let ((tab-string (if (eq (car tabs) current-tab)
                          (propertize (format " %d " index) 'face '(:inverse-video t))
                          (format " %d " index))))
        (setq tabs-string (concat tabs-string tab-string)))
      (setq tabs (cdr tabs))
      (setq index (1+ index)))
    tabs-string))

(setq my/mode-line-format
  '("%e"
     (:eval (my-all-tabs-string))
     mode-line-modified
     (:eval
       (propertize (format "%s" (abbreviate-file-name default-directory))
         'face '(:inherit bold))
       )
     (:eval
       (if (not (equal major-mode 'dired-mode))
         (propertize (format "%s " (buffer-name)))
         " "))
     mode-line-position
     mode-line-modes
     mode-line-misc-info))
;; "-%-"))

(setq-default mode-line-format my/mode-line-format)
(setq frame-title-format "%f")

(defun my/toggle-mode-line ()
  "Toggle the visibility of the mode-line by checking its current state."
  (interactive)
  (if (eq mode-line-format nil)
    (progn
      (setq-default mode-line-format my/mode-line-format)
      (setq frame-title-format "%f"))
    (progn
      (setq-default mode-line-format nil)
      (setq frame-title-format my/mode-line-format)))
  (force-mode-line-update t))

(display-time-mode -1)
(setq mode-line-compact nil)

</pre>
</div>
</div>
</div>

<div id="outline-container-orge305e7c" class="outline-2">
<h2 id="orge305e7c"><span class="section-number-2">43.</span> find</h2>
<div class="outline-text-2" id="text-43">
<p>
Highlights customization for the Find and Grep tools within Emacs, including appearance, behaviour, and integration points fostering efficient content search and navigation.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; find
;;

(setq find-dired-refine-function 'find-dired-sort-by-filename)
(setq find-dired-refine-function 'nil)
(setq find-ls-option (cons "-exec ls -lSh {} +" "-lSh"))

(defun my/find-file ()
  "Find file from current directory in many different ways."
  (interactive)
  (let* ((find-options '(("find -type f -printf \"$PWD/%p\\0\"" . :string)
                          ("fd --absolute-path --type f -0" . :string)
                          ("rg --follow --files --null" . :string)
                          ("find-name-dired" . :command)))
          (selection (completing-read "Select : " find-options))
          (metadata '((category . file)))
          (file-list)
          (file))
    (pcase (alist-get selection find-options nil nil #'string=)
      (:command
        (call-interactively (intern selection)))
      (:string
        (setq file-list (split-string (shell-command-to-string selection) "\0" t))
        (setq file (completing-read (format "Find file in %s: " (abbreviate-file-name default-directory))
                     (lambda (str pred action)
                       (if (eq action 'metadata)
                         `(metadata . ,metadata)
                         (complete-with-action action file-list str pred)))
                     nil t nil 'file-name-history)))
      (when file (find-file (expand-file-name file))))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgd4144b8" class="outline-2">
<h2 id="orgd4144b8"><span class="section-number-2">44.</span> grep</h2>
<div class="outline-text-2" id="text-44">
<p>
My aim here is to make deadgrep as similar to rgrep as possible for easier switching back and forth between a more vanilla like emacs experience.
</p>

<p>
Note initially the grep-find-ignored additions which are generally synced to the ripgrep/deadgrep top level .ignore file for consistency.
</p>

<p>
Note that the deadgrep search override case is because I prefer by default a non sensitive search so I just set this globally.
</p>

<p>
I also don't want ripgrep/deadgrep to respect version control files (including .gitignore) and the only way currently with deadgrep is to override the argument function on emacs startup and set the &#x2013;no-ignore-vcs
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; grep
;;

(require 'grep)

(eval-after-load 'grep
  '(progn
     (dolist (dir '("nas" ".cache" "cache" "elpa" "chromium"
                     ".local/share" "syncthing" ".mozilla" ".local/lib" "Games"
                     ".wine" ".thunderbird" ".gnupg"))
       (push dir grep-find-ignored-directories))
     (dolist (file '(".cache" "*cache*" "*.iso" "*.xmp" "*.jpg" "*.mp4" "*.dll" "*.mp3"))
       (push file grep-find-ignored-files))))

;; (setq-default deadgrep--search-case 'ignore)
</pre>
</div>
</div>
</div>

<div id="outline-container-org3f420b2" class="outline-2">
<h2 id="org3f420b2"><span class="section-number-2">45.</span> spelling</h2>
<div class="outline-text-2" id="text-45">
<p>
Configures spell checking tools and dictionaries, integrating external tools like `aspell` or `hunspell`, and interfaces for checking and correcting spelling within documents.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; spelling
;;

(use-package jinx)
(use-package powerthesaurus)

(global-set-key (kbd "M-s k")
  (lambda () (interactive)
    (jinx-correct)))

(global-set-key (kbd "M-s c") 'wc-mode)
(global-set-key (kbd "M-s j") 'jinx-mode)
(global-set-key (kbd "M-s f") 'dictionary-lookup-definition)
(global-set-key (kbd "M-s t") 'powerthesaurus-lookup-synonyms-dwim)

(setq ispell-local-dictionary "en_GB")
(setq ispell-program-name "hunspell")
(setq dictionary-default-dictionary "*")
(setq dictionary-server "dict.org")
(setq dictionary-use-single-buffer t)

</pre>
</div>
</div>
</div>

<div id="outline-container-org388c131" class="outline-2">
<h2 id="org388c131"><span class="section-number-2">46.</span> gdb</h2>
<div class="outline-text-2" id="text-46">
<p>
Sets up GDB, the GNU Debugger, integration for debugging within Emacs, tweaking interface elements and keybindings for a more convenient debugging workflow.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; gdb
;;

(setq gdb-display-io-nopopup 1)
(setq gdb-many-windows t)

(global-set-key (kbd "&lt;f9&gt;") 'gud-break)
(global-set-key (kbd "&lt;f10&gt;") 'gud-next)
(global-set-key (kbd "&lt;f11&gt;") 'gud-step)

</pre>
</div>
</div>
</div>

<div id="outline-container-org20e705c" class="outline-2">
<h2 id="org20e705c"><span class="section-number-2">47.</span> compilation</h2>
<div class="outline-text-2" id="text-47">
<p>
Customizes the Compilation mode for handling output from external commands, adjusting styles, behaviours, and filtering for an improved feedback loop during code build or script execution.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; compilation
;;

(setq compilation-always-kill t)
(setq compilation-context-lines 3)
(setq compilation-scroll-output nil)
;; ignore warnings
(setq compilation-skip-threshold 2)

(global-set-key (kbd "&lt;f5&gt;") 'my/project-compile)

</pre>
</div>

<p>
Dynamically populate the compilation-search-path whenever a compilation takes place, might have problems with large directory structures but haven't fully tested yet!
</p>

<div class="org-src-container">
<pre class="src src-elisp">;; (add-hook 'compilation-mode-hook #'my/project-create-compilation-search-path)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb11feb0" class="outline-2">
<h2 id="orgb11feb0"><span class="section-number-2">48.</span> auto-mode-alist</h2>
<div class="outline-text-2" id="text-48">
<p>
Maps file extensions to specific Emacs modes, enabling automatic mode activation based on file type for a seamless editing experience across different languages and content types.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; auto-mode-alist
;;

(add-to-list 'auto-mode-alist '("\\.org_archive\\'" . org-mode))
(add-to-list 'auto-mode-alist '("config.rasi\\'" . js-json-mode))
(add-to-list 'auto-mode-alist '("theme.rasi\\'" . css-mode))
(add-to-list 'auto-mode-alist '("waybar/config\\'" . js-json-mode))
(add-to-list 'auto-mode-alist '("\\.yml\\'" . yaml-mode))
(add-to-list 'auto-mode-alist '("\\.gpr\\'" . gpr-ts-mode))
(add-to-list 'auto-mode-alist '("\\.toml\\'" . toml-ts-mode))
(add-to-list 'auto-mode-alist '("CMakeLists.txt\\'" . cmake-ts-mode))
(add-to-list 'auto-mode-alist '("\\.org_archive\\'" . org-mode))
(add-to-list 'auto-mode-alist '("/sway/.*config.*/" . i3wm-config-mode))
(add-to-list 'auto-mode-alist '("/sway/config\\'" . i3wm-config-mode))
(cl-loop for ext in '("\\.gpr$" "\\.ada$" "\\.ads$" "\\.adb$")
  do (add-to-list 'auto-mode-alist (cons ext 'ada-mode)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org8d4d55e" class="outline-2">
<h2 id="org8d4d55e"><span class="section-number-2">49.</span> programming</h2>
<div class="outline-text-2" id="text-49">
<p>
Sets up configurations and tool integrations for a productive programming environment, from auto-completion and syntax checking to language-specific settings and server integrations.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; programming
;;

(use-package eglot)

;; (define-key company-active-map (kbd "&lt;tab&gt;") 'company-complete-selection)

(use-package company
  :bind
  (:map company-active-map
    ("&lt;tab&gt;" . company-complete-selection))
  :config
  (setq company-minimum-prefix-length 1)
  (setq company-idle-delay 0.05))

(use-package yaml-mode)

(add-hook 'yaml-mode-hook
  #'(lambda ()
      (define-key yaml-mode-map "\C-m" 'newline-and-indent)))

(setq eldoc-echo-area-use-multiline-p nil)

(use-package flycheck)
(use-package package-lint)

</pre>
</div>
</div>
</div>

<div id="outline-container-org171a5a1" class="outline-2">
<h2 id="org171a5a1"><span class="section-number-2">50.</span> diff</h2>
<div class="outline-text-2" id="text-50">
<p>
Customizes the appearance and behaviour of diff and merge tools within Emacs, adjusting styles for better readability and control over version control diffs and conflict resolution.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; diff
;;

(use-package ztree)

(setq-default ztree-diff-filter-list
  '(
     "build" "\.dll" "\.iso" "\.xmp" "\.cache" "\.gnupg" "\.local"
     "\.mozilla" "\.thunderbird" "\.wine" "\.mp3" "\.mp4" "\.arpack"
     "\.git" "^Volume$" "^Games$" "^cache$" "^chromium$" "^elpa$" "^nas$"
     "^syncthing$" "bin"
     ))

;; (setq-default ztree-diff-additional-options '("-w" "-i"))
(setq-default ztree-diff-consider-file-size t)
(setq-default ztree-diff-consider-file-permissions nil)
(setq-default ztree-diff-show-equal-files nil)

(use-package diff-mode
  :hook
  (diff-mode . (lambda ()
                 (define-key diff-mode-map (kbd "M-j") nil)
                 (define-key diff-mode-map (kbd "M-k") nil)
                 (define-key diff-mode-map (kbd "M-h") nil)
                 (define-key diff-mode-map (kbd "M-l") nil)
                 (define-key diff-mode-map (kbd "M-0") nil)
                 (define-key diff-mode-map (kbd "M-1") nil)
                 (define-key diff-mode-map (kbd "M-2") nil)
                 (define-key diff-mode-map (kbd "M-3") nil)
                 (define-key diff-mode-map (kbd "M-4") nil))))
(setq ediff-window-setup-function 'ediff-setup-windows-plain)
(setq ediff-prepare-buffer-hook #'org-fold-show-all)
(setq-default ediff-highlight-all-diffs t)
(setq ediff-split-window-function 'split-window-horizontally)

</pre>
</div>
</div>
</div>

<div id="outline-container-org530683f" class="outline-2">
<h2 id="org530683f"><span class="section-number-2">51.</span> ada</h2>
<div class="outline-text-2" id="text-51">
<p>
Sets up a development environment for the Ada programming language, demonstrating integration options for modern and legacy tooling, and creating a productive configuration for Ada development.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; ada
;;

(defun my/eglot-dir-locals ()
  "Create .dir-locals.el file for eglot ada-mode using the selected DIRED path."
  (interactive)
  (add-dir-local-variable
    'ada-mode
    'eglot-workspace-configuration
    `((ada . (:projectFile ,(dired-get-filename))))))

(setq xref-auto-jump-to-first-definition t)
(setq xref-auto-jump-to-first-xref t)

(defun my/xref--read-identifier (prompt)
  "Custom function to find definitions in Ada mode with PROMPT."
  (let ((def (xref-backend-identifier-at-point 'etags))
         (variations '("/t" "/k" "/f" "/p" "/b" "/s"))
         (ada-refs 'nil))
    (when def
      (dolist (variation variations)
        (if (xref-backend-definitions 'etags (concat def variation))
          (setq ada-refs (cons (concat identifier variation) ada-refs)))))
    (cond
      ((eq (length ada-refs) 0)
        (setq id def))
      ((eq (length ada-refs) 1)
        (setq id (nth 0 ada-refs)))
      (t
        (setq id (completing-read prompt ada-refs))))))

(defun my/xref-find-definitions (identifier)
  "Find Definition given IDENTIFIER."
  (interactive "p")
  (setq identifier (my/xref--read-identifier "Find definitions of: "))
  (xref-find-definitions identifier))

(defun buffer-in-eglot-mode-p ()
  (if (fboundp 'eglot-managed-p)
    (eglot-managed-p)
    nil))

(defun buffer-in-old-ada-mode-p ()
  (if (boundp 'ada-prj-default-project-file)
    t
    nil))

(defun buffer-in-tags-mode-p ()
  (if tags-table-list
    t
    nil))

(defun my/ada-find-definitions ()
  "Custom function to find definitions in Ada mode."
  (interactive)
  (cond
    ((buffer-in-eglot-mode-p)
      (message "xref: eglot")
      (xref-find-definitions (xref-backend-identifier-at-point 'eglot)))
    ((buffer-in-old-ada-mode-p)
      (message "xref: old-ada-mode")
      (setq ada-xref-other-buffer nil)
      (ada-goto-declaration (point)))
    ((buffer-in-tags-mode-p)
      (message "xref: etags")
      (my/xref-find-definitions (xref-backend-identifier-at-point 'etags)))
    (t
      (message "xref: fallback")
      (my/etags-load)
      (my/xref-find-definitions (xref-backend-identifier-at-point 'etags)))))

(defun my/xref-quit-xref-marker-stack ()
  "Quit *xref* buffer."
  (interactive)
  (save-excursion
    (let ((target-window (get-buffer-window "*xref*")))
      (when target-window
        (select-window target-window)
        (quit-window t)))))

(defun my/ada-find-definition-pop ()
  "Custom function to pop definitions in Ada mode."
  (interactive)
  (cond
    ((buffer-in-eglot-mode-p)
      (message "xref pop: eglot")
      (my/xref-quit-xref-marker-stack)
      (xref-quit-and-pop-marker-stack))
    ((buffer-in-old-ada-mode-p)
      (message "xref pop: old-ada-mode")
      (ada-xref-goto-previous-reference))
    ((buffer-in-tags-mode-p)
      (message "xref pop: etags")
      (my/xref-quit-xref-marker-stack)
      (xref-go-back))
    (t
      (message "xref pop: fallback")
      (my/xref-quit-xref-marker-stack)
      (xref-go-back))))

(with-eval-after-load 'ada-mode
  (define-key ada-mode-map (kbd "M-.") 'my/ada-find-definitions)
  (define-key ada-mode-map (kbd "M-,") 'my/ada-find-definition-pop))

</pre>
</div>
</div>
</div>

<div id="outline-container-org293501f" class="outline-2">
<h2 id="org293501f"><span class="section-number-2">52.</span> treesitter</h2>
<div class="outline-text-2" id="text-52">
<p>
Integrates Tree-sitter, a modern parsing tool, for improved syntax highlighting and text analysis in supported languages, showcasing Emacs Tree-sitter support and language-specific configurations.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; treesitter
;;
(setq treesit-language-source-alist
  '((ada "https://github.com/briot/tree-sitter-ada")
     (bash "https://github.com/tree-sitter/tree-sitter-bash")
     (cmake "https://github.com/uyha/tree-sitter-cmake")
     (css "https://github.com/tree-sitter/tree-sitter-css")
     (elisp "https://github.com/Wilfred/tree-sitter-elisp")
     (go "https://github.com/tree-sitter/tree-sitter-go")
     (html "https://github.com/tree-sitter/tree-sitter-html")
     (javascript "https://github.com/tree-sitter/tree-sitter-javascript"
       "master" "src")
     (json "https://github.com/tree-sitter/tree-sitter-json")
     (make "https://github.com/alemuller/tree-sitter-make")
     (markdown "https://github.com/ikatyang/tree-sitter-markdown")
     (python "https://github.com/tree-sitter/tree-sitter-python")
     (toml "https://github.com/tree-sitter/tree-sitter-toml")
     (tsx "https://github.com/tree-sitter/tree-sitter-typescript"
       "master" "tsx/src")
     (typescript "https://github.com/tree-sitter/tree-sitter-typescript"
       "master" "typescript/src")
     (yaml "https://github.com/ikatyang/tree-sitter-yaml")))

;; (mapc #'treesit-install-language-grammar
;;      (mapcar #'car treesit-language-source-alist))

;;  (use-package ada-ts-mode)
(use-package gpr-ts-mode)

(setq major-mode-remap-alist
  '( ;;      (ada-mode . ada-ts-mode)
     ;;      (yaml-mode . yaml-ts-mode)
     (toml-mode . toml-ts-mode)
     ;;      (bash-mode . bash-ts-mode)
     ;;      (sh-mode . bash-ts-mode)
     ;;      (js2-mode . js-ts-mode)
     ;;      (typescript-mode . typescript-ts-mode)
     ;;      (conf-colon-mode . json-ts-mode)
     ;;      (json-mode . json-ts-mode)
     ;;      (css-mode . css-ts-mode)
     ;;      (python-mode . python-ts-mode)
     ))

</pre>
</div>
</div>
</div>

<div id="outline-container-org36f6123" class="outline-2">
<h2 id="org36f6123"><span class="section-number-2">53.</span> whitespace</h2>
<div class="outline-text-2" id="text-53">
<p>
Highlights customization options for visualizing and managing whitespace in buffers, demonstrating configurations for displaying spaces, tabs, and line endings.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; whitespace
;;

(setq-default whitespace-style
  '(face spaces empty tabs newline trailing space-mark tab-mark
     newline-mark tab-width indentation::space))

;; Whitespace color corrections.
(require 'color)
(let* ((ws-lighten 20) ;; Amount in percentage to lighten up black.
        (ws-color (color-lighten-name "#555555" ws-lighten)))
  (custom-set-faces
    `(whitespace-newline                ((t (:foreground ,ws-color))))
    `(whitespace-missing-newline-at-eof ((t (:foreground ,ws-color))))
    `(whitespace-space                  ((t (:foreground ,ws-color))))
    `(whitespace-space-after-tab        ((t (:foreground ,ws-color))))
    `(whitespace-space-before-tab       ((t (:foreground ,ws-color))))
    `(whitespace-tab                    ((t (:foreground ,ws-color))))
    `(whitespace-trailing               ((t (:foreground ,ws-color))))))

;; Make these characters represent whitespace.
(setq-default whitespace-display-mappings
  '(
     ;; space -&gt; Â· else .
     (space-mark 32 [183] [46])
     ;; new line -&gt; Â¬ else $
     (newline-mark ?\n [172 ?\n] [36 ?\n])
     ;; carriage return (Windows) -&gt; Â¶ else #
     (newline-mark ?\r [182] [35])
     ;; tabs -&gt; Â» else &gt;
     (tab-mark ?\t [187 ?\t] [62 ?\t])))

;; Don't enable whitespace for.
(setq-default whitespace-global-modes
  '(not shell-mode
     help-mode
     magit-mode
     magit-diff-mode
     ibuffer-mode
     dired-mode
     occur-mode))

;; Set whitespace actions.
(setq-default whitespace-action
  '(cleanup auto-cleanup))

</pre>
</div>
</div>
</div>

<div id="outline-container-org7e9b86b" class="outline-2">
<h2 id="org7e9b86b"><span class="section-number-2">54.</span> project</h2>
<div class="outline-text-2" id="text-54">
<p>
Customizes Emacs's project management features for handling multiple projects, demonstrating configurations for project discovery, switching, and build command integration.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; project
;;

(defun my/project-root ()
  "Return project root defined by user."
  (interactive)
  (let ((root default-directory)
         (project (project-current)))
    (when project
      (cond ((fboundp 'project-root)
              (setq root (project-root project)))))))

(add-to-list 'project-switch-commands '(project-dired "Dired") t)

(defun my/project-create-compilation-search-path ()
  "Populate the 'compilation-search-path' variable.
With directories under project root using find."
  (interactive)
  (let ((find-command
          (concat "find " (project-root (project-current t))
            " \\( -path \\*/.local -o -path \\*/.config -o -path \\*/.svn -o -path \\*/.git -o -path \\*/nas \\) -prune -o -type d -print")))
    (setq compilation-search-path
      (split-string
        (shell-command-to-string find-command)
        "\n" t))))

(defun my/project-compile (arg)
  "Bespoke project compile based on ARG."
  (interactive "p")
  (let ((default-directory (project-root (project-current t))))
    (cond ((= arg 1)
            (setq compile-command
              (concat "make " buffer-file-name)))
      (t
        (setq compile-command "make")))
    (compile compile-command)))

(setq project-vc-extra-root-markers '(".project"))

(global-set-key (kbd "C-x p c") 'my/project-compile)

</pre>
</div>
</div>
</div>

<div id="outline-container-org00ede29" class="outline-2">
<h2 id="org00ede29"><span class="section-number-2">55.</span> indentation</h2>
<div class="outline-text-2" id="text-55">
<p>
Defining very specific indentation and highlight guides
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; indentation
;;

(setq-default indent-tabs-mode nil)
(setq-default tab-width 3)
(setq-default lisp-indent-offset 2)
(add-hook 'sh-mode-hook
  (lambda () (setq sh-basic-offset 3)))

(use-package highlight-indent-guides
  :custom (highlight-indent-guides-method 'character))

</pre>
</div>
</div>
</div>

<div id="outline-container-orga7c42fe" class="outline-2">
<h2 id="orga7c42fe"><span class="section-number-2">56.</span> etags</h2>
<div class="outline-text-2" id="text-56">
<p>
Generation of etags to have an offline alternative to LSP, uses the following bash script:
</p>

<div class="org-src-container">
<pre class="src src-bash">#!/bin/bash

TAGF=$PWD/TAGS

rm -f "$TAGF"

for src in `find $PWD \( -path \*/.cache -o \
               -path \*/.gnupg -o \
               -path \*/.local -o \
               -path \*/.mozilla -o \
               -path \*/.thunderbird -o \
               -path \*/.wine -o \
               -path \*/Games -o \
               -path \*/cache -o \
               -path \*/chromium -o \
               -path \*/elpa -o \
               -path \*/nas -o \
               -path \*/syncthing -o \
               -path \*/Image-Line -o \
               -path \*/.cargo -o \
               -path \*/.git -o \
               -path \*/.svn -o \
               -path \*/.themes -o \
               -path \*/themes -o \
               -path \*/objs -o \
               -path \*/ArtRage \) \
               -prune -o -type f -print`;
do
   case "${src}" in
      *.ad[absm]|*.[CFHMSacfhlmpsty]|*.def|*.in[cs]|*.s[as]|*.src|*.cc|\
         *.hh|*.[chy]++|*.[ch]pp|*.[chy]xx|*.pdb|*.[ch]s|*.[Cc][Oo][Bb]|\
         *.[eh]rl|*.f90|*.for|*.java|*.[cem]l|*.clisp|*.lisp|*.[Ll][Ss][Pp]|\
         [Mm]akefile*|*.pas|*.[Pp][LlMm]|*.psw|*.lm|*.pc|*.prolog|*.oak|\
         *.p[sy]|*.sch|*.scheme|*.[Ss][Cc][Mm]|*.[Ss][Mm]|*.bib|*.cl[os]|\
         *.ltx|*.sty|*.TeX|*.tex|*.texi|*.texinfo|*.txi|*.x[bp]m|*.yy|\
         *.[Ss][Qq][Ll])
         etags --append "${src}" -o "$TAGF";
         echo ${src}
         ;;
      *)
         FTYPE=`file ${src}`;
         case "${FTYPE}" in
            *script*text*)
               etags --append "${src}" -o "$TAGF";
               echo ${src}
               ;;
            *text*)
               if head -n1 "${src}" | grep '^#!' &gt;/dev/null 2&gt;&amp;1;
               then
                  etags --append "${src}" -o "$TAGF";
                  echo ${src}
               fi;
               ;;
         esac;
         ;;
   esac;
done

echo
echo "Finished!"
echo
</pre>
</div>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; etags
;;

(defun my/etags-load ()
  "Load TAGS file from the first it can find up the directory stack."
  (interactive)
  (let ((my-tags-file (locate-dominating-file default-directory "TAGS")))
    (when my-tags-file
      (message "Loading tags file: %s" my-tags-file)
      (visit-tags-table my-tags-file))))

(when (executable-find "my-generate-etags.sh")
  (defun my/etags-update ()
    "Call external bash script to generate new etags for all languages it can find."
    (interactive)
    (async-shell-command "my-generate-etags.sh" "*etags*")))

;; (global-set-key (kbd "C-x p l") 'my/etags-load)
;; (global-set-key (kbd "C-x p u") 'my/etags-update)

</pre>
</div>
</div>
</div>

<div id="outline-container-orgf745050" class="outline-2">
<h2 id="orgf745050"><span class="section-number-2">57.</span> selected-window-accent-mode</h2>
<div class="outline-text-2" id="text-57">
<p>
The Selected Window Accent Mode is an Emacs package designed to visually distinguish the currently selected window by applying a unique accent color to its fringes, mode line, header line, and margins.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; selected-window-accent-mode
;;

(use-package selected-window-accent-mode
  ;; :load-path "~/repos/selected-window-accent-mode"
  ;; :vc (:fetcher github :repo "captainflasmr/selected-window-accent-mode")
  :config (selected-window-accent-mode 1)
  :custom
  (selected-window-accent-fringe-thickness 10)
  (selected-window-accent-percentage-darken 20)
  (selected-window-accent-percentage-desaturate 30)
  (selected-window-accent-smart-borders nil)
  (selected-window-accent-tab-accent t)
  (selected-window-accent-custom-color nil)
  ;; (selected-window-accent-custom-color "#3E829F")
  (selected-window-accent-mode-style 'default))

</pre>
</div>
</div>
</div>

<div id="outline-container-orga3fecd7" class="outline-2">
<h2 id="orga3fecd7"><span class="section-number-2">58.</span> push-block</h2>
<div class="outline-text-2" id="text-58">
<p>
The code below allows text from between two delineating markers to be transported to another location, typically a file.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; push-block
;;

(setq my/push-block-spec
  '(
     (:ascii
       "~/repos/selected-window-accent-mode/CHANGELOG.org"
       "~/repos/selected-window-accent-mode/README.org"
       "\\* Whats New" "\\* ISSUES"
       "** Whats New\n" "\n** Screenshot" "  ")
     (:ascii
       "~/repos/selected-window-accent-mode/CHANGELOG.org"
       "~/repos/selected-window-accent-mode/README.org"
       "\\* ISSUES" "\\* ROADMAP"
       "* ISSUES\n" "\n* TODOs / ROADMAP" "  ")
     (:ascii
       "~/repos/selected-window-accent-mode/CHANGELOG.org"
       "~/repos/selected-window-accent-mode/README.org"
       "\\* ROADMAP" "\\* Versions"
       "* TODOs / ROADMAP\n" "\n* Testing" "  ")
     (:ascii
       "~/repos/selected-window-accent-mode/README.org"
       "~/repos/selected-window-accent-mode/selected-window-accent-mode.el"
       "\\* Summary" "\\*\\* Whats New"
       ";;; Commentary:\n;;\n" "\n;; Quick Start" ";; ")
     (:ascii
       "~/repos/selected-window-accent-mode/README.org"
       "~/repos/selected-window-accent-mode/selected-window-accent-mode.el"
       "\\* Quick Start" "\\* Installation"
       ";; Quick Start\n;;\n" ";;\n(require" ";; ")
     (:ascii
       "~/repos/selected-window-accent-mode/README.org"
       "~/repos/selected-window-accent-mode/selected-window-accent-mode.el"
       "\\*\\* selected-window-accent-fringe-thickness\n" "\n\*\* selected-window-accent-custom-color"
       "defcustom selected-window-accent-fringe-thickness 6\n  \"" "\"\n  \:type" "")
     (:ascii
       "~/repos/selected-window-accent-mode/README.org"
       "~/repos/selected-window-accent-mode/selected-window-accent-mode.el"
       "\\*\\* selected-window-accent-custom-color\n" "\n\*\* selected-window-accent-mode"
       "defcustom selected-window-accent-custom-color nil\n  \"" "\"\n  \:type" "")
     (:ascii
       "~/repos/selected-window-accent-mode/README.org"
       "~/repos/selected-window-accent-mode/selected-window-accent-mode.el"
       "\\*\\* selected-window-accent-mode\n" "\n\*\* selected-window-accent-mode-style"
       "defcustom selected-window-accent-mode nil\n  \"" "\"\n  \:type" "")
     (:ascii
       "~/repos/selected-window-accent-mode/README.org"
       "~/repos/selected-window-accent-mode/selected-window-accent-mode.el"
       "\\*\\* selected-window-accent-mode-style" "\n\*\* selected-window-accent-percentage-darken"
       "defcustom selected-window-accent-mode-style \'default\n  \"" "\"\n  \:type" "")
     (:ascii
       "~/repos/selected-window-accent-mode/README.org"
       "~/repos/selected-window-accent-mode/selected-window-accent-mode.el"
       "\\*\\* selected-window-accent-percentage-darken" "\n\*\* selected-window-accent-percentage-desaturate"
       "defcustom selected-window-accent-percentage-darken 20\n  \"" "\"\n  \:type" "")
     (:ascii
       "~/repos/selected-window-accent-mode/README.org"
       "~/repos/selected-window-accent-mode/selected-window-accent-mode.el"
       "\\*\\* selected-window-accent-percentage-desaturate" "\n\*\* selected-window-accent-tab-accent"
       "defcustom selected-window-accent-percentage-desaturate 20\n  \"" "\"\n  \:type" "")
     (:ascii
       "~/repos/selected-window-accent-mode/README.org"
       "~/repos/selected-window-accent-mode/selected-window-accent-mode.el"
       "\\*\\* selected-window-accent-tab-accent" "\n\*\* selected-window-accent-smart-borders"
       "defcustom selected-window-accent-tab-accent nil\n  \"" "\"\n  \:type" "")
     (:ascii
       "~/repos/selected-window-accent-mode/README.org"
       "~/repos/selected-window-accent-mode/selected-window-accent-mode.el"
       "\\*\\* selected-window-accent-smart-borders" "\* Minor Mode"
       "defcustom selected-window-accent-smart-borders nil\n  \"" "\"\n  \:type" "")
     (:hugo "~/DCIM/content/tagged--all.org" "" "" "" "" "" "")
     (:hugo "~/DCIM/content/art--all.org" "" "" "" "" "" "")
     (:hugo "~/DCIM/content/emacs--all.org" "" "" "" "" "" "")
     (:hugo "~/DCIM/content/kate--blog.org" "" "" "" "" "" "")
     (:hugo"~/DCIM/content/linux--all.org" "" "" "" "" "" "")
     (:hugo "~/DCIM/content/posts--all.org" "" "" "" "" "" "")
     )
  )

(setq my/push-block-flush-lines '("----" "====" "~~~~" "&lt;file:"))

(setq dst-valid '(:raw :org :ascii :hugo))

(defun my/push-block (&amp;optional value)
  "Export content from one file to another in various formats given VALUE."
  (interactive "p")
  (save-excursion
    (dolist (item my/push-block-spec)
      (let* ((format-spec (nth 0 item))
              (source-file (expand-file-name (nth 1 item)))
              (export-file (expand-file-name (nth 2 item)))
              (source-start-tag (nth 3 item))
              (source-end-tag (nth 4 item))
              (export-start-tag (nth 5 item))
              (export-end-tag (nth 6 item))
              (prefix-string (nth 7 item))
              (buff-contents "")
              (in-current (string-equal (expand-file-name (buffer-file-name)) source-file)))

        (access-file source-file "source file")
        (access-file export-file "export file")

        (if (or in-current (&gt; value 1)) ;; should I process file?
          (if (memq format-spec dst-valid) ;; check for valid dst format
            (progn
              (pcase format-spec
                (:hugo
                  (org-hugo-export-wim-to-md)
                  (mapc 'shell-command
                    '("web rsync emacs" "web rsync art"
                       "web rsync dyerdwelling" "web rsync sway")))
                (save-excursion ;; other org processing
                  (setq tmp-file (make-temp-file "tmp"))
                  (when (and (stringp source-start-tag) (stringp source-end-tag)
                          (not (string-empty-p source-start-tag)) (not (string-empty-p source-end-tag)))
                    (goto-char (point-min))
                    (re-search-forward source-start-tag nil t)
                    (let ((start (point)))
                      (re-search-forward source-end-tag nil t)
                      (backward-char (length source-end-tag))
                      (narrow-to-region start (point))))

                  ;; perform the export
                  (pcase format-spec
                    (:raw (write-region (point-min)(point-max) tmp-file)) ;; just raw text
                    (progn
                      ;; lets go through org output
                      (org-export-to-file (pcase format-spec
                                            (:ascii 'ascii)
                                            (:html 'html)
                                            (:icalendar 'icalendar)
                                            (:latex 'latex)
                                            (:odt 'odt)) tmp-file)))
                  (widen)
                  ;; modify the export
                  (with-temp-buffer
                    (insert-file-contents tmp-file)
                    ;; remove duplicates
                    (delete-duplicate-lines (point-min)(point-max) nil t nil)
                    ;; filter lines
                    (mapcar (lambda (x)
                              (goto-char (point-min))
                              (flush-lines x)) my/push-block-flush-lines)
                    ;; apply prefix
                    (when (not (s-blank-p prefix-string))
                      (goto-char (point-min))
                      (while (search-forward-regexp "^" nil t)
                        (replace-match prefix-string)))
                    (whitespace-cleanup)
                    ;; write to file
                    (setq buff-contents (buffer-substring (point-min)(buffer-size))))

                  ;; transplant src block to dst block
                  (with-temp-buffer
                    (insert-file-contents export-file)
                    (goto-char (point-min))
                    (re-search-forward export-start-tag nil t)
                    ;; delete destination region
                    (let ((insert-point (point)))
                      (re-search-forward export-end-tag nil t)
                      (backward-char (length export-end-tag))
                      (delete-region insert-point (point)))
                    ;; insert transformed input
                    (insert buff-contents)
                    ;; write to file
                    (write-region (point-min)(point-max) export-file))
                  ) ;; save-excursion
                ) ;; pcase format-spec
              ) ;; progn if dst-valid
            (message (format "Invalid format-spec %s not in %s" format-spec dst-valid))
            ) ;; if mdemq
          ;; (message (format "%s %s not processed" source-file export-file))
          ) ;; end if in-current value
        ) ;; let
      ) ;; dolist
    ) ;; save-excursion
  ) ;; defun

</pre>
</div>
</div>
</div>

<div id="outline-container-orgc984c7b" class="outline-2">
<h2 id="orgc984c7b"><span class="section-number-2">59.</span> kurecolor</h2>
<div class="outline-text-2" id="text-59">
<p>
Sets up Kurecolor, a color manipulation tool, integrating it within Emacs for efficiently tweaking color values in stylesheets, theme files, or other color-related contexts.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; kurecolor
;;

(use-package kurecolor
  :ensure t ; Ensure the package is installed (optional)
  :bind (("M-&lt;up&gt;" . (lambda () (interactive) (kurecolor-increase-brightness-by-step 0.2)))
          ("M-&lt;down&gt;" . (lambda () (interactive) (kurecolor-decrease-brightness-by-step 0.2)))
          ("M-&lt;prior&gt;" . (lambda () (interactive) (kurecolor-increase-saturation-by-step 0.2)))
          ("M-&lt;next&gt;" . (lambda () (interactive) (kurecolor-decrease-saturation-by-step 0.2)))
          ("M-&lt;left&gt;" . (lambda () (interactive) (kurecolor-decrease-hue-by-step 0.2)))
          ("M-&lt;right&gt;" . (lambda () (interactive) (kurecolor-increase-hue-by-step 0.2))))
  :config
  (global-set-key (kbd "M-&lt;home&gt;") 'my/insert-random-color-at-point))

(defun my/insert-random-color-at-point ()
  "Generate random color and insert at current hex color under cursor."
  (interactive)
  (let* ((color (format "#%06x" (random (expt 16 6))))
          (bounds (bounds-of-thing-at-point 'sexp))
          (start (car bounds))
          (end (cdr bounds)))
    (if (and bounds (&gt; end start))
      (progn
        (goto-char start)
        (unless (looking-at "#[0-9a-fA-F]\\{6\\}")
          (error "Not on a hex color code"))
        (delete-region start end)
        (insert color))
      (error "No hex color code at point"))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org7ef0793" class="outline-2">
<h2 id="org7ef0793"><span class="section-number-2">60.</span> shell</h2>
<div class="outline-text-2" id="text-60">
<p>
Demonstrates customizations for shell integration within Emacs, optimizing settings for shell modes, command history, and shorthand functions for frequent shell-related tasks.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; shell
;;

(when (file-exists-p "/usr/bin/fish")
  (setq explicit-shell-file-name "/usr/bin/fish"))

(when (file-exists-p "/bin/fish")
  (setq shell-file-name "/bin/fish")

  (use-package chatgpt-shell
    :ensure t
    :custom
    ((chatgpt-shell-openai-key
       (lambda ()
         (auth-source-pass-get 'secret "openai-key"))))))

(defun my/eshell-hook ()
  "Set up company completions to be a little more fish like."
  (interactive)
  (define-key eshell-mode-map (kbd "&lt;tab&gt;") #'company-complete)
  (define-key eshell-hist-mode-map (kbd "M-r") #'consult-history))

(defun my/shell-hook ()
  "Set up company completions to be a little more fish like."
  (interactive)
  (define-key shell-mode-map (kbd "&lt;tab&gt;") #'company-complete)
  (define-key shell-mode-map (kbd "M-r") #'consult-history))

(use-package eshell
  :config
  (setq eshell-scroll-to-bottom-on-input t)
  (setq-local tab-always-indent 'complete)
  :hook
  (eshell-mode . my/eshell-hook))

(use-package shell
  :config
  (setq-local tab-always-indent 'complete)
  :hook
  (shell-mode . my/shell-hook))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgbc45d3e" class="outline-2">
<h2 id="orgbc45d3e"><span class="section-number-2">61.</span> calendar</h2>
<div class="outline-text-2" id="text-61">
<p>
Enhances Emacs's calendar functionalities with additional packages and configurations, highlighting integration with Org mode and customization options for calendar views and event handling.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; calendar
;;

(use-package calfw)
(use-package calfw-org)
(use-package calfw-cal)

(setq calendar-holidays nil)
(setq calendar-week-start-day 1)

(setq cfw:org-capture-template
  '("c" "Calendar" plain
     (file+function
       "~/DCIM/content/aaa--calendar.org"
       my-capture-top-level)
     "* TODO %?\n SCHEDULED: %(cfw:org-capture-day)\n"
     :prepend t :jump-to-captured t))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgec04584" class="outline-2">
<h2 id="orgec04584"><span class="section-number-2">62.</span> proced</h2>
<div class="outline-text-2" id="text-62">
<p>
Customizes Proced, the process editor, adjusting its appearance, behaviour, and providing filter and sorting options for a clearer overview of system processes.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; â€”&gt; proced
;;

(use-package proced
  :bind (("C-x x p" . proced)
          :map proced-mode-map
          ("f" . proced-narrow)
          ("P" . my/proced-toggle-update))
  :init
  (setq proced-auto-update-interval 1
    proced-enable-color-flag 1
    proced-format 'medium
    proced-sort 'rss)
  (defun my/proced-toggle-update()
    "Proced turn auto update on and off."
    (interactive)
    (if proced-auto-update-flag
      (proced-toggle-auto-update -1)
      (proced-toggle-auto-update 1)))
  (defun proced-settings()
    "Initial settings for proced-mode."
    (proced-toggle-auto-update 1))
  :hook
  ((proced-mode . (lambda ()
                    (interactive)
                    (proced-toggle-auto-update 1)))
    (proced-mode . proced-settings))
  :config
  (use-package proced-narrow
    :after proced))

</pre>
</div>
</div>
</div>

<div id="outline-container-org9a4362e" class="outline-2">
<h2 id="org9a4362e"><span class="section-number-2">63.</span> all-the-icons</h2>
<div class="outline-text-2" id="text-63">
<p>
Integrates the all-the-icons package for enhancing Emacs with iconography, demonstrating configurations for Dired mode, buffer listings, and completion frameworks.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; all-the-icons
;;

(use-package all-the-icons-ibuffer
  :ensure t
  :hook
  (ibuffer-mode . all-the-icons-ibuffer-mode))

(use-package all-the-icons-completion
  :ensure t
  :init
  (all-the-icons-completion-mode)
  :hook
  (marginalia-mode all-the-icons-completion-marginalia-setup))

(use-package all-the-icons-dired
  :diminish
  all-the-icons-dired-mode
  :hook
  (dired-mode . all-the-icons-dired-mode))

</pre>
</div>
</div>
</div>

<div id="outline-container-org31d03db" class="outline-2">
<h2 id="org31d03db"><span class="section-number-2">64.</span> repeat</h2>
<div class="outline-text-2" id="text-64">
<p>
I have for the moment decided that repeat-mode is not yet for me, I am currently using sticky keys in conjunction with sparse keymap creation.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; repeat
;;

(defun my/repeat-thing (func)
  "Call FUNC and set up a sparse keymap for repeating actions."
  (let ((map (make-sparse-keymap)))
    (define-key map (kbd "n") (lambda () (interactive) (my/repeat-thing #'my/next-thing)))
    (define-key map (kbd "p") (lambda () (interactive) (my/repeat-thing #'my/previous-thing)))
    (define-key map (kbd "j") (lambda () (interactive) (my/repeat-thing #'tab-bar-history-back)))
    (define-key map (kbd "k") (lambda () (interactive) (my/repeat-thing #'tab-bar-history-forward)))
    (define-key map (kbd "u") (lambda () (interactive) (my/repeat-thing #'my/window-shrink)))
    (define-key map (kbd "i") (lambda () (interactive) (my/repeat-thing #'my/window-enlarge)))
    (funcall func)
    (set-transient-map map t)))

(global-set-key (kbd "M-g n") (lambda () (interactive) (my/repeat-thing #'my/next-thing)))
(global-set-key (kbd "M-g p") (lambda () (interactive) (my/repeat-thing #'my/previous-thing)))
(global-set-key (kbd "C-x j") (lambda () (interactive) (my/repeat-thing #'tab-bar-history-back)))
(global-set-key (kbd "C-x k") (lambda () (interactive) (my/repeat-thing #'tab-bar-history-forward)))
(global-set-key (kbd "C-x u") (lambda () (interactive) (my/repeat-thing #'my/window-enlarge)))
(global-set-key (kbd "C-x i") (lambda () (interactive) (my/repeat-thing #'my/window-shrink)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orge870963" class="outline-2">
<h2 id="orge870963"><span class="section-number-2">65.</span> tab-bar</h2>
<div class="outline-text-2" id="text-65">
<p>
Details configurations for Emacs's tab bar, showcasing customizations for tab behaviour, appearance, and integration points for keyboard navigation and tab management.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; tab-bar
;;

(setq display-time-day-and-date t)
(setq display-time-interval 4)
(setq display-time-load-average-threshold 2.0)

(defun my-tab-line-buffer-name ()
  "Return the current buffer name for use in the tab line."
  (let ((buffer-name (buffer-name)))
    (propertize (concat buffer-name "  ") 'face 'default)))

(use-package tab-bar ;; 29.1
  :ensure nil ;; Since tab-bar is built-in, no package needs to be downloaded
  :init
  (tab-bar-mode 1) ;; 27.1
  (tab-bar-history-mode 1) ;; 27.1
  :custom
  (tab-bar-format '(tab-bar-format-tabs-groups
                     tab-bar-format-align-right
                     my-tab-line-buffer-name
                     tab-bar-format-global)) ;; 28.1
  ;; (tab-bar-select-tab-modifiers '(control)) ;; 27.1
  (tab-bar-new-button-show nil) ;; 27.1
  (tab-bar-close-button-show nil) ;; 27.1
  (tab-bar-history-limit 100) ;; 27.1
  (tab-bar-auto-width-max '(200 20)) ;; 29.1
  ;; (tab-bar-tab-hints t) ;; 27.1
  ;; (tab-bar-tab-name-format-function #'my-tab-bar-tab-name-format) ;; 28.1
  :config
  (defun my-tab-bar-tab-name-format (tab i)
    (propertize
      (format " %d " i)
      'face (funcall tab-bar-tab-face-function tab)))
  :bind
  (("M-u" . tab-bar-switch-to-prev-tab)
    ("M-i" . tab-bar-switch-to-next-tab)
    :repeat-map my/tab-bar-repeat-map
    ("u" . tab-bar-switch-to-prev-tab)
    ("i" . tab-bar-switch-to-next-tab)))

;; (use-package tab-bar ;; 27.1
;;   :ensure nil ;; Since tab-bar is built-in, no package needs to be downloaded
;;   :init
;;   (tab-bar-mode 1) ;; 27.1
;;   (tab-bar-history-mode 1) ;; 27.1
;;   :custom
;;   (tab-bar-select-tab-modifiers '(control)) ;; 27.1
;;   (tab-bar-new-button-show nil) ;; 27.1
;;   (tab-bar-close-button-show nil) ;; 27.1
;;   (tab-bar-history-limit 100) ;; 27.1
;;   (tab-bar-tab-hints t) ;; 27.1
;;   (tab-bar-tab-name-function 'tab-bar-tab-name-truncated) ;; *27.1
;;   (tab-bar-tab-name-truncated-max 1) ;; *27.1
;;   (tab-bar-tab-name-ellipsis " ") ;; *27.1
;;   :bind
;;   (("M-H" . tab-bar-switch-to-prev-tab) ;; 27.1
;;     ("M-L" . tab-bar-switch-to-next-tab) ;; 27.1
;;     ("M-u" . tab-bar-history-back) ;; 27.1
;;     ("M-i" . tab-bar-history-forward)) ;; 27.1
;;   :custom-face
;;   (tab-bar-tab ((t (:inherit tab-bar :box (:line-width (2 . 2) :color "#9c9c9c" :style flat))))) ;; 27.1
;;   (tab-bar-tab-inactive ((t (:inherit tab-bar :box (:line-width (2 . 2) :color "#575757" :style flat)))))) ;; 27.1

</pre>
</div>
</div>
</div>

<div id="outline-container-orgf7788f7" class="outline-2">
<h2 id="orgf7788f7"><span class="section-number-2">66.</span> word-count</h2>
<div class="outline-text-2" id="text-66">
<p>
Configures word count functionality, demonstrating custom word counting strategies for specific document sections or content types, optimizing for tasks like writing and documentation.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; word-count
;;

(use-package wc-mode
  ;; :hook
  ;; (org-mode . wc-mode)
  :custom
  (wc-modeline-format "WC:%tw"))

(defun my/word-count-function (rstart rend)
  "Counts words without lines containing 'DONE' 'PROPERTIES' 'END:' drawers.
Or indeed other filters as defined in the main unless from RSTART and REND."
  (let ((count 0))
    (save-excursion
      (goto-char rstart)
      ;; Loop over each line in the region
      (while (&lt; (point) rend)
        (let ((line (buffer-substring-no-properties (line-beginning-position)
                      (line-end-position))))
          ;; Only count words if the line doesn't contain DONE or is not between PROPERTIES and END
          ;; Or indeed other filters as defined below
          (unless (or
                    (string-match-p "\\* DONE" line)
                    (string-match-p "\\* TODO" line)
                    (string-match-p "file\:" line)
                    (and (string-match-p ":PROPERTIES:" line) (re-search-forward ":END:" nil t))
                    (and (string-match-p "\\#\\+begin" line) (re-search-forward "\\#\\+end" nil t))
                    (string-match-p "\\#\\+" line)
                    )
            (setq count (+ count (1+ (how-many " " (line-beginning-position) (line-end-position))))))
          ;; (setq count (+ count (length (split-string line "\\W+" t)))))
          ;; Go to the beginning of the next line
          (forward-line 1))))
    count))

;; Set the custom wc-mode counting function
(setq wc-count-words-function 'my/word-count-function)

</pre>
</div>
</div>
</div>

<div id="outline-container-orgf0ad746" class="outline-2">
<h2 id="orgf0ad746"><span class="section-number-2">67.</span> windows specific</h2>
<div class="outline-text-2" id="text-67">
<p>
Curates configurations specific to the Windows operating system, adjusting paths, fonts, and environment variables for optimal use of Emacs on Windows.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; windows-specific
;;

(when (eq system-type 'windows-nt)
  (setq home-dir "c:/users/jimbo")
  (let ((xPaths
          '("c:/GnuWin32/bin"
             "c:/GNAT/2021/bin")))
    (setenv "PATH" (mapconcat 'identity xPaths ";"))
    (setq exec-path (append xPaths (list "." exec-directory))))

  (custom-theme-set-faces
    'user
    '(variable-pitch ((t (:family "Monospace" :height 150 :weight normal))))
    '(fixed-pitch ((t ( :family "Monospace" :height 140)))))

  (setq font-general "Monospace 14")
  (set-frame-font font-general nil t)
  (add-to-list 'default-frame-alist `(font . ,font-general)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org02cc409" class="outline-2">
<h2 id="org02cc409"><span class="section-number-2">68.</span> linux specific</h2>
<div class="outline-text-2" id="text-68">
<p>
Curates configurations specific to Linux, making adjustments for paths, fonts, and system integrations ensuring Emacs is well integrated with the Linux desktop environment.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; linux specific
;;

(when (eq system-type 'gnu/linux)
  (define-key my-jump-keymap (kbd "a") #'emms-browse-by-album)
  (define-key my-jump-keymap (kbd "b") (lambda () (interactive) (find-file "~/bin")))
  (define-key my-jump-keymap (kbd "c") (lambda () (interactive) (find-file "~/DCIM/Camera")))
  (define-key my-jump-keymap (kbd "g") (lambda () (interactive) (find-file "~/.config")))
  (define-key my-jump-keymap (kbd "j") (lambda () (interactive) (find-file "~/DCIM/content/aad--todo.org")))
  (define-key my-jump-keymap (kbd "y") #'emms)
  (define-key my-jump-keymap (kbd "q") #'cfw:open-org-calendar)
  (define-key my-jump-keymap (kbd "s") (lambda () (interactive) (find-file "~/DCIM/Screenshots")))
  (define-key my-jump-keymap (kbd "w") (lambda () (interactive) (find-file "~/DCIM/content/")))

  (setq diary-file "~/DCIM/content/diary.org")

  (custom-theme-set-faces
    'user
    '(variable-pitch ((t (:family "Sans Serif" :height 140 :weight normal))))
    '(fixed-pitch ((t ( :family "Fira Code Retina" :height 130)))))

  (setq font-general "Monospace 12")
  (set-frame-font font-general nil t)
  (add-to-list 'default-frame-alist `(font . ,font-general)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orge1944ca" class="outline-2">
<h2 id="orge1944ca"><span class="section-number-2">69.</span> development</h2>
<div class="outline-text-2" id="text-69">
<p>
Shares miscellaneous development tools, tips, and functions, showcasing the versatility and extensibility of Emacs for a wide range of development tasks and personal workflows.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;;
;; -&gt; development
;;

(defun subtract-weight (weight-str avg-loss)
  "Subtract AVG-LOSS pounds from WEIGHT-STR given in 'stones:pounds' format."
  (let* ((stones-pounds (split-string weight-str ":"))
          (stones (string-to-number (car stones-pounds)))
          (pounds (string-to-number (cadr stones-pounds)))
          (total-pounds (+ pounds (* stones 14)))      ;; Convert stones to pounds
          (new-total-pounds (- total-pounds avg-loss)) ;; Subtract weight loss
          (new-stones (truncate (/ new-total-pounds 14))) ;; Calculate new stones
          (new-pounds (mod new-total-pounds 14)))      ;; Calculate remaining pounds
    (format "%d:%d" new-stones new-pounds)))         ;; Format new weight

(defun extrapolate-weight-loss (num-weeks)
  "Extrapolate weight loss for NUM-WEEKS using 'av/pd' value in org-table."
  (interactive "p")
  (save-excursion
    (let ((last-weight)
           (last-avg-loss 2.9)
           (last-date "")
           (week 0)
           (next-date ""))
      (print num-weeks)
      (when (org-at-table-p)
        (goto-char (org-table-end))
        ;; Find the last date and week number
        (search-backward-regexp "|\\s-?\\([0-9]+\\)\\s-?|\\s-?&lt;\\([0-9-]+\\)" nil t)
        (setq week (string-to-number (match-string 1)))
        (setq last-date (match-string 2))
        (setq last-weight "16:10")
        (goto-char (org-table-end))
        ;; Loop for num-weeks to generate new lines
        (dotimes (i num-weeks)
          (setq next-date
            (format-time-string "&lt;%Y-%m-%d %a&gt;"
              (time-add (org-time-string-to-time last-date)
                (days-to-time (+ (* i 7) 7))))) ;; add 7 days per week
          (setq week (+ week 1))
          (insert (format "| %d | %s | %s | | | | | | |\n"
                    week next-date (subtract-weight last-weight (* (+ i 1) last-avg-loss)))))
        )
      )
    )
  (org-table-align))

(defun my/get-window-regex (regex)
  "Find the first window displaying a buffer whose name matches the given REGEX.
If no such window is found, return nil."
  (let ((windows (window-list))
         (found-window nil))
    (dolist (window windows found-window)
      (when (string-match-p regex (buffer-name (window-buffer window)))
        (setq found-window window)
        (cl-return found-window)))))

(defun my/previous-thing ()
  "Go to the previous thing, meaning warning, error, grep, etc., based on ARG."
  (interactive)
  (let ((window))

    (setq window (my/get-window-regex "compilation"))
    (when window
      (select-window window)
      (re-search-backward "[[:digit:]]: warning:")
      (compile-goto-error))

    (setq window (my/get-window-regex "compile-log"))
    (when window
      (select-window window)
      (previous-error-no-select)
      (compile-goto-error))

    (setq window (my/get-window-regex "dead"))
    (when window
      (select-window window)
      (deadgrep-backward-match)
      (deadgrep-visit-result-other-window)
      (org-fold-show-entry))

    (setq window (my/get-window-regex "org agenda"))
    (when window
      (select-window window)
      (org-agenda-previous-item 1)
      (org-agenda-goto)
      (org-fold-show-entry))

    (setq window (my/get-window-regex "consult-ripgrep"))
    (when window
      (select-window window)
      (backward-button 1)
      (push-button)
      (org-fold-show-entry))

    (setq window (or (my/get-window-regex "occur")
                   (my/get-window-regex "flycheck errors")))
    (when window
      (select-window window)
      (previous-error))))

(defun my/next-thing ()
  "Go to the next thing, meaning warning, error, grep, etc., based on ARG."
  (interactive)
  (let ((window))

    (setq window (my/get-window-regex "compilation"))
    (when window
      (select-window window)
      (re-search-forward "[[:digit:]]: warning:")
      (compile-goto-error))

    (setq window (my/get-window-regex "compile-log"))
    (when window
      (select-window window)
      (next-error-no-select)
      (compile-goto-error))

    (setq window (my/get-window-regex "dead"))
    (when window
      (select-window window)
      (deadgrep-forward-match)
      (deadgrep-visit-result-other-window)
      (org-fold-show-entry))

    (setq window (my/get-window-regex "org agenda"))
    (when window
      (select-window window)
      (org-agenda-next-item 1)
      (org-agenda-goto)
      (org-fold-show-entry))

    (setq window (my/get-window-regex "consult-ripgrep"))
    (when window
      (select-window window)
      (forward-button 1)
      (push-button)
      (org-fold-show-entry))

    (setq window (or (my/get-window-regex "occur")
                   (my/get-window-regex "flycheck errors")))
    (when window
      (select-window window)
      (next-error))))

(defun my/dired-delete-async ()
  "Delete files asynchronously in Dired."
  (interactive)
  (if (eq delete-by-moving-to-trash t)
    (let ((files (dired-get-marked-files)))
      (dolist (file files)
        (async-shell-command (format "gio trash '%s'" file))))
    (message "Async deletion is set up only for trash. Set `delete-by-moving-to-trash` to t.")))

(defun my/switch-to-thing ()
  "Switch to a buffer, open a recent file, jump to a bookmark, or change the theme from a unified interface."
  (interactive)
  (let* ((buffers (mapcar #'buffer-name (buffer-list)))
          (recent-files recentf-list)
          (bookmarks (bookmark-all-names))
          (themes (custom-available-themes))
          (all-options (append buffers recent-files bookmarks
                         (mapcar (lambda (theme) (concat "Theme: " (symbol-name theme))) themes)))
          (selection (completing-read "Switch to: "
                       (lambda (str pred action)
                         (if (eq action 'metadata)
                           '(metadata . ((category . file)))
                           (complete-with-action action all-options str pred)))
                       nil t nil 'file-name-history)))
    (pcase selection
      ((pred (lambda (sel) (member sel buffers))) (switch-to-buffer selection))
      ((pred (lambda (sel) (member sel bookmarks))) (bookmark-jump selection))
      ((pred (lambda (sel) (string-prefix-p "Theme: " sel)))
        (load-theme (intern (substring selection (length "Theme: "))) t))
      (_ (find-file selection)))))

(global-set-key (kbd "C-t") 'transpose-sexps)

(setq org-icalendar-use-deadline
  '(event-if-not-todo event-if-todo event-if-todo-not-done todo-due))

(setq org-icalendar-use-scheduled
  '(event-if-not-todo event-if-todo event-if-todo-not-done todo-start))

(defun my/calc-subscription-cost ()
  (interactive)
  (let ((sum 0))
    (save-excursion
      (goto-char (point-min))
      ;; Search for the numeric pattern.
      (while (re-search-forward "\\([0-9]+\\.[0-9]+\\)" nil t)
        ;; Check if the current line does not contain "DONE"
        (unless (save-excursion
                  (beginning-of-line)
                  (re-search-forward "DONE" (line-end-position) t))
          ;; If "DONE" is not found on the line, process the number.
          (let ((amount (string-to-number (substring-no-properties (match-string 1)))))
            (setq sum (+ sum amount))
            (message "Adding: %.2f, Total: %.2f" amount sum)))))
    (message "Total: %.2f" sum)))

(bind-key* (kbd "C-c &lt;left&gt;") #'windmove-left)
(bind-key* (kbd "C-c &lt;right&gt;") #'windmove-right)
(bind-key* (kbd "C-c &lt;up&gt;") #'windmove-up)
(bind-key* (kbd "C-c &lt;down&gt;") #'windmove-down)

(if (and (fboundp 'native-comp-available-p)
      (native-comp-available-p))
  (message "Native compilation is available")
  (message "Native complation is *not* available"))

(add-hook 'chatgpt-shell-mode-hook 'visual-line-mode)

</pre>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: james dyer</p>
<p class="date">Created: 2024-03-14 Thu 16:43</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
