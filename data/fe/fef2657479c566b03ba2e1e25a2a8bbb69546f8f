<p>In working on the on-boarding for <a href="http://yummymelon.com/scrim">Scrim</a>, I’ve recently had to consider the scenario of setting up a fresh install of GNU Emacs on macOS (as of this writing v30.1). A number of things struck me, particularly on the user experience (or lack thereof) for new users of Emacs, nearly all of whom will be unfamiliar to Emacs commands and keybindings.</p>
<ol>
<li>There is no dedicated command to load the Emacs initialization file (in this case <code>~/.emacs</code>, which has yet to be created).</li>
<li>Using the menu bar (File › Open File…) will open a macOS File Browser dialog window, but does not show hidden files (like <code>.emacs</code>) by default.</li>
<li>The <code>customize-variable</code> command only works on variables that have been loaded.</li>
</ol>
<p>On point 1, it’s striking to me that this hasn’t been done already like… decades ago. New users won’t know a priori what the Emacs initialization file is (sidestepping the inside baseball of <code>.emacs</code> vs <code>init.el</code>) much less that such a file is not immediately created at the first launch of Emacs but the <code>~/.emacs.d/</code> directory is.</p>
<p>Further exacerbating this is point 2, where the menu bar action File › Open File… will open a native macOS file dialog instead of running <code>find-file</code>. However this dialog is not configured to show hidden files. When the dialog is raised, the user can use the macOS key-binding <code>Command + Shift + .</code> to show hidden files, but this is hardly a discoverable feature.</p>
<p>On point 3, while I’ve long been an advocate for using <code>customize-variable</code>, it fails for variables that are not <a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Autoload.html">autoloaded</a> (in this case <code>server-use-tcp</code>). A partial work-around is to run the command <code>describe-variable</code> which should implicitly load the package containing a non-autoloaded variable in order to describe it (although I would not be surprised if there are cases where you really have to load the package via <code>require</code>). Once the variable is described, a link is provided to customize it. Arguably, such details should never be surfaced to a new user.</p>
<p>Going back the lack of a dedicated command to load the Emacs initialization file, here’s some Elisp that implements it. Note that the variable <code>user-init-file</code> is already set to <code>~/.emacs</code> for a fresh install.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="p">(</span><span class="nb">defun</span><span class="w"> </span><span class="nv">find-user-init-file</span><span class="w"> </span><span class="p">()</span>
<span class="w">  </span><span class="s">&quot;Edit </span><span class="ss">`user-init-file&#39;</span><span class="s">.&quot;</span>
<span class="w">  </span><span class="p">(</span><span class="k">interactive</span><span class="p">)</span>
<span class="w">  </span><span class="p">(</span><span class="nv">find-file</span><span class="w"> </span><span class="nv">user-init-file</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>

<p>For most experienced Emacs users, this command has little value but it's not meant for them. It's meant for new users and should be built-in. First impressions matter!</p>